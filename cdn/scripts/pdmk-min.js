/*!
/ COPYRIGHT (c) 2014 CenturyLink, Inc.
/ SEE LICENSE-MIT FOR LICENSE TERMS
/ SEE CREDITS FOR CONTRIBUTIONS AND CREDITS FOR THIS PROJECT
/ AUTHOR: John R B Woodworth <John.Woodworth@CenturyLink.com>
/ SUPPORT CONTACT: plastic@centurylink.com
                                 ___  
            _______             /  /\                        ___
           /  ___  \        ___/  /  \__                    /  /\_________
          /  /\  )  )__    /  /  /   /__\                  /  /  \        \
         /  /  \/  / \_\__/__/  /   /  /\\_  ____         /  /  _/__      /\
        /  /___/  /  /  ____   /   /  ___  \/    \       /  / _/  _/\    /  \
       /  _______/  /  /\  /  /   /  /\  \___/)  /\___  /  /_/  _/\\ \  /    \
      /  /\      \ /  /  \/  /   /  /  \__\__/  /  \  \/      _/\\ \\/ /      \
     /  /  \______/   (__/  /   /  /   /    /  /   / //  _   /\\ \\/  /       /
    /  /   /      (________/   /__/   /    /__/   / //  / \  \ \\/   /       /
   /__/   /       /\       \  /\  \  /     \  \  / //__/   \__\/    /       /
   \  \  /       / /\_______\/ /\__\/       \__\/ /  \ \  / \  \   /       /
  / \__\/       / /           /__________________/  / \_\/   \__\ /       /
 /             / \___________/ \=                \ /____________ /       /
 \____________/   \=         \  \==               \ \=           \      /
  \=          \    \==        \  \===              \ \==          \    /
   \==         \    \===       \  \====_____________\/\===         \  /
    \===        \  / \====______\/                     \====________\/
     \====_______\/
 */
(function(a5,aE){var z,ai,q=a5.document,aL=a5.location,f=a5.navigator,bj=a5.jQuery,L=a5.$,ap=Array.prototype.push,a7=Array.prototype.slice,aN=Array.prototype.indexOf,C=Object.prototype.toString,Y=Object.prototype.hasOwnProperty,aR=String.prototype.trim,bJ=function(e,b2){return new bJ.fn.init(e,b2,z)},bA=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ad=/\S/,aY=/\s+/,F=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,br=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bi=/^[\],:{}\s]*$/,bl=/(?:^|:|,)(?:\s*\[)+/g,bG=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a3=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bS=/^-ms-/,aX=/-([\da-z])/gi,Q=function(e,b2){return(b2+"").toUpperCase()},aI=function(){if(q.addEventListener){q.removeEventListener("DOMContentLoaded",aI,false);bJ.ready()}else{if(q.readyState==="complete"){q.detachEvent("onreadystatechange",aI);bJ.ready()}}},ac={};bJ.fn=bJ.prototype={constructor:bJ,init:function(e,b5,b4){var b3,b6,b2,b7;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b3=[null,e,null]}else{b3=br.exec(e)}if(b3&&(b3[1]||!b5)){if(b3[1]){b5=b5 instanceof bJ?b5[0]:b5;b7=(b5&&b5.nodeType?b5.ownerDocument||b5:q);e=bJ.parseHTML(b3[1],b7,true);if(b.test(b3[1])&&bJ.isPlainObject(b5)){this.attr.call(e,b5,true)}return bJ.merge(this,e)}else{b6=q.getElementById(b3[2]);if(b6&&b6.parentNode){if(b6.id!==b3[2]){return b4.find(e)}this.length=1;this[0]=b6}this.context=q;this.selector=e;return this}}else{if(!b5||b5.jquery){return(b5||b4).find(e)}else{return this.constructor(b5).find(e)}}}else{if(bJ.isFunction(e)){return b4.ready(e)}}if(e.selector!==aE){this.selector=e.selector;this.context=e.context}return bJ.makeArray(e,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return a7.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(b2,b4,e){var b3=bJ.merge(this.constructor(),b2);b3.prevObject=this;b3.context=this.context;if(b4==="find"){b3.selector=this.selector+(this.selector?" ":"")+e}else{if(b4){b3.selector=this.selector+"."+b4+"("+e+")"}}return b3},each:function(b2,e){return bJ.each(this,b2,e)},ready:function(e){bJ.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a7.apply(this,arguments),"slice",a7.call(arguments).join(","))},map:function(e){return this.pushStack(bJ.map(this,function(b3,b2){return e.call(b3,b2,b3)}))},end:function(){return this.prevObject||this.constructor(null)},push:ap,sort:[].sort,splice:[].splice};bJ.fn.init.prototype=bJ.fn;bJ.extend=bJ.fn.extend=function(){var ca,b3,e,b2,b7,b8,b6=arguments[0]||{},b5=1,b4=arguments.length,b9=false;if(typeof b6==="boolean"){b9=b6;b6=arguments[1]||{};b5=2}if(typeof b6!=="object"&&!bJ.isFunction(b6)){b6={}}if(b4===b5){b6=this;--b5}for(;b5<b4;b5++){if((ca=arguments[b5])!=null){for(b3 in ca){e=b6[b3];b2=ca[b3];if(b6===b2){continue}if(b9&&b2&&(bJ.isPlainObject(b2)||(b7=bJ.isArray(b2)))){if(b7){b7=false;b8=e&&bJ.isArray(e)?e:[]}else{b8=e&&bJ.isPlainObject(e)?e:{}}b6[b3]=bJ.extend(b9,b8,b2)}else{if(b2!==aE){b6[b3]=b2}}}}}return b6};bJ.extend({noConflict:function(e){if(a5.$===bJ){a5.$=L}if(e&&a5.jQuery===bJ){a5.jQuery=bj}return bJ},isReady:false,readyWait:1,holdReady:function(e){if(e){bJ.readyWait++}else{bJ.ready(true)}},ready:function(e){if(e===true?--bJ.readyWait:bJ.isReady){return}if(!q.body){return setTimeout(bJ.ready,1)}bJ.isReady=true;if(e!==true&&--bJ.readyWait>0){return}ai.resolveWith(q,[bJ]);if(bJ.fn.trigger){bJ(q).trigger("ready").off("ready")}},isFunction:function(e){return bJ.type(e)==="function"},isArray:Array.isArray||function(e){return bJ.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):ac[C.call(e)]||"object"},isPlainObject:function(b4){if(!b4||bJ.type(b4)!=="object"||b4.nodeType||bJ.isWindow(b4)){return false}try{if(b4.constructor&&!Y.call(b4,"constructor")&&!Y.call(b4.constructor.prototype,"isPrototypeOf")){return false}}catch(b3){return false}var b2;for(b2 in b4){}return b2===aE||Y.call(b4,b2)},isEmptyObject:function(b2){var e;for(e in b2){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b4,b3,e){var b2;if(!b4||typeof b4!=="string"){return null}if(typeof b3==="boolean"){e=b3;b3=0}b3=b3||q;if((b2=b.exec(b4))){return[b3.createElement(b2[1])]}b2=bJ.buildFragment([b4],b3,e?null:[]);return bJ.merge([],(b2.cacheable?bJ.clone(b2.fragment):b2.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bJ.trim(e);if(a5.JSON&&a5.JSON.parse){return a5.JSON.parse(e)}if(bi.test(e.replace(bG,"@").replace(a3,"]").replace(bl,""))){return(new Function("return "+e))()}bJ.error("Invalid JSON: "+e)},parseXML:function(b4){var b2,b3;if(!b4||typeof b4!=="string"){return null}try{if(a5.DOMParser){b3=new DOMParser();b2=b3.parseFromString(b4,"text/xml")}else{b2=new ActiveXObject("Microsoft.XMLDOM");b2.async="false";b2.loadXML(b4)}}catch(b5){b2=aE}if(!b2||!b2.documentElement||b2.getElementsByTagName("parsererror").length){bJ.error("Invalid XML: "+b4)}return b2},noop:function(){},globalEval:function(e){if(e&&ad.test(e)){(a5.execScript||function(b2){a5["eval"].call(a5,b2)})(e)}},camelCase:function(e){return e.replace(bS,"ms-").replace(aX,Q)},nodeName:function(b2,e){return b2.nodeName&&b2.nodeName.toLowerCase()===e.toLowerCase()},each:function(b6,b7,b3){var b2,b4=0,b5=b6.length,e=b5===aE||bJ.isFunction(b6);if(b3){if(e){for(b2 in b6){if(b7.apply(b6[b2],b3)===false){break}}}else{for(;b4<b5;){if(b7.apply(b6[b4++],b3)===false){break}}}}else{if(e){for(b2 in b6){if(b7.call(b6[b2],b2,b6[b2])===false){break}}}else{for(;b4<b5;){if(b7.call(b6[b4],b4,b6[b4++])===false){break}}}}return b6},trim:aR&&!aR.call("\uFEFF\xA0")?function(e){return e==null?"":aR.call(e)}:function(e){return e==null?"":(e+"").replace(F,"")},makeArray:function(e,b3){var b4,b2=b3||[];if(e!=null){b4=bJ.type(e);if(e.length==null||b4==="string"||b4==="function"||b4==="regexp"||bJ.isWindow(e)){ap.call(b2,e)}else{bJ.merge(b2,e)}}return b2},inArray:function(b4,b2,b3){var e;if(b2){if(aN){return aN.call(b2,b4,b3)}e=b2.length;b3=b3?b3<0?Math.max(0,e+b3):b3:0;for(;b3<e;b3++){if(b3 in b2&&b2[b3]===b4){return b3}}}return -1},merge:function(b5,b3){var e=b3.length,b4=b5.length,b2=0;if(typeof e==="number"){for(;b2<e;b2++){b5[b4++]=b3[b2]}}else{while(b3[b2]!==aE){b5[b4++]=b3[b2++]}}b5.length=b4;return b5},grep:function(b2,b7,e){var b6,b3=[],b4=0,b5=b2.length;e=!!e;for(;b4<b5;b4++){b6=!!b7(b2[b4],b4);if(e!==b6){b3.push(b2[b4])}}return b3},map:function(e,b8,b9){var b6,b7,b5=[],b3=0,b2=e.length,b4=e instanceof bJ||b2!==aE&&typeof b2==="number"&&((b2>0&&e[0]&&e[b2-1])||b2===0||bJ.isArray(e));if(b4){for(;b3<b2;b3++){b6=b8(e[b3],b3,b9);if(b6!=null){b5[b5.length]=b6}}}else{for(b7 in e){b6=b8(e[b7],b7,b9);if(b6!=null){b5[b5.length]=b6}}}return b5.concat.apply([],b5)},guid:1,proxy:function(b5,b4){var b3,e,b2;if(typeof b4==="string"){b3=b5[b4];b4=b5;b5=b3}if(!bJ.isFunction(b5)){return aE}e=a7.call(arguments,2);b2=function(){return b5.apply(b4,e.concat(a7.call(arguments)))};b2.guid=b5.guid=b5.guid||bJ.guid++;return b2},access:function(e,b7,ca,b8,b5,cb,b9){var b3,b6=ca==null,b4=0,b2=e.length;if(ca&&typeof ca==="object"){for(b4 in ca){bJ.access(e,b7,b4,ca[b4],1,cb,b8)}b5=1}else{if(b8!==aE){b3=b9===aE&&bJ.isFunction(b8);if(b6){if(b3){b3=b7;b7=function(cd,cc,ce){return b3.call(bJ(cd),ce)}}else{b7.call(e,b8);b7=null}}if(b7){for(;b4<b2;b4++){b7(e[b4],ca,b3?b8.call(e[b4],b4,b7(e[b4],ca)):b8,b9)}}b5=1}}return b5?e:b6?b7.call(e):b2?b7(e[0],ca):cb},now:function(){return(new Date()).getTime()}});bJ.ready.promise=function(b5){if(!ai){ai=bJ.Deferred();if(q.readyState==="complete"){setTimeout(bJ.ready,1)}else{if(q.addEventListener){q.addEventListener("DOMContentLoaded",aI,false);a5.addEventListener("load",bJ.ready,false)}else{q.attachEvent("onreadystatechange",aI);a5.attachEvent("onload",bJ.ready);var b4=false;try{b4=a5.frameElement==null&&q.documentElement}catch(b3){}if(b4&&b4.doScroll){(function b2(){if(!bJ.isReady){try{b4.doScroll("left")}catch(b6){return setTimeout(b2,50)}bJ.ready()}})()}}}}return ai.promise(b5)};bJ.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b2,e){ac["[object "+e+"]"]=e.toLowerCase()});z=bJ(q);var bX={};function af(b2){var e=bX[b2]={};bJ.each(b2.split(aY),function(b4,b3){e[b3]=true});return e}bJ.Callbacks=function(cb){cb=typeof cb==="string"?(bX[cb]||af(cb)):bJ.extend({},cb);var b4,e,b5,b3,b6,b7,b8=[],b9=!cb.once&&[],b2=function(cc){b4=cb.memory&&cc;e=true;b7=b3||0;b3=0;b6=b8.length;b5=true;for(;b8&&b7<b6;b7++){if(b8[b7].apply(cc[0],cc[1])===false&&cb.stopOnFalse){b4=false;break}}b5=false;if(b8){if(b9){if(b9.length){b2(b9.shift())}}else{if(b4){b8=[]}else{ca.disable()}}}},ca={add:function(){if(b8){var cd=b8.length;(function cc(ce){bJ.each(ce,function(cg,cf){var ch=bJ.type(cf);if(ch==="function"&&(!cb.unique||!ca.has(cf))){b8.push(cf)}else{if(cf&&cf.length&&ch!=="string"){cc(cf)}}})})(arguments);if(b5){b6=b8.length}else{if(b4){b3=cd;b2(b4)}}}return this},remove:function(){if(b8){bJ.each(arguments,function(ce,cc){var cd;while((cd=bJ.inArray(cc,b8,cd))>-1){b8.splice(cd,1);if(b5){if(cd<=b6){b6--}if(cd<=b7){b7--}}}})}return this},has:function(cc){return bJ.inArray(cc,b8)>-1},empty:function(){b8=[];return this},disable:function(){b8=b9=b4=aE;return this},disabled:function(){return !b8},lock:function(){b9=aE;if(!b4){ca.disable()}return this},locked:function(){return !b9},fireWith:function(cd,cc){cc=cc||[];cc=[cd,cc.slice?cc.slice():cc];if(b8&&(!e||b9)){if(b5){b9.push(cc)}else{b2(cc)}}return this},fire:function(){ca.fireWith(this,arguments);return this},fired:function(){return !!e}};return ca};bJ.extend({Deferred:function(b3){var b2=[["resolve","done",bJ.Callbacks("once memory"),"resolved"],["reject","fail",bJ.Callbacks("once memory"),"rejected"],["notify","progress",bJ.Callbacks("memory")]],b4="pending",b5={state:function(){return b4},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b6=arguments;return bJ.Deferred(function(b7){bJ.each(b2,function(b9,b8){var cb=b8[0],ca=b6[b9];e[b8[1]](bJ.isFunction(ca)?function(){var cc=ca.apply(this,arguments);if(cc&&bJ.isFunction(cc.promise)){cc.promise().done(b7.resolve).fail(b7.reject).progress(b7.notify)}else{b7[cb+"With"](this===e?b7:this,[cc])}}:b7[cb])});b6=null}).promise()},promise:function(b6){return b6!=null?bJ.extend(b6,b5):b5}},e={};b5.pipe=b5.then;bJ.each(b2,function(b7,b6){var b9=b6[2],b8=b6[3];b5[b6[1]]=b9.add;if(b8){b9.add(function(){b4=b8},b2[b7^1][2].disable,b2[2][2].lock)}e[b6[0]]=b9.fire;e[b6[0]+"With"]=b9.fireWith});b5.promise(e);if(b3){b3.call(e,e)}return e},when:function(b5){var b3=0,b7=a7.call(arguments),e=b7.length,b2=e!==1||(b5&&bJ.isFunction(b5.promise))?e:0,ca=b2===1?b5:bJ.Deferred(),b4=function(cc,cd,cb){return function(ce){cd[cc]=this;cb[cc]=arguments.length>1?a7.call(arguments):ce;if(cb===b9){ca.notifyWith(cd,cb)}else{if(!(--b2)){ca.resolveWith(cd,cb)}}}},b9,b6,b8;if(e>1){b9=new Array(e);b6=new Array(e);b8=new Array(e);for(;b3<e;b3++){if(b7[b3]&&bJ.isFunction(b7[b3].promise)){b7[b3].promise().done(b4(b3,b8,b7)).fail(ca.reject).progress(b4(b3,b6,b9))}else{--b2}}}if(!b2){ca.resolveWith(b8,b7)}return ca.promise()}});bJ.support=(function(){var ce,cd,cb,cc,b5,ca,b9,b7,b6,b4,b2,b3=q.createElement("div");b3.setAttribute("className","t");b3.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cd=b3.getElementsByTagName("*");cb=b3.getElementsByTagName("a")[0];cb.style.cssText="top:1px;float:left;opacity:.5";if(!cd||!cd.length){return{}}cc=q.createElement("select");b5=cc.appendChild(q.createElement("option"));ca=b3.getElementsByTagName("input")[0];ce={leadingWhitespace:(b3.firstChild.nodeType===3),tbody:!b3.getElementsByTagName("tbody").length,htmlSerialize:!!b3.getElementsByTagName("link").length,style:/top/.test(cb.getAttribute("style")),hrefNormalized:(cb.getAttribute("href")==="/a"),opacity:/^0.5/.test(cb.style.opacity),cssFloat:!!cb.style.cssFloat,checkOn:(ca.value==="on"),optSelected:b5.selected,getSetAttribute:b3.className!=="t",enctype:!!q.createElement("form").enctype,html5Clone:q.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(q.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ca.checked=true;ce.noCloneChecked=ca.cloneNode(true).checked;cc.disabled=true;ce.optDisabled=!b5.disabled;try{delete b3.test}catch(b8){ce.deleteExpando=false}if(!b3.addEventListener&&b3.attachEvent&&b3.fireEvent){b3.attachEvent("onclick",b2=function(){ce.noCloneEvent=false});b3.cloneNode(true).fireEvent("onclick");b3.detachEvent("onclick",b2)}ca=q.createElement("input");ca.value="t";ca.setAttribute("type","radio");ce.radioValue=ca.value==="t";ca.setAttribute("checked","checked");ca.setAttribute("name","t");b3.appendChild(ca);b9=q.createDocumentFragment();b9.appendChild(b3.lastChild);ce.checkClone=b9.cloneNode(true).cloneNode(true).lastChild.checked;ce.appendChecked=ca.checked;b9.removeChild(ca);b9.appendChild(b3);if(b3.attachEvent){for(b6 in {submit:true,change:true,focusin:true}){b7="on"+b6;b4=(b7 in b3);if(!b4){b3.setAttribute(b7,"return;");b4=(typeof b3[b7]==="function")}ce[b6+"Bubbles"]=b4}}bJ(function(){var cf,cj,ch,ci,cg="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=q.getElementsByTagName("body")[0];if(!e){return}cf=q.createElement("div");cf.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(cf,e.firstChild);cj=q.createElement("div");cf.appendChild(cj);cj.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ch=cj.getElementsByTagName("td");ch[0].style.cssText="padding:0;margin:0;border:0;display:none";b4=(ch[0].offsetHeight===0);ch[0].style.display="";ch[1].style.display="none";ce.reliableHiddenOffsets=b4&&(ch[0].offsetHeight===0);cj.innerHTML="";cj.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ce.boxSizing=(cj.offsetWidth===4);ce.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a5.getComputedStyle){ce.pixelPosition=(a5.getComputedStyle(cj,null)||{}).top!=="1%";ce.boxSizingReliable=(a5.getComputedStyle(cj,null)||{width:"4px"}).width==="4px";ci=q.createElement("div");ci.style.cssText=cj.style.cssText=cg;ci.style.marginRight=ci.style.width="0";cj.style.width="1px";cj.appendChild(ci);ce.reliableMarginRight=!parseFloat((a5.getComputedStyle(ci,null)||{}).marginRight)}if(typeof cj.style.zoom!=="undefined"){cj.innerHTML="";cj.style.cssText=cg+"width:1px;padding:1px;display:inline;zoom:1";ce.inlineBlockNeedsLayout=(cj.offsetWidth===3);cj.style.display="block";cj.style.overflow="visible";cj.innerHTML="<div></div>";cj.firstChild.style.width="5px";ce.shrinkWrapBlocks=(cj.offsetWidth!==3);cf.style.zoom=1}e.removeChild(cf);cf=cj=ch=ci=null});b9.removeChild(b3);cd=cb=cc=b5=ca=b9=b3=null;return ce})();var bw=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aO=/([A-Z])/g;bJ.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bJ.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bJ.cache[e[bJ.expando]]:e[bJ.expando];return !!e&&!R(e)},data:function(b4,b2,b6,b5){if(!bJ.acceptData(b4)){return}var b7,b9,ca=bJ.expando,b8=typeof b2==="string",cb=b4.nodeType,e=cb?bJ.cache:b4,b3=cb?b4[ca]:b4[ca]&&ca;if((!b3||!e[b3]||(!b5&&!e[b3].data))&&b8&&b6===aE){return}if(!b3){if(cb){b4[ca]=b3=bJ.deletedIds.pop()||bJ.guid++}else{b3=ca}}if(!e[b3]){e[b3]={};if(!cb){e[b3].toJSON=bJ.noop}}if(typeof b2==="object"||typeof b2==="function"){if(b5){e[b3]=bJ.extend(e[b3],b2)}else{e[b3].data=bJ.extend(e[b3].data,b2)}}b7=e[b3];if(!b5){if(!b7.data){b7.data={}}b7=b7.data}if(b6!==aE){b7[bJ.camelCase(b2)]=b6}if(b8){b9=b7[b2];if(b9==null){b9=b7[bJ.camelCase(b2)]}}else{b9=b7}return b9},removeData:function(b4,b2,b5){if(!bJ.acceptData(b4)){return}var b8,b7,b6,b9=b4.nodeType,e=b9?bJ.cache:b4,b3=b9?b4[bJ.expando]:bJ.expando;if(!e[b3]){return}if(b2){b8=b5?e[b3]:e[b3].data;if(b8){if(!bJ.isArray(b2)){if(b2 in b8){b2=[b2]}else{b2=bJ.camelCase(b2);if(b2 in b8){b2=[b2]}else{b2=b2.split(" ")}}}for(b7=0,b6=b2.length;b7<b6;b7++){delete b8[b2[b7]]}if(!(b5?R:bJ.isEmptyObject)(b8)){return}}}if(!b5){delete e[b3].data;if(!R(e[b3])){return}}if(b9){bJ.cleanData([b4],true)}else{if(bJ.support.deleteExpando||e!=e.window){delete e[b3]}else{e[b3]=null}}},_data:function(b2,e,b3){return bJ.data(b2,e,b3,true)},acceptData:function(b2){var e=b2.nodeName&&bJ.noData[b2.nodeName.toLowerCase()];return !e||e!==true&&b2.getAttribute("classid")===e}});bJ.fn.extend({data:function(ca,b9){var b5,b2,b8,e,b4,b3=this[0],b7=0,b6=null;if(ca===aE){if(this.length){b6=bJ.data(b3);if(b3.nodeType===1&&!bJ._data(b3,"parsedAttrs")){b8=b3.attributes;for(b4=b8.length;b7<b4;b7++){e=b8[b7].name;if(!e.indexOf("data-")){e=bJ.camelCase(e.substring(5));by(b3,e,b6[e])}}bJ._data(b3,"parsedAttrs",true)}}return b6}if(typeof ca==="object"){return this.each(function(){bJ.data(this,ca)})}b5=ca.split(".",2);b5[1]=b5[1]?"."+b5[1]:"";b2=b5[1]+"!";return bJ.access(this,function(cb){if(cb===aE){b6=this.triggerHandler("getData"+b2,[b5[0]]);if(b6===aE&&b3){b6=bJ.data(b3,ca);b6=by(b3,ca,b6)}return b6===aE&&b5[1]?this.data(b5[0]):b6}b5[1]=cb;this.each(function(){var cc=bJ(this);cc.triggerHandler("setData"+b2,b5);bJ.data(this,ca,cb);cc.triggerHandler("changeData"+b2,b5)})},null,b9,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bJ.removeData(this,e)})}});function by(b4,b3,b5){if(b5===aE&&b4.nodeType===1){var b2="data-"+b3.replace(aO,"-$1").toLowerCase();b5=b4.getAttribute(b2);if(typeof b5==="string"){try{b5=b5==="true"?true:b5==="false"?false:b5==="null"?null:+b5+""===b5?+b5:bw.test(b5)?bJ.parseJSON(b5):b5}catch(b6){}bJ.data(b4,b3,b5)}else{b5=aE}}return b5}function R(b2){var e;for(e in b2){if(e==="data"&&bJ.isEmptyObject(b2[e])){continue}if(e!=="toJSON"){return false}}return true}bJ.extend({queue:function(b3,b2,b4){var e;if(b3){b2=(b2||"fx")+"queue";e=bJ._data(b3,b2);if(b4){if(!e||bJ.isArray(b4)){e=bJ._data(b3,b2,bJ.makeArray(b4))}else{e.push(b4)}}return e||[]}},dequeue:function(b6,b5){b5=b5||"fx";var b2=bJ.queue(b6,b5),b7=b2.length,b4=b2.shift(),e=bJ._queueHooks(b6,b5),b3=function(){bJ.dequeue(b6,b5)};if(b4==="inprogress"){b4=b2.shift();b7--}if(b4){if(b5==="fx"){b2.unshift("inprogress")}delete e.stop;b4.call(b6,b3,e)}if(!b7&&e){e.empty.fire()}},_queueHooks:function(b3,b2){var e=b2+"queueHooks";return bJ._data(b3,e)||bJ._data(b3,e,{empty:bJ.Callbacks("once memory").add(function(){bJ.removeData(b3,b2+"queue",true);bJ.removeData(b3,e,true)})})}});bJ.fn.extend({queue:function(e,b2){var b3=2;if(typeof e!=="string"){b2=e;e="fx";b3--}if(arguments.length<b3){return bJ.queue(this[0],e)}return b2===aE?this:this.each(function(){var b4=bJ.queue(this,e,b2);bJ._queueHooks(this,e);if(e==="fx"&&b4[0]!=="inprogress"){bJ.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bJ.dequeue(this,e)})},delay:function(b2,e){b2=bJ.fx?bJ.fx.speeds[b2]||b2:b2;e=e||"fx";return this.queue(e,function(b4,b3){var b5=setTimeout(b4,b2);b3.stop=function(){clearTimeout(b5)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b3,b7){var b2,b4=1,b8=bJ.Deferred(),b6=this,e=this.length,b5=function(){if(!(--b4)){b8.resolveWith(b6,[b6])}};if(typeof b3!=="string"){b7=b3;b3=aE}b3=b3||"fx";while(e--){b2=bJ._data(b6[e],b3+"queueHooks");if(b2&&b2.empty){b4++;b2.empty.add(b5)}}b5();return b8.promise(b7)}});var ba,bY,p,bM=/[\t\r\n]/g,al=/\r/g,l=/^(?:button|input)$/i,aD=/^(?:button|input|object|select|textarea)$/i,G=/^a(?:rea|)$/i,P=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bO=bJ.support.getSetAttribute;bJ.fn.extend({attr:function(e,b2){return bJ.access(this,bJ.attr,e,b2,arguments.length>1)},removeAttr:function(e){return this.each(function(){bJ.removeAttr(this,e)})},prop:function(e,b2){return bJ.access(this,bJ.prop,e,b2,arguments.length>1)},removeProp:function(e){e=bJ.propFix[e]||e;return this.each(function(){try{this[e]=aE;delete this[e]}catch(b2){}})},addClass:function(b5){var b7,b3,b2,b4,b6,b8,e;if(bJ.isFunction(b5)){return this.each(function(b9){bJ(this).addClass(b5.call(this,b9,this.className))})}if(b5&&typeof b5==="string"){b7=b5.split(aY);for(b3=0,b2=this.length;b3<b2;b3++){b4=this[b3];if(b4.nodeType===1){if(!b4.className&&b7.length===1){b4.className=b5}else{b6=" "+b4.className+" ";for(b8=0,e=b7.length;b8<e;b8++){if(b6.indexOf(" "+b7[b8]+" ")<0){b6+=b7[b8]+" "}}b4.className=bJ.trim(b6)}}}}return this},removeClass:function(b7){var b4,b5,b6,b8,b2,b3,e;if(bJ.isFunction(b7)){return this.each(function(b9){bJ(this).removeClass(b7.call(this,b9,this.className))})}if((b7&&typeof b7==="string")||b7===aE){b4=(b7||"").split(aY);for(b3=0,e=this.length;b3<e;b3++){b6=this[b3];if(b6.nodeType===1&&b6.className){b5=(" "+b6.className+" ").replace(bM," ");for(b8=0,b2=b4.length;b8<b2;b8++){while(b5.indexOf(" "+b4[b8]+" ")>=0){b5=b5.replace(" "+b4[b8]+" "," ")}}b6.className=b7?bJ.trim(b5):""}}}return this},toggleClass:function(b4,b2){var b3=typeof b4,e=typeof b2==="boolean";if(bJ.isFunction(b4)){return this.each(function(b5){bJ(this).toggleClass(b4.call(this,b5,this.className,b2),b2)})}return this.each(function(){if(b3==="string"){var b7,b6=0,b5=bJ(this),b8=b2,b9=b4.split(aY);while((b7=b9[b6++])){b8=e?b8:!b5.hasClass(b7);b5[b8?"addClass":"removeClass"](b7)}}else{if(b3==="undefined"||b3==="boolean"){if(this.className){bJ._data(this,"__className__",this.className)}this.className=this.className||b4===false?"":bJ._data(this,"__className__")||""}}})},hasClass:function(e){var b4=" "+e+" ",b3=0,b2=this.length;for(;b3<b2;b3++){if(this[b3].nodeType===1&&(" "+this[b3].className+" ").replace(bM," ").indexOf(b4)>=0){return true}}return false},val:function(b4){var e,b2,b5,b3=this[0];if(!arguments.length){if(b3){e=bJ.valHooks[b3.type]||bJ.valHooks[b3.nodeName.toLowerCase()];if(e&&"get" in e&&(b2=e.get(b3,"value"))!==aE){return b2}b2=b3.value;return typeof b2==="string"?b2.replace(al,""):b2==null?"":b2}return}b5=bJ.isFunction(b4);return this.each(function(b7){var b8,b6=bJ(this);if(this.nodeType!==1){return}if(b5){b8=b4.call(this,b7,b6.val())}else{b8=b4}if(b8==null){b8=""}else{if(typeof b8==="number"){b8+=""}else{if(bJ.isArray(b8)){b8=bJ.map(b8,function(b9){return b9==null?"":b9+""})}}}e=bJ.valHooks[this.type]||bJ.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b8,"value")===aE){this.value=b8}})}});bJ.extend({valHooks:{option:{get:function(e){var b2=e.attributes.value;return !b2||b2.specified?e.value:e.text}},select:{get:function(e){var b7,b2,b6,b4,b5=e.selectedIndex,b8=[],b9=e.options,b3=e.type==="select-one";if(b5<0){return null}b2=b3?b5:0;b6=b3?b5+1:b9.length;for(;b2<b6;b2++){b4=b9[b2];if(b4.selected&&(bJ.support.optDisabled?!b4.disabled:b4.getAttribute("disabled")===null)&&(!b4.parentNode.disabled||!bJ.nodeName(b4.parentNode,"optgroup"))){b7=bJ(b4).val();if(b3){return b7}b8.push(b7)}}if(b3&&!b8.length&&b9.length){return bJ(b9[b5]).val()}return b8},set:function(b2,b3){var e=bJ.makeArray(b3);bJ(b2).find("option").each(function(){this.selected=bJ.inArray(bJ(this).val(),e)>=0});if(!e.length){b2.selectedIndex=-1}return e}}},attrFn:{},attr:function(b7,b4,b8,b6){var b3,e,b5,b2=b7.nodeType;if(!b7||b2===3||b2===8||b2===2){return}if(b6&&bJ.isFunction(bJ.fn[b4])){return bJ(b7)[b4](b8)}if(typeof b7.getAttribute==="undefined"){return bJ.prop(b7,b4,b8)}b5=b2!==1||!bJ.isXMLDoc(b7);if(b5){b4=b4.toLowerCase();e=bJ.attrHooks[b4]||(P.test(b4)?bY:ba)}if(b8!==aE){if(b8===null){bJ.removeAttr(b7,b4);return}else{if(e&&"set" in e&&b5&&(b3=e.set(b7,b8,b4))!==aE){return b3}else{b7.setAttribute(b4,b8+"");return b8}}}else{if(e&&"get" in e&&b5&&(b3=e.get(b7,b4))!==null){return b3}else{b3=b7.getAttribute(b4);return b3===null?aE:b3}}},removeAttr:function(b4,b6){var b5,b7,b2,e,b3=0;if(b6&&b4.nodeType===1){b7=b6.split(aY);for(;b3<b7.length;b3++){b2=b7[b3];if(b2){b5=bJ.propFix[b2]||b2;e=P.test(b2);if(!e){bJ.attr(b4,b2,"")}b4.removeAttribute(bO?b2:b5);if(e&&b5 in b4){b4[b5]=false}}}}},attrHooks:{type:{set:function(e,b2){if(l.test(e.nodeName)&&e.parentNode){bJ.error("type property can't be changed")}else{if(!bJ.support.radioValue&&b2==="radio"&&bJ.nodeName(e,"input")){var b3=e.value;e.setAttribute("type",b2);if(b3){e.value=b3}return b2}}}},value:{get:function(b2,e){if(ba&&bJ.nodeName(b2,"button")){return ba.get(b2,e)}return e in b2?b2.value:null},set:function(b2,b3,e){if(ba&&bJ.nodeName(b2,"button")){return ba.set(b2,b3,e)}b2.value=b3}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b6,b4,b7){var b3,e,b5,b2=b6.nodeType;if(!b6||b2===3||b2===8||b2===2){return}b5=b2!==1||!bJ.isXMLDoc(b6);if(b5){b4=bJ.propFix[b4]||b4;e=bJ.propHooks[b4]}if(b7!==aE){if(e&&"set" in e&&(b3=e.set(b6,b7,b4))!==aE){return b3}else{return(b6[b4]=b7)}}else{if(e&&"get" in e&&(b3=e.get(b6,b4))!==null){return b3}else{return b6[b4]}}},propHooks:{tabIndex:{get:function(b2){var e=b2.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aD.test(b2.nodeName)||G.test(b2.nodeName)&&b2.href?0:aE}}}});bY={get:function(b2,e){var b4,b3=bJ.prop(b2,e);return b3===true||typeof b3!=="boolean"&&(b4=b2.getAttributeNode(e))&&b4.nodeValue!==false?e.toLowerCase():aE},set:function(b2,b4,e){var b3;if(b4===false){bJ.removeAttr(b2,e)}else{b3=bJ.propFix[e]||e;if(b3 in b2){b2[b3]=true}b2.setAttribute(e,e.toLowerCase())}return e}};if(!bO){p={name:true,id:true,coords:true};ba=bJ.valHooks.button={get:function(b3,b2){var e;e=b3.getAttributeNode(b2);return e&&(p[b2]?e.value!=="":e.specified)?e.value:aE},set:function(b3,b4,b2){var e=b3.getAttributeNode(b2);if(!e){e=q.createAttribute(b2);b3.setAttributeNode(e)}return(e.value=b4+"")}};bJ.each(["width","height"],function(b2,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{set:function(b3,b4){if(b4===""){b3.setAttribute(e,"auto");return b4}}})});bJ.attrHooks.contenteditable={get:ba.get,set:function(b2,b3,e){if(b3===""){b3="false"}ba.set(b2,b3,e)}}}if(!bJ.support.hrefNormalized){bJ.each(["href","src","width","height"],function(b2,e){bJ.attrHooks[e]=bJ.extend(bJ.attrHooks[e],{get:function(b4){var b3=b4.getAttribute(e,2);return b3===null?aE:b3}})})}if(!bJ.support.style){bJ.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aE},set:function(e,b2){return(e.style.cssText=b2+"")}}}if(!bJ.support.optSelected){bJ.propHooks.selected=bJ.extend(bJ.propHooks.selected,{get:function(b2){var e=b2.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bJ.support.enctype){bJ.propFix.enctype="encoding"}if(!bJ.support.checkOn){bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bJ.each(["radio","checkbox"],function(){bJ.valHooks[this]=bJ.extend(bJ.valHooks[this],{set:function(e,b2){if(bJ.isArray(b2)){return(e.checked=bJ.inArray(bJ(e).val(),b2)>=0)}}})});var bH=/^(?:textarea|input|select)$/i,bu=/^([^\.]*|)(?:\.(.+)|)$/,bd=/(?:^|\s)hover(\.\S+|)\b/,a6=/^key/,bN=/^(?:mouse|contextmenu)|click/,bB=/^(?:focusinfocus|focusoutblur)$/,au=function(e){return bJ.event.special.hover?e:e.replace(bd,"mouseenter$1 mouseleave$1")};bJ.event={add:function(b4,b8,cf,b6,b5){var b9,b7,cg,ce,cd,cb,e,cc,b2,b3,ca;if(b4.nodeType===3||b4.nodeType===8||!b8||!cf||!(b9=bJ._data(b4))){return}if(cf.handler){b2=cf;cf=b2.handler;b5=b2.selector}if(!cf.guid){cf.guid=bJ.guid++}cg=b9.events;if(!cg){b9.events=cg={}}b7=b9.handle;if(!b7){b9.handle=b7=function(ch){return typeof bJ!=="undefined"&&(!ch||bJ.event.triggered!==ch.type)?bJ.event.dispatch.apply(b7.elem,arguments):aE};b7.elem=b4}b8=bJ.trim(au(b8)).split(" ");for(ce=0;ce<b8.length;ce++){cd=bu.exec(b8[ce])||[];cb=cd[1];e=(cd[2]||"").split(".").sort();ca=bJ.event.special[cb]||{};cb=(b5?ca.delegateType:ca.bindType)||cb;ca=bJ.event.special[cb]||{};cc=bJ.extend({type:cb,origType:cd[1],data:b6,handler:cf,guid:cf.guid,selector:b5,needsContext:b5&&bJ.expr.match.needsContext.test(b5),namespace:e.join(".")},b2);b3=cg[cb];if(!b3){b3=cg[cb]=[];b3.delegateCount=0;if(!ca.setup||ca.setup.call(b4,b6,e,b7)===false){if(b4.addEventListener){b4.addEventListener(cb,b7,false)}else{if(b4.attachEvent){b4.attachEvent("on"+cb,b7)}}}}if(ca.add){ca.add.call(b4,cc);if(!cc.handler.guid){cc.handler.guid=cf.guid}}if(b5){b3.splice(b3.delegateCount++,0,cc)}else{b3.push(cc)}bJ.event.global[cb]=true}b4=null},global:{},remove:function(b4,b9,cf,b5,b8){var cg,ch,cc,b3,b2,b6,b7,ce,cb,e,cd,ca=bJ.hasData(b4)&&bJ._data(b4);if(!ca||!(ce=ca.events)){return}b9=bJ.trim(au(b9||"")).split(" ");for(cg=0;cg<b9.length;cg++){ch=bu.exec(b9[cg])||[];cc=b3=ch[1];b2=ch[2];if(!cc){for(cc in ce){bJ.event.remove(b4,cc+b9[cg],cf,b5,true)}continue}cb=bJ.event.special[cc]||{};cc=(b5?cb.delegateType:cb.bindType)||cc;e=ce[cc]||[];b6=e.length;b2=b2?new RegExp("(^|\\.)"+b2.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b7=0;b7<e.length;b7++){cd=e[b7];if((b8||b3===cd.origType)&&(!cf||cf.guid===cd.guid)&&(!b2||b2.test(cd.namespace))&&(!b5||b5===cd.selector||b5==="**"&&cd.selector)){e.splice(b7--,1);if(cd.selector){e.delegateCount--}if(cb.remove){cb.remove.call(b4,cd)}}}if(e.length===0&&b6!==e.length){if(!cb.teardown||cb.teardown.call(b4,b2,ca.handle)===false){bJ.removeEvent(b4,cc,ca.handle)}delete ce[cc]}}if(bJ.isEmptyObject(ce)){delete ca.handle;bJ.removeData(b4,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b2,b9,b7,cg){if(b7&&(b7.nodeType===3||b7.nodeType===8)){return}var e,b4,ca,ce,b6,b5,cc,cb,b8,cf,cd=b2.type||b2,b3=[];if(bB.test(cd+bJ.event.triggered)){return}if(cd.indexOf("!")>=0){cd=cd.slice(0,-1);b4=true}if(cd.indexOf(".")>=0){b3=cd.split(".");cd=b3.shift();b3.sort()}if((!b7||bJ.event.customEvent[cd])&&!bJ.event.global[cd]){return}b2=typeof b2==="object"?b2[bJ.expando]?b2:new bJ.Event(cd,b2):new bJ.Event(cd);b2.type=cd;b2.isTrigger=true;b2.exclusive=b4;b2.namespace=b3.join(".");b2.namespace_re=b2.namespace?new RegExp("(^|\\.)"+b3.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b5=cd.indexOf(":")<0?"on"+cd:"";if(!b7){e=bJ.cache;for(ca in e){if(e[ca].events&&e[ca].events[cd]){bJ.event.trigger(b2,b9,e[ca].handle.elem,true)}}return}b2.result=aE;if(!b2.target){b2.target=b7}b9=b9!=null?bJ.makeArray(b9):[];b9.unshift(b2);cc=bJ.event.special[cd]||{};if(cc.trigger&&cc.trigger.apply(b7,b9)===false){return}b8=[[b7,cc.bindType||cd]];if(!cg&&!cc.noBubble&&!bJ.isWindow(b7)){cf=cc.delegateType||cd;ce=bB.test(cf+cd)?b7:b7.parentNode;for(b6=b7;ce;ce=ce.parentNode){b8.push([ce,cf]);b6=ce}if(b6===(b7.ownerDocument||q)){b8.push([b6.defaultView||b6.parentWindow||a5,cf])}}for(ca=0;ca<b8.length&&!b2.isPropagationStopped();ca++){ce=b8[ca][0];b2.type=b8[ca][1];cb=(bJ._data(ce,"events")||{})[b2.type]&&bJ._data(ce,"handle");if(cb){cb.apply(ce,b9)}cb=b5&&ce[b5];if(cb&&bJ.acceptData(ce)&&cb.apply&&cb.apply(ce,b9)===false){b2.preventDefault()}}b2.type=cd;if(!cg&&!b2.isDefaultPrevented()){if((!cc._default||cc._default.apply(b7.ownerDocument,b9)===false)&&!(cd==="click"&&bJ.nodeName(b7,"a"))&&bJ.acceptData(b7)){if(b5&&b7[cd]&&((cd!=="focus"&&cd!=="blur")||b2.target.offsetWidth!==0)&&!bJ.isWindow(b7)){b6=b7[b5];if(b6){b7[b5]=null}bJ.event.triggered=cd;b7[cd]();bJ.event.triggered=aE;if(b6){b7[b5]=b6}}}}return b2.result},dispatch:function(e){e=bJ.event.fix(e||a5.event);var b8,b7,ch,cb,ca,b2,b9,cf,b4,cg,b5=((bJ._data(this,"events")||{})[e.type]||[]),b6=b5.delegateCount,cd=a7.call(arguments),b3=!e.exclusive&&!e.namespace,cc=bJ.event.special[e.type]||{},ce=[];cd[0]=e;e.delegateTarget=this;if(cc.preDispatch&&cc.preDispatch.call(this,e)===false){return}if(b6&&!(e.button&&e.type==="click")){for(ch=e.target;ch!=this;ch=ch.parentNode||this){if(ch.disabled!==true||e.type!=="click"){ca={};b9=[];for(b8=0;b8<b6;b8++){cf=b5[b8];b4=cf.selector;if(ca[b4]===aE){ca[b4]=cf.needsContext?bJ(b4,this).index(ch)>=0:bJ.find(b4,this,null,[ch]).length}if(ca[b4]){b9.push(cf)}}if(b9.length){ce.push({elem:ch,matches:b9})}}}}if(b5.length>b6){ce.push({elem:this,matches:b5.slice(b6)})}for(b8=0;b8<ce.length&&!e.isPropagationStopped();b8++){b2=ce[b8];e.currentTarget=b2.elem;for(b7=0;b7<b2.matches.length&&!e.isImmediatePropagationStopped();b7++){cf=b2.matches[b7];if(b3||(!e.namespace&&!cf.namespace)||e.namespace_re&&e.namespace_re.test(cf.namespace)){e.data=cf.data;e.handleObj=cf;cb=((bJ.event.special[cf.origType]||{}).handle||cf.handler).apply(b2.elem,cd);if(cb!==aE){e.result=cb;if(cb===false){e.preventDefault();e.stopPropagation()}}}}}if(cc.postDispatch){cc.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b2,e){if(b2.which==null){b2.which=e.charCode!=null?e.charCode:e.keyCode}return b2}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b4,b3){var b5,b6,e,b2=b3.button,b7=b3.fromElement;if(b4.pageX==null&&b3.clientX!=null){b5=b4.target.ownerDocument||q;b6=b5.documentElement;e=b5.body;b4.pageX=b3.clientX+(b6&&b6.scrollLeft||e&&e.scrollLeft||0)-(b6&&b6.clientLeft||e&&e.clientLeft||0);b4.pageY=b3.clientY+(b6&&b6.scrollTop||e&&e.scrollTop||0)-(b6&&b6.clientTop||e&&e.clientTop||0)}if(!b4.relatedTarget&&b7){b4.relatedTarget=b7===b4.target?b3.toElement:b7}if(!b4.which&&b2!==aE){b4.which=(b2&1?1:(b2&2?3:(b2&4?2:0)))}return b4}},fix:function(b3){if(b3[bJ.expando]){return b3}var b2,b6,e=b3,b4=bJ.event.fixHooks[b3.type]||{},b5=b4.props?this.props.concat(b4.props):this.props;b3=bJ.Event(e);for(b2=b5.length;b2;){b6=b5[--b2];b3[b6]=e[b6]}if(!b3.target){b3.target=e.srcElement||q}if(b3.target.nodeType===3){b3.target=b3.target.parentNode}b3.metaKey=!!b3.metaKey;return b4.filter?b4.filter(b3,e):b3},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b3,b2,e){if(bJ.isWindow(this)){this.onbeforeunload=e}},teardown:function(b2,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b3,b5,b4,b2){var b6=bJ.extend(new bJ.Event(),b4,{type:b3,isSimulated:true,originalEvent:{}});if(b2){bJ.event.trigger(b6,null,b5)}else{bJ.event.dispatch.call(b5,b6)}if(b6.isDefaultPrevented()){b4.preventDefault()}}};bJ.event.handle=bJ.event.dispatch;bJ.removeEvent=q.removeEventListener?function(b2,e,b3){if(b2.removeEventListener){b2.removeEventListener(e,b3,false)}}:function(b3,b2,b4){var e="on"+b2;if(b3.detachEvent){if(typeof b3[e]==="undefined"){b3[e]=null}b3.detachEvent(e,b4)}};bJ.Event=function(b2,e){if(!(this instanceof bJ.Event)){return new bJ.Event(b2,e)}if(b2&&b2.type){this.originalEvent=b2;this.type=b2.type;this.isDefaultPrevented=(b2.defaultPrevented||b2.returnValue===false||b2.getPreventDefault&&b2.getPreventDefault())?U:aa}else{this.type=b2}if(e){bJ.extend(this,e)}this.timeStamp=b2&&b2.timeStamp||bJ.now();this[bJ.expando]=true};function aa(){return false}function U(){return true}bJ.Event.prototype={preventDefault:function(){this.isDefaultPrevented=U;var b2=this.originalEvent;if(!b2){return}if(b2.preventDefault){b2.preventDefault()}else{b2.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=U;var b2=this.originalEvent;if(!b2){return}if(b2.stopPropagation){b2.stopPropagation()}b2.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U;this.stopPropagation()},isDefaultPrevented:aa,isPropagationStopped:aa,isImmediatePropagationStopped:aa};bJ.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b2,e){bJ.event.special[b2]={delegateType:e,bindType:e,handle:function(b6){var b4,b8=this,b7=b6.relatedTarget,b5=b6.handleObj,b3=b5.selector;if(!b7||(b7!==b8&&!bJ.contains(b8,b7))){b6.type=b5.origType;b4=b5.handler.apply(this,arguments);b6.type=e}return b4}}});if(!bJ.support.submitBubbles){bJ.event.special.submit={setup:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.add(this,"click._submit keypress._submit",function(b4){var b3=b4.target,b2=bJ.nodeName(b3,"input")||bJ.nodeName(b3,"button")?b3.form:aE;if(b2&&!bJ._data(b2,"_submit_attached")){bJ.event.add(b2,"submit._submit",function(e){e._submit_bubble=true});bJ._data(b2,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bJ.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bJ.nodeName(this,"form")){return false}bJ.event.remove(this,"._submit")}}}if(!bJ.support.changeBubbles){bJ.event.special.change={setup:function(){if(bH.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bJ.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bJ.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bJ.event.simulate("change",this,e,true)})}return false}bJ.event.add(this,"beforeactivate._change",function(b3){var b2=b3.target;if(bH.test(b2.nodeName)&&!bJ._data(b2,"_change_attached")){bJ.event.add(b2,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bJ.event.simulate("change",this.parentNode,e,true)}});bJ._data(b2,"_change_attached",true)}})},handle:function(b2){var e=b2.target;if(this!==e||b2.isSimulated||b2.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b2.handleObj.handler.apply(this,arguments)}},teardown:function(){bJ.event.remove(this,"._change");return !bH.test(this.nodeName)}}}if(!bJ.support.focusinBubbles){bJ.each({focus:"focusin",blur:"focusout"},function(b4,e){var b2=0,b3=function(b5){bJ.event.simulate(e,b5.target,bJ.event.fix(b5),true)};bJ.event.special[e]={setup:function(){if(b2++===0){q.addEventListener(b4,b3,true)}},teardown:function(){if(--b2===0){q.removeEventListener(b4,b3,true)}}}})}bJ.fn.extend({on:function(b3,e,b6,b5,b2){var b7,b4;if(typeof b3==="object"){if(typeof e!=="string"){b6=b6||e;e=aE}for(b4 in b3){this.on(b4,e,b6,b3[b4],b2)}return this}if(b6==null&&b5==null){b5=e;b6=e=aE}else{if(b5==null){if(typeof e==="string"){b5=b6;b6=aE}else{b5=b6;b6=e;e=aE}}}if(b5===false){b5=aa}else{if(!b5){return this}}if(b2===1){b7=b5;b5=function(b8){bJ().off(b8);return b7.apply(this,arguments)};b5.guid=b7.guid||(b7.guid=bJ.guid++)}return this.each(function(){bJ.event.add(this,b3,b5,b6,e)})},one:function(b2,e,b4,b3){return this.on(b2,e,b4,b3,1)},off:function(b3,e,b5){var b2,b4;if(b3&&b3.preventDefault&&b3.handleObj){b2=b3.handleObj;bJ(b3.delegateTarget).off(b2.namespace?b2.origType+"."+b2.namespace:b2.origType,b2.selector,b2.handler);return this}if(typeof b3==="object"){for(b4 in b3){this.off(b4,e,b3[b4])}return this}if(e===false||typeof e==="function"){b5=e;e=aE}if(b5===false){b5=aa}return this.each(function(){bJ.event.remove(this,b3,b5,e)})},bind:function(e,b3,b2){return this.on(e,null,b3,b2)},unbind:function(e,b2){return this.off(e,null,b2)},live:function(e,b3,b2){bJ(this.context).on(e,this.selector,b3,b2);return this},die:function(e,b2){bJ(this.context).off(e,this.selector||"**",b2);return this},delegate:function(e,b2,b4,b3){return this.on(b2,e,b4,b3)},undelegate:function(e,b2,b3){return arguments.length===1?this.off(e,"**"):this.off(b2,e||"**",b3)},trigger:function(e,b2){return this.each(function(){bJ.event.trigger(e,b2,this)})},triggerHandler:function(e,b2){if(this[0]){return bJ.event.trigger(e,b2,this[0],true)}},toggle:function(b4){var b2=arguments,e=b4.guid||bJ.guid++,b3=0,b5=function(b6){var b7=(bJ._data(this,"lastToggle"+b4.guid)||0)%b3;bJ._data(this,"lastToggle"+b4.guid,b7+1);b6.preventDefault();return b2[b7].apply(this,arguments)||false};b5.guid=e;while(b3<b2.length){b2[b3++].guid=e}return this.click(b5)},hover:function(e,b2){return this.mouseenter(e).mouseleave(b2||e)}});bJ.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b2,e){bJ.fn[e]=function(b4,b3){if(b3==null){b3=b4;b4=null}return arguments.length>0?this.on(e,null,b4,b3):this.trigger(e)};if(a6.test(e)){bJ.event.fixHooks[e]=bJ.event.keyHooks}if(bN.test(e)){bJ.event.fixHooks[e]=bJ.event.mouseHooks}});(function(cV,ck){var c0,cd,cO,b3,cp,cD,cg,cj,cf,cM,cc=true,cx="undefined",c2=("sizcache"+Math.random()).replace(".",""),b7=String,cb=cV.document,ce=cb.documentElement,cu=0,ci=0,cH=[].pop,cZ=[].push,co=[].slice,cr=[].indexOf||function(db){var da=0,e=this.length;for(;da<e;da++){if(this[da]===db){return da}}return -1},c4=function(e,da){e[c2]=da==null||da;return e},c8=function(){var e={},da=[];return c4(function(db,dc){if(da.push(db)>cO.cacheLength){delete e[da.shift()]}return(e[db]=dc)},e)},cX=c8(),cY=c8(),cq=c8(),cB="[\\x20\\t\\r\\n\\f]",cn="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",cl=cn.replace("w","w#"),c7="([*^$|!~]?=)",cS="\\["+cB+"*("+cn+")"+cB+"*(?:"+c7+cB+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cl+")|)|)"+cB+"*\\]",c9=":("+cn+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cS+")|[^:]|\\\\.)*|.*))\\)|)",cC=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cB+"*((?:-\\d)?\\d*)"+cB+"*\\)|)(?=[^-]|$)",cW=new RegExp("^"+cB+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cB+"+$","g"),b8=new RegExp("^"+cB+"*,"+cB+"*"),cK=new RegExp("^"+cB+"*([\\x20\\t\\r\\n\\f>+~])"+cB+"*"),cP=new RegExp(c9),cR=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cG=/^:not/,cU=/[\x20\t\r\n\f]*[+~]/,c3=/:not\($/,cv=/h\d/i,cQ=/input|select|textarea|button/i,cw=/\\(?!\\)/g,cJ={ID:new RegExp("^#("+cn+")"),CLASS:new RegExp("^\\.("+cn+")"),NAME:new RegExp("^\\[name=['\"]?("+cn+")['\"]?\\]"),TAG:new RegExp("^("+cn.replace("w","w*")+")"),ATTR:new RegExp("^"+cS),PSEUDO:new RegExp("^"+c9),POS:new RegExp(cC,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cB+"*(even|odd|(([+-]|)(\\d*)n|)"+cB+"*(?:([+-]|)"+cB+"*(\\d+)|))"+cB+"*\\)|)","i"),needsContext:new RegExp("^"+cB+"*[>+~]|"+cC,"i")},cN=function(da){var dc=cb.createElement("div");try{return da(dc)}catch(db){return false}finally{dc=null}},ca=cN(function(e){e.appendChild(cb.createComment(""));return !e.getElementsByTagName("*").length}),cF=cN(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cx&&e.firstChild.getAttribute("href")==="#"}),ct=cN(function(da){da.innerHTML="<select></select>";var e=typeof da.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cE=cN(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),b2=cN(function(da){da.id=c2+0;da.innerHTML="<a name='"+c2+"'></a><div name='"+c2+"'></div>";ce.insertBefore(da,ce.firstChild);var e=cb.getElementsByName&&cb.getElementsByName(c2).length===2+cb.getElementsByName(c2+0).length;cd=!cb.getElementById(c2);ce.removeChild(da);return e});try{co.call(ce.childNodes,0)[0].nodeType}catch(c6){co=function(da){var db,e=[];for(;(db=this[da]);da++){e.push(db)}return e}}function cT(dc,e,de,dh){de=de||[];e=e||cb;var df,da,dg,db,dd=e.nodeType;if(!dc||typeof dc!=="string"){return de}if(dd!==1&&dd!==9){return[]}dg=cp(e);if(!dg&&!dh){if((df=cR.exec(dc))){if((db=df[1])){if(dd===9){da=e.getElementById(db);if(da&&da.parentNode){if(da.id===db){de.push(da);return de}}else{return de}}else{if(e.ownerDocument&&(da=e.ownerDocument.getElementById(db))&&cD(e,da)&&da.id===db){de.push(da);return de}}}else{if(df[2]){cZ.apply(de,co.call(e.getElementsByTagName(dc),0));return de}else{if((db=df[3])&&cE&&e.getElementsByClassName){cZ.apply(de,co.call(e.getElementsByClassName(db),0));return de}}}}}return c1(dc.replace(cW,"$1"),e,de,dh,dg)}cT.matches=function(da,e){return cT(da,null,null,e)};cT.matchesSelector=function(e,da){return cT(da,null,null,[e]).length>0};function cL(e){return function(db){var da=db.nodeName.toLowerCase();return da==="input"&&db.type===e}}function b6(e){return function(db){var da=db.nodeName.toLowerCase();return(da==="input"||da==="button")&&db.type===e}}function cI(e){return c4(function(da){da=+da;return c4(function(db,df){var dd,dc=e([],db.length,da),de=dc.length;while(de--){if(db[(dd=dc[de])]){db[dd]=!(df[dd]=db[dd])}}})})}b3=cT.getText=function(dd){var dc,da="",db=0,e=dd.nodeType;if(e){if(e===1||e===9||e===11){if(typeof dd.textContent==="string"){return dd.textContent}else{for(dd=dd.firstChild;dd;dd=dd.nextSibling){da+=b3(dd)}}}else{if(e===3||e===4){return dd.nodeValue}}}else{for(;(dc=dd[db]);db++){da+=b3(dc)}}return da};cp=cT.isXML=function(e){var da=e&&(e.ownerDocument||e).documentElement;return da?da.nodeName!=="HTML":false};cD=cT.contains=ce.contains?function(da,e){var dc=da.nodeType===9?da.documentElement:da,db=e&&e.parentNode;return da===db||!!(db&&db.nodeType===1&&dc.contains&&dc.contains(db))}:ce.compareDocumentPosition?function(da,e){return e&&!!(da.compareDocumentPosition(e)&16)}:function(da,e){while((e=e.parentNode)){if(e===da){return true}}return false};cT.attr=function(db,da){var dc,e=cp(db);if(!e){da=da.toLowerCase()}if((dc=cO.attrHandle[da])){return dc(db)}if(e||ct){return db.getAttribute(da)}dc=db.getAttributeNode(da);return dc?typeof db[da]==="boolean"?db[da]?da:null:dc.specified?dc.value:null:null};cO=cT.selectors={cacheLength:50,createPseudo:c4,match:cJ,attrHandle:cF?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:cd?function(dc,db,da){if(typeof db.getElementById!==cx&&!da){var e=db.getElementById(dc);return e&&e.parentNode?[e]:[]}}:function(dc,db,da){if(typeof db.getElementById!==cx&&!da){var e=db.getElementById(dc);return e?e.id===dc||typeof e.getAttributeNode!==cx&&e.getAttributeNode("id").value===dc?[e]:ck:[]}},TAG:ca?function(e,da){if(typeof da.getElementsByTagName!==cx){return da.getElementsByTagName(e)}}:function(e,dd){var dc=dd.getElementsByTagName(e);if(e==="*"){var de,db=[],da=0;for(;(de=dc[da]);da++){if(de.nodeType===1){db.push(de)}}return db}return dc},NAME:b2&&function(e,da){if(typeof da.getElementsByName!==cx){return da.getElementsByName(name)}},CLASS:cE&&function(db,da,e){if(typeof da.getElementsByClassName!==cx&&!e){return da.getElementsByClassName(db)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cw,"");e[3]=(e[4]||e[5]||"").replace(cw,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cT.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cT.error(e[0])}}return e},PSEUDO:function(da){var db,e;if(cJ.CHILD.test(da[0])){return null}if(da[3]){da[2]=da[3]}else{if((db=da[4])){if(cP.test(db)&&(e=b4(db,true))&&(e=db.indexOf(")",db.length-e)-db.length)){db=db.slice(0,e);da[0]=da[0].slice(0,e)}da[2]=db}}return da.slice(0,3)}},filter:{ID:cd?function(e){e=e.replace(cw,"");return function(da){return da.getAttribute("id")===e}}:function(e){e=e.replace(cw,"");return function(db){var da=typeof db.getAttributeNode!==cx&&db.getAttributeNode("id");return da&&da.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cw,"").toLowerCase();return function(da){return da.nodeName&&da.nodeName.toLowerCase()===e}},CLASS:function(e){var da=cX[c2][e];if(!da){da=cX(e,new RegExp("(^|"+cB+")"+e+"("+cB+"|$)"))}return function(db){return da.test(db.className||(typeof db.getAttribute!==cx&&db.getAttribute("class"))||"")}},ATTR:function(db,da,e){return function(de,dd){var dc=cT.attr(de,db);if(dc==null){return da==="!="}if(!da){return true}dc+="";return da==="="?dc===e:da==="!="?dc!==e:da==="^="?e&&dc.indexOf(e)===0:da==="*="?e&&dc.indexOf(e)>-1:da==="$="?e&&dc.substr(dc.length-e.length)===e:da==="~="?(" "+dc+" ").indexOf(e)>-1:da==="|="?dc===e||dc.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,db,dc,da){if(e==="nth"){return function(df){var de,dg,dd=df.parentNode;if(dc===1&&da===0){return true}if(dd){dg=0;for(de=dd.firstChild;de;de=de.nextSibling){if(de.nodeType===1){dg++;if(df===de){break}}}}dg-=da;return dg===dc||(dg%dc===0&&dg/dc>=0)}}return function(de){var dd=de;switch(e){case"only":case"first":while((dd=dd.previousSibling)){if(dd.nodeType===1){return false}}if(e==="first"){return true}dd=de;case"last":while((dd=dd.nextSibling)){if(dd.nodeType===1){return false}}return true}}},PSEUDO:function(dc,db){var e,da=cO.pseudos[dc]||cO.setFilters[dc.toLowerCase()]||cT.error("unsupported pseudo: "+dc);if(da[c2]){return da(db)}if(da.length>1){e=[dc,dc,"",db];return cO.setFilters.hasOwnProperty(dc.toLowerCase())?c4(function(df,dh){var de,dd=da(df,db),dg=dd.length;while(dg--){de=cr.call(df,dd[dg]);df[de]=!(dh[de]=dd[dg])}}):function(dd){return da(dd,0,e)}}return da}},pseudos:{not:c4(function(e){var da=[],db=[],dc=cg(e.replace(cW,"$1"));return dc[c2]?c4(function(de,dj,dh,df){var di,dd=dc(de,null,df,[]),dg=de.length;while(dg--){if((di=dd[dg])){de[dg]=!(dj[dg]=di)}}}):function(df,de,dd){da[0]=df;dc(da,null,dd,db);return !db.pop()}}),has:c4(function(e){return function(da){return cT(e,da).length>0}}),contains:c4(function(e){return function(da){return(da.textContent||da.innerText||b3(da)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var da=e.nodeName.toLowerCase();return(da==="input"&&!!e.checked)||(da==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cO.pseudos.empty(e)},empty:function(da){var e;da=da.firstChild;while(da){if(da.nodeName>"@"||(e=da.nodeType)===3||e===4){return false}da=da.nextSibling}return true},header:function(e){return cv.test(e.nodeName)},text:function(db){var da,e;return db.nodeName.toLowerCase()==="input"&&(da=db.type)==="text"&&((e=db.getAttribute("type"))==null||e.toLowerCase()===da)},radio:cL("radio"),checkbox:cL("checkbox"),file:cL("file"),password:cL("password"),image:cL("image"),submit:b6("submit"),reset:b6("reset"),button:function(da){var e=da.nodeName.toLowerCase();return e==="input"&&da.type==="button"||e==="button"},input:function(e){return cQ.test(e.nodeName)},focus:function(e){var da=e.ownerDocument;return e===da.activeElement&&(!da.hasFocus||da.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:cI(function(e,db,da){return[0]}),last:cI(function(e,db,da){return[db-1]}),eq:cI(function(e,db,da){return[da<0?da+db:da]}),even:cI(function(e,dc,db){for(var da=0;da<dc;da+=2){e.push(da)}return e}),odd:cI(function(e,dc,db){for(var da=1;da<dc;da+=2){e.push(da)}return e}),lt:cI(function(e,dc,db){for(var da=db<0?db+dc:db;--da>=0;){e.push(da)}return e}),gt:cI(function(e,dc,db){for(var da=db<0?db+dc:db;++da<dc;){e.push(da)}return e})}};function b5(da,e,db){if(da===e){return db}var dc=da.nextSibling;while(dc){if(dc===e){return -1}dc=dc.nextSibling}return 1}cj=ce.compareDocumentPosition?function(da,e){if(da===e){cf=true;return 0}return(!da.compareDocumentPosition||!e.compareDocumentPosition?da.compareDocumentPosition:da.compareDocumentPosition(e)&4)?-1:1}:function(dh,dg){if(dh===dg){cf=true;return 0}else{if(dh.sourceIndex&&dg.sourceIndex){return dh.sourceIndex-dg.sourceIndex}}var de,da,db=[],e=[],dd=dh.parentNode,df=dg.parentNode,di=dd;if(dd===df){return b5(dh,dg)}else{if(!dd){return -1}else{if(!df){return 1}}}while(di){db.unshift(di);di=di.parentNode}di=df;while(di){e.unshift(di);di=di.parentNode}de=db.length;da=e.length;for(var dc=0;dc<de&&dc<da;dc++){if(db[dc]!==e[dc]){return b5(db[dc],e[dc])}}return dc===de?b5(dh,e[dc],-1):b5(db[dc],dg,1)};[0,0].sort(cj);cc=!cf;cT.uniqueSort=function(da){var db,e=1;cf=cc;da.sort(cj);if(cf){for(;(db=da[e]);e++){if(db===da[e-1]){da.splice(e--,1)}}}return da};cT.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function b4(dd,di){var da,de,dg,dh,df,db,e,dc=cY[c2][dd];if(dc){return di?0:dc.slice(0)}df=dd;db=[];e=cO.preFilter;while(df){if(!da||(de=b8.exec(df))){if(de){df=df.slice(de[0].length)}db.push(dg=[])}da=false;if((de=cK.exec(df))){dg.push(da=new b7(de.shift()));df=df.slice(da.length);da.type=de[0].replace(cW," ")}for(dh in cO.filter){if((de=cJ[dh].exec(df))&&(!e[dh]||(de=e[dh](de,cb,true)))){dg.push(da=new b7(de.shift()));df=df.slice(da.length);da.type=dh;da.matches=de}}if(!da){break}}return di?df.length:df?cT.error(dd):cY(dd,db).slice(0)}function cz(dd,db,dc){var e=db.dir,de=dc&&db.dir==="parentNode",da=ci++;return db.first?function(dh,dg,df){while((dh=dh[e])){if(de||dh.nodeType===1){return dd(dh,dg,df)}}}:function(di,dh,dg){if(!dg){var df,dj=cu+" "+da+" ",dk=dj+c0;while((di=di[e])){if(de||di.nodeType===1){if((df=di[c2])===dk){return di.sizset}else{if(typeof df==="string"&&df.indexOf(dj)===0){if(di.sizset){return di}}else{di[c2]=dk;if(dd(di,dh,dg)){di.sizset=true;return di}di.sizset=false}}}}}else{while((di=di[e])){if(de||di.nodeType===1){if(dd(di,dh,dg)){return di}}}}}}function ch(e){return e.length>1?function(dd,dc,da){var db=e.length;while(db--){if(!e[db](dd,dc,da)){return false}}return true}:e[0]}function cy(e,da,db,dc,df){var dd,di=[],de=0,dg=e.length,dh=da!=null;for(;de<dg;de++){if((dd=e[de])){if(!db||db(dd,dc,df)){di.push(dd);if(dh){da.push(de)}}}}return di}function c5(db,da,dd,dc,de,e){if(dc&&!dc[c2]){dc=c5(dc)}if(de&&!de[c2]){de=c5(de,e)}return c4(function(dr,dn,dh,dq){if(dr&&de){return}var dp,dj,dk,di=[],ds=[],dg=dn.length,df=dr||cs(da||"*",dh.nodeType?[dh]:dh,[],dr),dl=db&&(dr||!da)?cy(df,di,db,dh,dq):df,dm=dd?de||(dr?db:dg||dc)?[]:dn:dl;if(dd){dd(dl,dm,dh,dq)}if(dc){dk=cy(dm,ds);dc(dk,[],dh,dq);dp=dk.length;while(dp--){if((dj=dk[dp])){dm[ds[dp]]=!(dl[ds[dp]]=dj)}}}if(dr){dp=db&&dm.length;while(dp--){if((dj=dm[dp])){dr[di[dp]]=!(dn[di[dp]]=dj)}}}else{dm=cy(dm===dn?dm.splice(dg,dm.length):dm);if(de){de(null,dn,dm,dq)}else{cZ.apply(dn,dm)}}})}function cA(df){var da,dd,db,de=df.length,di=cO.relative[df[0].type],dj=di||cO.relative[" "],dc=di?1:0,dg=cz(function(dk){return dk===da},dj,true),dh=cz(function(dk){return cr.call(da,dk)>-1},dj,true),e=[function(dm,dl,dk){return(!di&&(dk||dl!==cM))||((da=dl).nodeType?dg(dm,dl,dk):dh(dm,dl,dk))}];for(;dc<de;dc++){if((dd=cO.relative[df[dc].type])){e=[cz(ch(e),dd)]}else{dd=cO.filter[df[dc].type].apply(null,df[dc].matches);if(dd[c2]){db=++dc;for(;db<de;db++){if(cO.relative[df[db].type]){break}}return c5(dc>1&&ch(e),dc>1&&df.slice(0,dc-1).join("").replace(cW,"$1"),dd,dc<db&&cA(df.slice(dc,db)),db<de&&cA((df=df.slice(db))),db<de&&df.join(""))}e.push(dd)}}return ch(e)}function b9(dc,db){var e=db.length>0,dd=dc.length>0,da=function(dn,dh,dm,dl,du){var di,dj,dp,dt=[],ds=0,dk="0",de=dn&&[],dq=du!=null,dr=cM,dg=dn||dd&&cO.find.TAG("*",du&&dh.parentNode||dh),df=(cu+=dr==null?1:Math.E);if(dq){cM=dh!==cb&&dh;c0=da.el}for(;(di=dg[dk])!=null;dk++){if(dd&&di){for(dj=0;(dp=dc[dj]);dj++){if(dp(di,dh,dm)){dl.push(di);break}}if(dq){cu=df;c0=++da.el}}if(e){if((di=!dp&&di)){ds--}if(dn){de.push(di)}}}ds+=dk;if(e&&dk!==ds){for(dj=0;(dp=db[dj]);dj++){dp(de,dt,dh,dm)}if(dn){if(ds>0){while(dk--){if(!(de[dk]||dt[dk])){dt[dk]=cH.call(dl)}}}dt=cy(dt)}cZ.apply(dl,dt);if(dq&&!dn&&dt.length>0&&(ds+db.length)>1){cT.uniqueSort(dl)}}if(dq){cu=df;cM=dr}return de};da.el=0;return e?c4(da):da}cg=cT.compile=function(e,de){var db,da=[],dd=[],dc=cq[c2][e];if(!dc){if(!de){de=b4(e)}db=de.length;while(db--){dc=cA(de[db]);if(dc[c2]){da.push(dc)}else{dd.push(dc)}}dc=cq(e,b9(dd,da))}return dc};function cs(da,de,dd,db){var dc=0,e=de.length;for(;dc<e;dc++){cT(da,de[dc],dd,db)}return dd}function c1(db,e,dd,dh,dg){var de,dk,da,dj,di,df=b4(db),dc=df.length;if(!dh){if(df.length===1){dk=df[0]=df[0].slice(0);if(dk.length>2&&(da=dk[0]).type==="ID"&&e.nodeType===9&&!dg&&cO.relative[dk[1].type]){e=cO.find.ID(da.matches[0].replace(cw,""),e,dg)[0];if(!e){return dd}db=db.slice(dk.shift().length)}for(de=cJ.POS.test(db)?-1:dk.length-1;de>=0;de--){da=dk[de];if(cO.relative[(dj=da.type)]){break}if((di=cO.find[dj])){if((dh=di(da.matches[0].replace(cw,""),cU.test(dk[0].type)&&e.parentNode||e,dg))){dk.splice(de,1);db=dh.length&&dk.join("");if(!db){cZ.apply(dd,co.call(dh,0));return dd}break}}}}}cg(db,df)(dh,e,dg,dd,cU.test(db));return dd}if(cb.querySelectorAll){(function(){var de,df=c1,dd=/'|\\/g,db=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,da=[":focus"],e=[":active",":focus"],dc=ce.matchesSelector||ce.mozMatchesSelector||ce.webkitMatchesSelector||ce.oMatchesSelector||ce.msMatchesSelector;cN(function(dg){dg.innerHTML="<select><option selected=''></option></select>";if(!dg.querySelectorAll("[selected]").length){da.push("\\["+cB+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dg.querySelectorAll(":checked").length){da.push(":checked")}});cN(function(dg){dg.innerHTML="<p test=''></p>";if(dg.querySelectorAll("[test^='']").length){da.push("[*^$]="+cB+"*(?:\"\"|'')")}dg.innerHTML="<input type='hidden'/>";if(!dg.querySelectorAll(":enabled").length){da.push(":enabled",":disabled")}});da=new RegExp(da.join("|"));c1=function(dm,dh,dp,ds,dr){if(!ds&&!dr&&(!da||!da.test(dm))){var dk,dq,dj=true,dg=c2,di=dh,dn=dh.nodeType===9&&dm;if(dh.nodeType===1&&dh.nodeName.toLowerCase()!=="object"){dk=b4(dm);if((dj=dh.getAttribute("id"))){dg=dj.replace(dd,"\\$&")}else{dh.setAttribute("id",dg)}dg="[id='"+dg+"'] ";dq=dk.length;while(dq--){dk[dq]=dg+dk[dq].join("")}di=cU.test(dm)&&dh.parentNode||dh;dn=dk.join(",")}if(dn){try{cZ.apply(dp,co.call(di.querySelectorAll(dn),0));return dp}catch(dl){}finally{if(!dj){dh.removeAttribute("id")}}}}return df(dm,dh,dp,ds,dr)};if(dc){cN(function(dh){de=dc.call(dh,"div");try{dc.call(dh,"[test!='']:sizzle");e.push("!=",c9)}catch(dg){}});e=new RegExp(e.join("|"));cT.matchesSelector=function(dh,dj){dj=dj.replace(db,"='$1']");if(!cp(dh)&&!e.test(dj)&&(!da||!da.test(dj))){try{var dg=dc.call(dh,dj);if(dg||de||dh.document&&dh.document.nodeType!==11){return dg}}catch(di){}}return cT(dj,null,null,[dh]).length>0}}})()}cO.pseudos.nth=cO.pseudos.eq;function cm(){}cO.filters=cm.prototype=cO.pseudos;cO.setFilters=new cm();cT.attr=bJ.attr;bJ.find=cT;bJ.expr=cT.selectors;bJ.expr[":"]=bJ.expr.pseudos;bJ.unique=cT.uniqueSort;bJ.text=cT.getText;bJ.isXMLDoc=cT.isXML;bJ.contains=cT.contains})(a5);var aj=/Until$/,bt=/^(?:parents|prev(?:Until|All))/,ao=/^.[^:#\[\.,]*$/,B=bJ.expr.match.needsContext,bx={children:true,contents:true,next:true,prev:true};bJ.fn.extend({find:function(e){var b5,b2,b7,b8,b6,b4,b3=this;if(typeof e!=="string"){return bJ(e).filter(function(){for(b5=0,b2=b3.length;b5<b2;b5++){if(bJ.contains(b3[b5],this)){return true}}})}b4=this.pushStack("","find",e);for(b5=0,b2=this.length;b5<b2;b5++){b7=b4.length;bJ.find(e,this[b5],b4);if(b5>0){for(b8=b7;b8<b4.length;b8++){for(b6=0;b6<b7;b6++){if(b4[b6]===b4[b8]){b4.splice(b8--,1);break}}}}}return b4},has:function(b4){var b3,b2=bJ(b4,this),e=b2.length;return this.filter(function(){for(b3=0;b3<e;b3++){if(bJ.contains(this,b2[b3])){return true}}})},not:function(e){return this.pushStack(aP(this,e,false),"not",e)},filter:function(e){return this.pushStack(aP(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?B.test(e)?bJ(e,this.context).index(this[0])>=0:bJ.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b5,b4){var b6,b3=0,e=this.length,b2=[],b7=B.test(b5)||typeof b5!=="string"?bJ(b5,b4||this.context):0;for(;b3<e;b3++){b6=this[b3];while(b6&&b6.ownerDocument&&b6!==b4&&b6.nodeType!==11){if(b7?b7.index(b6)>-1:bJ.find.matchesSelector(b6,b5)){b2.push(b6);break}b6=b6.parentNode}}b2=b2.length>1?bJ.unique(b2):b2;return this.pushStack(b2,"closest",b5)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bJ.inArray(this[0],bJ(e))}return bJ.inArray(e.jquery?e[0]:e,this)},add:function(e,b2){var b4=typeof e==="string"?bJ(e,b2):bJ.makeArray(e&&e.nodeType?[e]:e),b3=bJ.merge(this.get(),b4);return this.pushStack(aU(b4[0])||aU(b3[0])?b3:bJ.unique(b3))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bJ.fn.andSelf=bJ.fn.addBack;function aU(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function a1(b2,e){do{b2=b2[e]}while(b2&&b2.nodeType!==1);return b2}bJ.each({parent:function(b2){var e=b2.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bJ.dir(e,"parentNode")},parentsUntil:function(b2,e,b3){return bJ.dir(b2,"parentNode",b3)},next:function(e){return a1(e,"nextSibling")},prev:function(e){return a1(e,"previousSibling")},nextAll:function(e){return bJ.dir(e,"nextSibling")},prevAll:function(e){return bJ.dir(e,"previousSibling")},nextUntil:function(b2,e,b3){return bJ.dir(b2,"nextSibling",b3)},prevUntil:function(b2,e,b3){return bJ.dir(b2,"previousSibling",b3)},siblings:function(e){return bJ.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bJ.sibling(e.firstChild)},contents:function(e){return bJ.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bJ.merge([],e.childNodes)}},function(e,b2){bJ.fn[e]=function(b5,b3){var b4=bJ.map(this,b2,b5);if(!aj.test(e)){b3=b5}if(b3&&typeof b3==="string"){b4=bJ.filter(b3,b4)}b4=this.length>1&&!bx[e]?bJ.unique(b4):b4;if(this.length>1&&bt.test(e)){b4=b4.reverse()}return this.pushStack(b4,e,a7.call(arguments).join(","))}});bJ.extend({filter:function(b3,e,b2){if(b2){b3=":not("+b3+")"}return e.length===1?bJ.find.matchesSelector(e[0],b3)?[e[0]]:[]:bJ.find.matches(b3,e)},dir:function(b3,b2,b5){var e=[],b4=b3[b2];while(b4&&b4.nodeType!==9&&(b5===aE||b4.nodeType!==1||!bJ(b4).is(b5))){if(b4.nodeType===1){e.push(b4)}b4=b4[b2]}return e},sibling:function(b3,b2){var e=[];for(;b3;b3=b3.nextSibling){if(b3.nodeType===1&&b3!==b2){e.push(b3)}}return e}});function aP(b4,b3,e){b3=b3||0;if(bJ.isFunction(b3)){return bJ.grep(b4,function(b6,b5){var b7=!!b3.call(b6,b5,b6);return b7===e})}else{if(b3.nodeType){return bJ.grep(b4,function(b6,b5){return(b6===b3)===e})}else{if(typeof b3==="string"){var b2=bJ.grep(b4,function(b5){return b5.nodeType===1});if(ao.test(b3)){return bJ.filter(b3,b2,!e)}else{b3=bJ.filter(b3,b2)}}}}return bJ.grep(b4,function(b6,b5){return(bJ.inArray(b6,b3)>=0)===e})}function D(e){var b3=d.split("|"),b2=e.createDocumentFragment();if(b2.createElement){while(b3.length){b2.createElement(b3.pop())}}return b2}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ay=/ jQuery\d+="(?:null|\d+)"/g,b1=/^\s+/,aB=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,r=/<([\w:]+)/,bW=/<tbody/i,M=/<|&#?\w+;/,am=/<(?:script|style|link)/i,at=/<(?:script|object|embed|option|style)/i,N=new RegExp("<(?:"+d+")[\\s/>]","i"),aH=/^(?:checkbox|radio)$/,bU=/checked\s*(?:[^=]|=\s*.checked.)/i,bz=/\/(java|ecma)script/i,aK=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,W={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aT=D(q),n=aT.appendChild(q.createElement("div"));W.optgroup=W.option;W.tbody=W.tfoot=W.colgroup=W.caption=W.thead;W.th=W.td;if(!bJ.support.htmlSerialize){W._default=[1,"X<div>","</div>"]}bJ.fn.extend({text:function(e){return bJ.access(this,function(b2){return b2===aE?bJ.text(this):this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(b2))},null,e,arguments.length)},wrapAll:function(e){if(bJ.isFunction(e)){return this.each(function(b3){bJ(this).wrapAll(e.call(this,b3))})}if(this[0]){var b2=bJ(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b2.insertBefore(this[0])}b2.map(function(){var b3=this;while(b3.firstChild&&b3.firstChild.nodeType===1){b3=b3.firstChild}return b3}).append(this)}return this},wrapInner:function(e){if(bJ.isFunction(e)){return this.each(function(b2){bJ(this).wrapInner(e.call(this,b2))})}return this.each(function(){var b2=bJ(this),b3=b2.contents();if(b3.length){b3.wrapAll(e)}else{b2.append(e)}})},wrap:function(e){var b2=bJ.isFunction(e);return this.each(function(b3){bJ(this).wrapAll(b2?e.call(this,b3):e)})},unwrap:function(){return this.parent().each(function(){if(!bJ.nodeName(this,"body")){bJ(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!aU(this[0])){return this.domManip(arguments,false,function(b2){this.parentNode.insertBefore(b2,this)})}if(arguments.length){var e=bJ.clean(arguments);return this.pushStack(bJ.merge(e,this),"before",this.selector)}},after:function(){if(!aU(this[0])){return this.domManip(arguments,false,function(b2){this.parentNode.insertBefore(b2,this.nextSibling)})}if(arguments.length){var e=bJ.clean(arguments);return this.pushStack(bJ.merge(this,e),"after",this.selector)}},remove:function(e,b4){var b3,b2=0;for(;(b3=this[b2])!=null;b2++){if(!e||bJ.filter(e,[b3]).length){if(!b4&&b3.nodeType===1){bJ.cleanData(b3.getElementsByTagName("*"));bJ.cleanData([b3])}if(b3.parentNode){b3.parentNode.removeChild(b3)}}}return this},empty:function(){var b2,e=0;for(;(b2=this[e])!=null;e++){if(b2.nodeType===1){bJ.cleanData(b2.getElementsByTagName("*"))}while(b2.firstChild){b2.removeChild(b2.firstChild)}}return this},clone:function(b2,e){b2=b2==null?false:b2;e=e==null?b2:e;return this.map(function(){return bJ.clone(this,b2,e)})},html:function(e){return bJ.access(this,function(b5){var b4=this[0]||{},b3=0,b2=this.length;if(b5===aE){return b4.nodeType===1?b4.innerHTML.replace(ay,""):aE}if(typeof b5==="string"&&!am.test(b5)&&(bJ.support.htmlSerialize||!N.test(b5))&&(bJ.support.leadingWhitespace||!b1.test(b5))&&!W[(r.exec(b5)||["",""])[1].toLowerCase()]){b5=b5.replace(aB,"<$1></$2>");try{for(;b3<b2;b3++){b4=this[b3]||{};if(b4.nodeType===1){bJ.cleanData(b4.getElementsByTagName("*"));b4.innerHTML=b5}}b4=0}catch(b6){}}if(b4){this.empty().append(b5)}},null,e,arguments.length)},replaceWith:function(e){if(!aU(this[0])){if(bJ.isFunction(e)){return this.each(function(b4){var b3=bJ(this),b2=b3.html();b3.replaceWith(e.call(this,b4,b2))})}if(typeof e!=="string"){e=bJ(e).detach()}return this.each(function(){var b3=this.nextSibling,b2=this.parentNode;bJ(this).remove();if(b3){bJ(b3).before(e)}else{bJ(b2).append(e)}})}return this.length?this.pushStack(bJ(bJ.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(b7,cb,ca){b7=[].concat.apply([],b7);var b3,b5,b6,b9,b4=0,b8=b7[0],b2=[],e=this.length;if(!bJ.support.checkClone&&e>1&&typeof b8==="string"&&bU.test(b8)){return this.each(function(){bJ(this).domManip(b7,cb,ca)})}if(bJ.isFunction(b8)){return this.each(function(cd){var cc=bJ(this);b7[0]=b8.call(this,cd,cb?cc.html():aE);cc.domManip(b7,cb,ca)})}if(this[0]){b3=bJ.buildFragment(b7,this,b2);b6=b3.fragment;b5=b6.firstChild;if(b6.childNodes.length===1){b6=b5}if(b5){cb=cb&&bJ.nodeName(b5,"tr");for(b9=b3.cacheable||e-1;b4<e;b4++){ca.call(cb&&bJ.nodeName(this[b4],"table")?A(this[b4],"tbody"):this[b4],b4===b9?b6:bJ.clone(b6,true,true))}}b6=b5=null;if(b2.length){bJ.each(b2,function(cc,cd){if(cd.src){if(bJ.ajax){bJ.ajax({url:cd.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bJ.error("no ajax")}}else{bJ.globalEval((cd.text||cd.textContent||cd.innerHTML||"").replace(aK,""))}if(cd.parentNode){cd.parentNode.removeChild(cd)}})}}return this}});function A(b2,e){return b2.getElementsByTagName(e)[0]||b2.appendChild(b2.ownerDocument.createElement(e))}function ar(b8,b2){if(b2.nodeType!==1||!bJ.hasData(b8)){return}var b5,b4,e,b7=bJ._data(b8),b6=bJ._data(b2,b7),b3=b7.events;if(b3){delete b6.handle;b6.events={};for(b5 in b3){for(b4=0,e=b3[b5].length;b4<e;b4++){bJ.event.add(b2,b5,b3[b5][b4])}}}if(b6.data){b6.data=bJ.extend({},b6.data)}}function I(b2,e){var b3;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(b2)}b3=e.nodeName.toLowerCase();if(b3==="object"){if(e.parentNode){e.outerHTML=b2.outerHTML}if(bJ.support.html5Clone&&(b2.innerHTML&&!bJ.trim(e.innerHTML))){e.innerHTML=b2.innerHTML}}else{if(b3==="input"&&aH.test(b2.type)){e.defaultChecked=e.checked=b2.checked;if(e.value!==b2.value){e.value=b2.value}}else{if(b3==="option"){e.selected=b2.defaultSelected}else{if(b3==="input"||b3==="textarea"){e.defaultValue=b2.defaultValue}else{if(b3==="script"&&e.text!==b2.text){e.text=b2.text}}}}}e.removeAttribute(bJ.expando)}bJ.buildFragment=function(b4,b5,b2){var b3,e,b6,b7=b4[0];b5=b5||q;b5=!b5.nodeType&&b5[0]||b5;b5=b5.ownerDocument||b5;if(b4.length===1&&typeof b7==="string"&&b7.length<512&&b5===q&&b7.charAt(0)==="<"&&!at.test(b7)&&(bJ.support.checkClone||!bU.test(b7))&&(bJ.support.html5Clone||!N.test(b7))){e=true;b3=bJ.fragments[b7];b6=b3!==aE}if(!b3){b3=b5.createDocumentFragment();bJ.clean(b4,b5,b3,b2);if(e){bJ.fragments[b7]=b6&&b3}}return{fragment:b3,cacheable:e}};bJ.fragments={};bJ.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b2){bJ.fn[e]=function(b3){var b5,b7=0,b6=[],b9=bJ(b3),b4=b9.length,b8=this.length===1&&this[0].parentNode;if((b8==null||b8&&b8.nodeType===11&&b8.childNodes.length===1)&&b4===1){b9[b2](this[0]);return this}else{for(;b7<b4;b7++){b5=(b7>0?this.clone(true):this).get();bJ(b9[b7])[b2](b5);b6=b6.concat(b5)}return this.pushStack(b6,e,b9.selector)}}});function o(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function bV(e){if(aH.test(e.type)){e.defaultChecked=e.checked}}bJ.extend({clone:function(b5,b7,b3){var e,b2,b4,b6;if(bJ.support.html5Clone||bJ.isXMLDoc(b5)||!N.test("<"+b5.nodeName+">")){b6=b5.cloneNode(true)}else{n.innerHTML=b5.outerHTML;n.removeChild(b6=n.firstChild)}if((!bJ.support.noCloneEvent||!bJ.support.noCloneChecked)&&(b5.nodeType===1||b5.nodeType===11)&&!bJ.isXMLDoc(b5)){I(b5,b6);e=o(b5);b2=o(b6);for(b4=0;e[b4];++b4){if(b2[b4]){I(e[b4],b2[b4])}}}if(b7){ar(b5,b6);if(b3){e=o(b5);b2=o(b6);for(b4=0;e[b4];++b4){ar(e[b4],b2[b4])}}}e=b2=null;return b6},clean:function(ce,b3,e,b4){var cb,ca,cd,ci,b7,ch,b8,b5,b2,cc,cg,b9,b6=b3===q&&aT,cf=[];if(!b3||typeof b3.createDocumentFragment==="undefined"){b3=q}for(cb=0;(cd=ce[cb])!=null;cb++){if(typeof cd==="number"){cd+=""}if(!cd){continue}if(typeof cd==="string"){if(!M.test(cd)){cd=b3.createTextNode(cd)}else{b6=b6||D(b3);b8=b3.createElement("div");b6.appendChild(b8);cd=cd.replace(aB,"<$1></$2>");ci=(r.exec(cd)||["",""])[1].toLowerCase();b7=W[ci]||W._default;ch=b7[0];b8.innerHTML=b7[1]+cd+b7[2];while(ch--){b8=b8.lastChild}if(!bJ.support.tbody){b5=bW.test(cd);b2=ci==="table"&&!b5?b8.firstChild&&b8.firstChild.childNodes:b7[1]==="<table>"&&!b5?b8.childNodes:[];for(ca=b2.length-1;ca>=0;--ca){if(bJ.nodeName(b2[ca],"tbody")&&!b2[ca].childNodes.length){b2[ca].parentNode.removeChild(b2[ca])}}}if(!bJ.support.leadingWhitespace&&b1.test(cd)){b8.insertBefore(b3.createTextNode(b1.exec(cd)[0]),b8.firstChild)}cd=b8.childNodes;b8.parentNode.removeChild(b8)}}if(cd.nodeType){cf.push(cd)}else{bJ.merge(cf,cd)}}if(b8){cd=b8=b6=null}if(!bJ.support.appendChecked){for(cb=0;(cd=cf[cb])!=null;cb++){if(bJ.nodeName(cd,"input")){bV(cd)}else{if(typeof cd.getElementsByTagName!=="undefined"){bJ.grep(cd.getElementsByTagName("input"),bV)}}}}if(e){cg=function(cj){if(!cj.type||bz.test(cj.type)){return b4?b4.push(cj.parentNode?cj.parentNode.removeChild(cj):cj):e.appendChild(cj)}};for(cb=0;(cd=cf[cb])!=null;cb++){if(!(bJ.nodeName(cd,"script")&&cg(cd))){e.appendChild(cd);if(typeof cd.getElementsByTagName!=="undefined"){b9=bJ.grep(bJ.merge([],cd.getElementsByTagName("script")),cg);cf.splice.apply(cf,[cb+1,0].concat(b9));cb+=b9.length}}}}return cf},cleanData:function(b2,ca){var b5,b3,b4,b9,b6=0,cb=bJ.expando,e=bJ.cache,b7=bJ.support.deleteExpando,b8=bJ.event.special;for(;(b4=b2[b6])!=null;b6++){if(ca||bJ.acceptData(b4)){b3=b4[cb];b5=b3&&e[b3];if(b5){if(b5.events){for(b9 in b5.events){if(b8[b9]){bJ.event.remove(b4,b9)}else{bJ.removeEvent(b4,b9,b5.handle)}}}if(e[b3]){delete e[b3];if(b7){delete b4[cb]}else{if(b4.removeAttribute){b4.removeAttribute(cb)}else{b4[cb]=null}}bJ.deletedIds.push(b3)}}}}}});(function(){var e,b2;bJ.uaMatch=function(b4){b4=b4.toLowerCase();var b3=/(chrome)[ \/]([\w.]+)/.exec(b4)||/(webkit)[ \/]([\w.]+)/.exec(b4)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b4)||/(msie) ([\w.]+)/.exec(b4)||b4.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b4)||[];return{browser:b3[1]||"",version:b3[2]||"0"}};e=bJ.uaMatch(f.userAgent);b2={};if(e.browser){b2[e.browser]=true;b2.version=e.version}if(b2.chrome){b2.webkit=true}else{if(b2.webkit){b2.safari=true}}bJ.browser=b2;bJ.sub=function(){function b3(b6,b7){return new b3.fn.init(b6,b7)}bJ.extend(true,b3,this);b3.superclass=this;b3.fn=b3.prototype=this();b3.fn.constructor=b3;b3.sub=this.sub;b3.fn.init=function b5(b6,b7){if(b7&&b7 instanceof bJ&&!(b7 instanceof b3)){b7=b3(b7)}return bJ.fn.init.call(this,b6,b7,b4)};b3.fn.init.prototype=b3.fn;var b4=b3(q);return b3}})();var H,aC,aZ,bh=/alpha\([^)]*\)/i,aV=/opacity=([^)]*)/,bn=/^(top|right|bottom|left)$/,J=/^(none|table(?!-c[ea]).+)/,a2=/^margin/,bb=new RegExp("^("+bA+")(.*)$","i"),Z=new RegExp("^("+bA+")(?!px)[a-z%]+$","i"),V=new RegExp("^([-+])=("+bA+")","i"),bk={},bc={position:"absolute",visibility:"hidden",display:"block"},bD={letterSpacing:0,fontWeight:400},bT=["Top","Right","Bottom","Left"],av=["Webkit","O","Moz","ms"],aM=bJ.fn.toggle;function c(b4,b2){if(b2 in b4){return b2}var b5=b2.charAt(0).toUpperCase()+b2.slice(1),e=b2,b3=av.length;while(b3--){b2=av[b3]+b5;if(b2 in b4){return b2}}return e}function T(b2,e){b2=e||b2;return bJ.css(b2,"display")==="none"||!bJ.contains(b2.ownerDocument,b2)}function u(b6,e){var b5,b7,b2=[],b3=0,b4=b6.length;for(;b3<b4;b3++){b5=b6[b3];if(!b5.style){continue}b2[b3]=bJ._data(b5,"olddisplay");if(e){if(!b2[b3]&&b5.style.display==="none"){b5.style.display=""}if(b5.style.display===""&&T(b5)){b2[b3]=bJ._data(b5,"olddisplay",bF(b5.nodeName))}}else{b7=H(b5,"display");if(!b2[b3]&&b7!=="none"){bJ._data(b5,"olddisplay",b7)}}}for(b3=0;b3<b4;b3++){b5=b6[b3];if(!b5.style){continue}if(!e||b5.style.display==="none"||b5.style.display===""){b5.style.display=e?b2[b3]||"":"none"}}return b6}bJ.fn.extend({css:function(e,b2){return bJ.access(this,function(b4,b3,b5){return b5!==aE?bJ.style(b4,b3,b5):bJ.css(b4,b3)},e,b2,arguments.length>1)},show:function(){return u(this,true)},hide:function(){return u(this)},toggle:function(b3,b2){var e=typeof b3==="boolean";if(bJ.isFunction(b3)&&bJ.isFunction(b2)){return aM.apply(this,arguments)}return this.each(function(){if(e?b3:T(this)){bJ(this).show()}else{bJ(this).hide()}})}});bJ.extend({cssHooks:{opacity:{get:function(b3,b2){if(b2){var e=H(b3,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bJ.support.cssFloat?"cssFloat":"styleFloat"},style:function(b4,b3,ca,b5){if(!b4||b4.nodeType===3||b4.nodeType===8||!b4.style){return}var b8,b9,cb,b6=bJ.camelCase(b3),b2=b4.style;b3=bJ.cssProps[b6]||(bJ.cssProps[b6]=c(b2,b6));cb=bJ.cssHooks[b3]||bJ.cssHooks[b6];if(ca!==aE){b9=typeof ca;if(b9==="string"&&(b8=V.exec(ca))){ca=(b8[1]+1)*b8[2]+parseFloat(bJ.css(b4,b3));b9="number"}if(ca==null||b9==="number"&&isNaN(ca)){return}if(b9==="number"&&!bJ.cssNumber[b6]){ca+="px"}if(!cb||!("set" in cb)||(ca=cb.set(b4,ca,b5))!==aE){try{b2[b3]=ca}catch(b7){}}}else{if(cb&&"get" in cb&&(b8=cb.get(b4,false,b5))!==aE){return b8}return b2[b3]}},css:function(b7,b5,b6,b2){var b8,b4,e,b3=bJ.camelCase(b5);b5=bJ.cssProps[b3]||(bJ.cssProps[b3]=c(b7.style,b3));e=bJ.cssHooks[b5]||bJ.cssHooks[b3];if(e&&"get" in e){b8=e.get(b7,true,b2)}if(b8===aE){b8=H(b7,b5)}if(b8==="normal"&&b5 in bD){b8=bD[b5]}if(b6||b2!==aE){b4=parseFloat(b8);return b6||bJ.isNumeric(b4)?b4||0:b8}return b8},swap:function(b5,b4,b6){var b3,b2,e={};for(b2 in b4){e[b2]=b5.style[b2];b5.style[b2]=b4[b2]}b3=b6.call(b5);for(b2 in b4){b5.style[b2]=e[b2]}return b3}});if(a5.getComputedStyle){H=function(b8,b2){var e,b5,b4,b7,b6=a5.getComputedStyle(b8,null),b3=b8.style;if(b6){e=b6[b2];if(e===""&&!bJ.contains(b8.ownerDocument,b8)){e=bJ.style(b8,b2)}if(Z.test(e)&&a2.test(b2)){b5=b3.width;b4=b3.minWidth;b7=b3.maxWidth;b3.minWidth=b3.maxWidth=b3.width=e;e=b6.width;b3.width=b5;b3.minWidth=b4;b3.maxWidth=b7}}return e}}else{if(q.documentElement.currentStyle){H=function(b5,b3){var b6,e,b2=b5.currentStyle&&b5.currentStyle[b3],b4=b5.style;if(b2==null&&b4&&b4[b3]){b2=b4[b3]}if(Z.test(b2)&&!bn.test(b3)){b6=b4.left;e=b5.runtimeStyle&&b5.runtimeStyle.left;if(e){b5.runtimeStyle.left=b5.currentStyle.left}b4.left=b3==="fontSize"?"1em":b2;b2=b4.pixelLeft+"px";b4.left=b6;if(e){b5.runtimeStyle.left=e}}return b2===""?"auto":b2}}}function aJ(e,b3,b4){var b2=bb.exec(b3);return b2?Math.max(0,b2[1]-(b4||0))+(b2[2]||"px"):b3}function aw(b4,b2,e,b6){var b3=e===(b6?"border":"content")?4:b2==="width"?1:0,b5=0;for(;b3<4;b3+=2){if(e==="margin"){b5+=bJ.css(b4,e+bT[b3],true)}if(b6){if(e==="content"){b5-=parseFloat(H(b4,"padding"+bT[b3]))||0}if(e!=="margin"){b5-=parseFloat(H(b4,"border"+bT[b3]+"Width"))||0}}else{b5+=parseFloat(H(b4,"padding"+bT[b3]))||0;if(e!=="padding"){b5+=parseFloat(H(b4,"border"+bT[b3]+"Width"))||0}}}return b5}function x(b4,b2,e){var b5=b2==="width"?b4.offsetWidth:b4.offsetHeight,b3=true,b6=bJ.support.boxSizing&&bJ.css(b4,"boxSizing")==="border-box";if(b5<=0||b5==null){b5=H(b4,b2);if(b5<0||b5==null){b5=b4.style[b2]}if(Z.test(b5)){return b5}b3=b6&&(bJ.support.boxSizingReliable||b5===b4.style[b2]);b5=parseFloat(b5)||0}return(b5+aw(b4,b2,e||(b6?"border":"content"),b3))+"px"}function bF(b3){if(bk[b3]){return bk[b3]}var e=bJ("<"+b3+">").appendTo(q.body),b2=e.css("display");e.remove();if(b2==="none"||b2===""){aC=q.body.appendChild(aC||bJ.extend(q.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!aZ||!aC.createElement){aZ=(aC.contentWindow||aC.contentDocument).document;aZ.write("<!doctype html><html><body>");aZ.close()}e=aZ.body.appendChild(aZ.createElement(b3));b2=H(e,"display");q.body.removeChild(aC)}bk[b3]=b2;return b2}bJ.each(["height","width"],function(b2,e){bJ.cssHooks[e]={get:function(b5,b4,b3){if(b4){if(b5.offsetWidth===0&&J.test(H(b5,"display"))){return bJ.swap(b5,bc,function(){return x(b5,e,b3)})}else{return x(b5,e,b3)}}},set:function(b4,b5,b3){return aJ(b4,b5,b3?aw(b4,e,b3,bJ.support.boxSizing&&bJ.css(b4,"boxSizing")==="border-box"):0)}}});if(!bJ.support.opacity){bJ.cssHooks.opacity={get:function(b2,e){return aV.test((e&&b2.currentStyle?b2.currentStyle.filter:b2.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b5,b6){var b4=b5.style,b2=b5.currentStyle,e=bJ.isNumeric(b6)?"alpha(opacity="+b6*100+")":"",b3=b2&&b2.filter||b4.filter||"";b4.zoom=1;if(b6>=1&&bJ.trim(b3.replace(bh,""))===""&&b4.removeAttribute){b4.removeAttribute("filter");if(b2&&!b2.filter){return}}b4.filter=bh.test(b3)?b3.replace(bh,e):b3+" "+e}}}bJ(function(){if(!bJ.support.reliableMarginRight){bJ.cssHooks.marginRight={get:function(b2,e){return bJ.swap(b2,{display:"inline-block"},function(){if(e){return H(b2,"marginRight")}})}}}if(!bJ.support.pixelPosition&&bJ.fn.position){bJ.each(["top","left"],function(e,b2){bJ.cssHooks[b2]={get:function(b5,b4){if(b4){var b3=H(b5,b2);return Z.test(b3)?bJ(b5).position()[b2]+"px":b3}}}})}});if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bJ.support.reliableHiddenOffsets&&((e.style&&e.style.display)||H(e,"display"))==="none")};bJ.expr.filters.visible=function(e){return !bJ.expr.filters.hidden(e)}}bJ.each({margin:"",padding:"",border:"Width"},function(e,b2){bJ.cssHooks[e+b2]={expand:function(b5){var b4,b6=typeof b5==="string"?b5.split(" "):[b5],b3={};for(b4=0;b4<4;b4++){b3[e+bT[b4]+b2]=b6[b4]||b6[b4-2]||b6[0]}return b3}};if(!a2.test(e)){bJ.cssHooks[e+b2].set=aJ}});var bv=/%20/g,aS=/\[\]$/,X=/\r?\n/g,bC=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aG=/^(?:select|textarea)/i;bJ.fn.extend({serialize:function(){return bJ.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bJ.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aG.test(this.nodeName)||bC.test(this.type))}).map(function(e,b2){var b3=bJ(this).val();return b3==null?null:bJ.isArray(b3)?bJ.map(b3,function(b5,b4){return{name:b2.name,value:b5.replace(X,"\r\n")}}):{name:b2.name,value:b3.replace(X,"\r\n")}}).get()}});bJ.param=function(e,b3){var b4,b2=[],b5=function(b6,b7){b7=bJ.isFunction(b7)?b7():(b7==null?"":b7);b2[b2.length]=encodeURIComponent(b6)+"="+encodeURIComponent(b7)};if(b3===aE){b3=bJ.ajaxSettings&&bJ.ajaxSettings.traditional}if(bJ.isArray(e)||(e.jquery&&!bJ.isPlainObject(e))){bJ.each(e,function(){b5(this.name,this.value)})}else{for(b4 in e){m(b4,e[b4],b3,b5)}}return b2.join("&").replace(bv,"+")};function m(b3,b5,b2,b4){var e;if(bJ.isArray(b5)){bJ.each(b5,function(b7,b6){if(b2||aS.test(b3)){b4(b3,b6)}else{m(b3+"["+(typeof b6==="object"?b7:"")+"]",b6,b2,b4)}})}else{if(!b2&&bJ.type(b5)==="object"){for(e in b5){m(b3+"["+e+"]",b5[e],b2,b4)}}else{b4(b3,b5)}}}var b0,ab,aq=/#.*$/,ag=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,E=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,t=/^(?:GET|HEAD)$/,aF=/^\/\//,bQ=/\?/,h=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,S=/([?&])_=[^&]*/,aW=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bZ=bJ.fn.load,y={},a9={},a0=["*/"]+["*"];try{ab=aL.href}catch(bg){ab=q.createElement("a");ab.href="";ab=ab.href}b0=aW.exec(ab.toLowerCase())||[];function bL(e){return function(b5,b7){if(typeof b5!=="string"){b7=b5;b5="*"}var b2,b8,b9,b4=b5.toLowerCase().split(aY),b3=0,b6=b4.length;if(bJ.isFunction(b7)){for(;b3<b6;b3++){b2=b4[b3];b9=/^\+/.test(b2);if(b9){b2=b2.substr(1)||"*"}b8=e[b2]=e[b2]||[];b8[b9?"unshift":"push"](b7)}}}}function s(b2,cb,b6,b9,b8,b4){b8=b8||cb.dataTypes[0];b4=b4||{};b4[b8]=true;var ca,b7=b2[b8],b3=0,e=b7?b7.length:0,b5=(b2===y);for(;b3<e&&(b5||!ca);b3++){ca=b7[b3](cb,b6,b9);if(typeof ca==="string"){if(!b5||b4[ca]){ca=aE}else{cb.dataTypes.unshift(ca);ca=s(b2,cb,b6,b9,ca,b4)}}}if((b5||!ca)&&!b4["*"]){ca=s(b2,cb,b6,b9,"*",b4)}return ca}function v(b3,b4){var b2,e,b5=bJ.ajaxSettings.flatOptions||{};for(b2 in b4){if(b4[b2]!==aE){(b5[b2]?b3:(e||(e={})))[b2]=b4[b2]}}if(e){bJ.extend(true,b3,e)}}bJ.fn.load=function(b4,b7,b8){if(typeof b4!=="string"&&bZ){return bZ.apply(this,arguments)}if(!this.length){return this}var e,b5,b3,b2=this,b6=b4.indexOf(" ");if(b6>=0){e=b4.slice(b6,b4.length);b4=b4.slice(0,b6)}if(bJ.isFunction(b7)){b8=b7;b7=aE}else{if(b7&&typeof b7==="object"){b5="POST"}}bJ.ajax({url:b4,type:b5,dataType:"html",data:b7,complete:function(ca,b9){if(b8){b2.each(b8,b3||[ca.responseText,b9,ca])}}}).done(function(b9){b3=arguments;b2.html(e?bJ("<div>").append(b9.replace(h,"")).find(e):b9)});return this};bJ.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,b2){bJ.fn[b2]=function(b3){return this.on(b2,b3)}});bJ.each(["get","post"],function(e,b2){bJ[b2]=function(b3,b5,b6,b4){if(bJ.isFunction(b5)){b4=b4||b6;b6=b5;b5=aE}return bJ.ajax({type:b2,url:b3,data:b5,success:b6,dataType:b4})}});bJ.extend({getScript:function(e,b2){return bJ.get(e,aE,b2,"script")},getJSON:function(e,b2,b3){return bJ.get(e,b2,b3,"json")},ajaxSetup:function(b2,e){if(e){v(b2,bJ.ajaxSettings)}else{e=b2;b2=bJ.ajaxSettings}v(b2,e);return b2},ajaxSettings:{url:ab,isLocal:E.test(b0[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a0},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a5.String,"text html":true,"text json":bJ.parseJSON,"text xml":bJ.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bL(y),ajaxTransport:bL(a9),ajax:function(b7,b4){if(typeof b7==="object"){b4=b7;b7=aE}b4=b4||{};var ca,co,b5,cj,cc,cg,b3,ci,cb=bJ.ajaxSetup({},b4),cq=cb.context||cb,ce=cq!==cb&&(cq.nodeType||cq instanceof bJ)?bJ(cq):bJ.event,cp=bJ.Deferred(),cl=bJ.Callbacks("once memory"),b8=cb.statusCode||{},cf={},cm={},b6=0,b9="canceled",ch={readyState:0,setRequestHeader:function(cr,cs){if(!b6){var e=cr.toLowerCase();cr=cm[e]=cm[e]||cr;cf[cr]=cs}return this},getAllResponseHeaders:function(){return b6===2?co:null},getResponseHeader:function(cr){var e;if(b6===2){if(!b5){b5={};while((e=ag.exec(co))){b5[e[1].toLowerCase()]=e[2]}}e=b5[cr.toLowerCase()]}return e===aE?null:e},overrideMimeType:function(e){if(!b6){cb.mimeType=e}return this},abort:function(e){e=e||b9;if(cj){cj.abort(e)}cd(0,e);return this}};function cd(cv,cr,cw,ct){var e,cz,cx,cu,cy,cs=cr;if(b6===2){return}b6=2;if(cc){clearTimeout(cc)}cj=aE;co=ct||"";ch.readyState=cv>0?4:0;if(cw){cu=i(cb,ch,cw)}if(cv>=200&&cv<300||cv===304){if(cb.ifModified){cy=ch.getResponseHeader("Last-Modified");if(cy){bJ.lastModified[ca]=cy}cy=ch.getResponseHeader("Etag");if(cy){bJ.etag[ca]=cy}}if(cv===304){cs="notmodified";e=true}else{e=ah(cb,cu);cs=e.state;cz=e.data;cx=e.error;e=!cx}}else{cx=cs;if(!cs||cv){cs="error";if(cv<0){cv=0}}}ch.status=cv;ch.statusText=(cr||cs)+"";if(e){cp.resolveWith(cq,[cz,cs,ch])}else{cp.rejectWith(cq,[ch,cs,cx])}ch.statusCode(b8);b8=aE;if(b3){ce.trigger("ajax"+(e?"Success":"Error"),[ch,cb,e?cz:cx])}cl.fireWith(cq,[ch,cs]);if(b3){ce.trigger("ajaxComplete",[ch,cb]);if(!(--bJ.active)){bJ.event.trigger("ajaxStop")}}}cp.promise(ch);ch.success=ch.done;ch.error=ch.fail;ch.complete=cl.add;ch.statusCode=function(cr){if(cr){var e;if(b6<2){for(e in cr){b8[e]=[b8[e],cr[e]]}}else{e=cr[ch.status];ch.always(e)}}return this};cb.url=((b7||cb.url)+"").replace(aq,"").replace(aF,b0[1]+"//");cb.dataTypes=bJ.trim(cb.dataType||"*").toLowerCase().split(aY);if(cb.crossDomain==null){cg=aW.exec(cb.url.toLowerCase())||false;cb.crossDomain=cg&&(cg.join(":")+(cg[3]?"":cg[1]==="http:"?80:443))!==(b0.join(":")+(b0[3]?"":b0[1]==="http:"?80:443))}if(cb.data&&cb.processData&&typeof cb.data!=="string"){cb.data=bJ.param(cb.data,cb.traditional)}s(y,cb,b4,ch);if(b6===2){return ch}b3=cb.global;cb.type=cb.type.toUpperCase();cb.hasContent=!t.test(cb.type);if(b3&&bJ.active++===0){bJ.event.trigger("ajaxStart")}if(!cb.hasContent){if(cb.data){cb.url+=(bQ.test(cb.url)?"&":"?")+cb.data;delete cb.data}ca=cb.url;if(cb.cache===false){var b2=bJ.now(),cn=cb.url.replace(S,"$1_="+b2);cb.url=cn+((cn===cb.url)?(bQ.test(cb.url)?"&":"?")+"_="+b2:"")}}if(cb.data&&cb.hasContent&&cb.contentType!==false||b4.contentType){ch.setRequestHeader("Content-Type",cb.contentType)}if(cb.ifModified){ca=ca||cb.url;if(bJ.lastModified[ca]){ch.setRequestHeader("If-Modified-Since",bJ.lastModified[ca])}if(bJ.etag[ca]){ch.setRequestHeader("If-None-Match",bJ.etag[ca])}}ch.setRequestHeader("Accept",cb.dataTypes[0]&&cb.accepts[cb.dataTypes[0]]?cb.accepts[cb.dataTypes[0]]+(cb.dataTypes[0]!=="*"?", "+a0+"; q=0.01":""):cb.accepts["*"]);for(ci in cb.headers){ch.setRequestHeader(ci,cb.headers[ci])}if(cb.beforeSend&&(cb.beforeSend.call(cq,ch,cb)===false||b6===2)){return ch.abort()}b9="abort";for(ci in {success:1,error:1,complete:1}){ch[ci](cb[ci])}cj=s(a9,cb,b4,ch);if(!cj){cd(-1,"No Transport")}else{ch.readyState=1;if(b3){ce.trigger("ajaxSend",[ch,cb])}if(cb.async&&cb.timeout>0){cc=setTimeout(function(){ch.abort("timeout")},cb.timeout)}try{b6=1;cj.send(cf,cd)}catch(ck){if(b6<2){cd(-1,ck)}else{throw ck}}}return ch},active:0,lastModified:{},etag:{}});function i(ca,b9,b6){var b5,b7,b4,e,b2=ca.contents,b8=ca.dataTypes,b3=ca.responseFields;for(b7 in b3){if(b7 in b6){b9[b3[b7]]=b6[b7]}}while(b8[0]==="*"){b8.shift();if(b5===aE){b5=ca.mimeType||b9.getResponseHeader("content-type")}}if(b5){for(b7 in b2){if(b2[b7]&&b2[b7].test(b5)){b8.unshift(b7);break}}}if(b8[0] in b6){b4=b8[0]}else{for(b7 in b6){if(!b8[0]||ca.converters[b7+" "+b8[0]]){b4=b7;break}if(!e){e=b7}}b4=b4||e}if(b4){if(b4!==b8[0]){b8.unshift(b4)}return b6[b4]}}function ah(cc,b4){var ca,b2,b8,b6,b9=cc.dataTypes.slice(),b3=b9[0],cb={},b5=0;if(cc.dataFilter){b4=cc.dataFilter(b4,cc.dataType)}if(b9[1]){for(ca in cc.converters){cb[ca.toLowerCase()]=cc.converters[ca]}}for(;(b8=b9[++b5]);){if(b8!=="*"){if(b3!=="*"&&b3!==b8){ca=cb[b3+" "+b8]||cb["* "+b8];if(!ca){for(b2 in cb){b6=b2.split(" ");if(b6[1]===b8){ca=cb[b3+" "+b6[0]]||cb["* "+b6[0]];if(ca){if(ca===true){ca=cb[b2]}else{if(cb[b2]!==true){b8=b6[0];b9.splice(b5--,0,b8)}}break}}}}if(ca!==true){if(ca&&cc["throws"]){b4=ca(b4)}else{try{b4=ca(b4)}catch(b7){return{state:"parsererror",error:ca?b7:"No conversion from "+b3+" to "+b8}}}}}b3=b8}}return{state:"success",data:b4}}var bs=[],az=/\?/,a8=/(=)\?(?=&|$)|\?\?/,bo=bJ.now();bJ.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bs.pop()||(bJ.expando+"_"+(bo++));this[e]=true;return e}});bJ.ajaxPrefilter("json jsonp",function(cb,b6,ca){var b9,e,b8,b4=cb.data,b2=cb.url,b3=cb.jsonp!==false,b7=b3&&a8.test(b2),b5=b3&&!b7&&typeof b4==="string"&&!(cb.contentType||"").indexOf("application/x-www-form-urlencoded")&&a8.test(b4);if(cb.dataTypes[0]==="jsonp"||b7||b5){b9=cb.jsonpCallback=bJ.isFunction(cb.jsonpCallback)?cb.jsonpCallback():cb.jsonpCallback;e=a5[b9];if(b7){cb.url=b2.replace(a8,"$1"+b9)}else{if(b5){cb.data=b4.replace(a8,"$1"+b9)}else{if(b3){cb.url+=(az.test(b2)?"&":"?")+cb.jsonp+"="+b9}}}cb.converters["script json"]=function(){if(!b8){bJ.error(b9+" was not called")}return b8[0]};cb.dataTypes[0]="json";a5[b9]=function(){b8=arguments};ca.always(function(){a5[b9]=e;if(cb[b9]){cb.jsonpCallback=b6.jsonpCallback;bs.push(b9)}if(b8&&bJ.isFunction(e)){e(b8[0])}b8=e=aE});return"script"}});bJ.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bJ.globalEval(e);return e}}});bJ.ajaxPrefilter("script",function(e){if(e.cache===aE){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bJ.ajaxTransport("script",function(b3){if(b3.crossDomain){var e,b2=q.head||q.getElementsByTagName("head")[0]||q.documentElement;return{send:function(b4,b5){e=q.createElement("script");e.async="async";if(b3.scriptCharset){e.charset=b3.scriptCharset}e.src=b3.url;e.onload=e.onreadystatechange=function(b7,b6){if(b6||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(b2&&e.parentNode){b2.removeChild(e)}e=aE;if(!b6){b5(200,"success")}}};b2.insertBefore(e,b2.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var ak,aQ=a5.ActiveXObject?function(){for(var e in ak){ak[e](0,1)}}:false,ax=0;function bE(){try{return new a5.XMLHttpRequest()}catch(b2){}}function be(){try{return new a5.ActiveXObject("Microsoft.XMLHTTP")}catch(b2){}}bJ.ajaxSettings.xhr=a5.ActiveXObject?function(){return !this.isLocal&&bE()||be()}:bE;(function(e){bJ.extend(bJ.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bJ.ajaxSettings.xhr());if(bJ.support.ajax){bJ.ajaxTransport(function(e){if(!e.crossDomain||bJ.support.cors){var b2;return{send:function(b8,b3){var b6,b5,b7=e.xhr();if(e.username){b7.open(e.type,e.url,e.async,e.username,e.password)}else{b7.open(e.type,e.url,e.async)}if(e.xhrFields){for(b5 in e.xhrFields){b7[b5]=e.xhrFields[b5]}}if(e.mimeType&&b7.overrideMimeType){b7.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b8["X-Requested-With"]){b8["X-Requested-With"]="XMLHttpRequest"}try{for(b5 in b8){b7.setRequestHeader(b5,b8[b5])}}catch(b4){}b7.send((e.hasContent&&e.data)||null);b2=function(ch,cb){var cc,ca,b9,cf,ce;try{if(b2&&(cb||b7.readyState===4)){b2=aE;if(b6){b7.onreadystatechange=bJ.noop;if(aQ){delete ak[b6]}}if(cb){if(b7.readyState!==4){b7.abort()}}else{cc=b7.status;b9=b7.getAllResponseHeaders();cf={};ce=b7.responseXML;if(ce&&ce.documentElement){cf.xml=ce}try{cf.text=b7.responseText}catch(ch){}try{ca=b7.statusText}catch(cg){ca=""}if(!cc&&e.isLocal&&!e.crossDomain){cc=cf.text?200:404}else{if(cc===1223){cc=204}}}}}catch(cd){if(!cb){b3(-1,cd)}}if(cf){b3(cc,ca,cf,b9)}};if(!e.async){b2()}else{if(b7.readyState===4){setTimeout(b2,0)}else{b6=++ax;if(aQ){if(!ak){ak={};bJ(a5).unload(aQ)}ak[b6]=b2}b7.onreadystatechange=b2}}},abort:function(){if(b2){b2(0,1)}}}}})}var O,ae,bR=/^(?:toggle|show|hide)$/,bK=new RegExp("^(?:([-+])=|)("+bA+")([a-z%]*)$","i"),bP=/queueHooks$/,aA=[j],a4={"*":[function(e,b8){var b4,b9,ca=this.createTween(e,b8),b5=bK.exec(b8),b6=ca.cur(),b2=+b6||0,b3=1,b7=20;if(b5){b4=+b5[2];b9=b5[3]||(bJ.cssNumber[e]?"":"px");if(b9!=="px"&&b2){b2=bJ.css(ca.elem,e,true)||b4||1;do{b3=b3||".5";b2=b2/b3;bJ.style(ca.elem,e,b2+b9)}while(b3!==(b3=ca.cur()/b6)&&b3!==1&&--b7)}ca.unit=b9;ca.start=b2;ca.end=b5[1]?b2+(b5[1]+1)*b4:b4}return ca}]};function bm(){setTimeout(function(){O=aE},0);return(O=bJ.now())}function bf(b2,e){bJ.each(e,function(b7,b5){var b6=(a4[b7]||[]).concat(a4["*"]),b3=0,b4=b6.length;for(;b3<b4;b3++){if(b6[b3].call(b2,b7,b5)){return}}})}function g(b3,b7,ca){var cb,b6=0,e=0,b2=aA.length,b9=bJ.Deferred().always(function(){delete b5.elem}),b5=function(){var cg=O||bm(),cd=Math.max(0,b4.startTime+b4.duration-cg),cf=1-(cd/b4.duration||0),cc=0,ce=b4.tweens.length;for(;cc<ce;cc++){b4.tweens[cc].run(cf)}b9.notifyWith(b3,[b4,cf,cd]);if(cf<1&&ce){return cd}else{b9.resolveWith(b3,[b4]);return false}},b4=b9.promise({elem:b3,props:bJ.extend({},b7),opts:bJ.extend(true,{specialEasing:{}},ca),originalProperties:b7,originalOptions:ca,startTime:O||bm(),duration:ca.duration,tweens:[],createTween:function(cf,cc,ce){var cd=bJ.Tween(b3,b4.opts,cf,cc,b4.opts.specialEasing[cf]||b4.opts.easing);b4.tweens.push(cd);return cd},stop:function(cd){var cc=0,ce=cd?b4.tweens.length:0;for(;cc<ce;cc++){b4.tweens[cc].run(1)}if(cd){b9.resolveWith(b3,[b4,cd])}else{b9.rejectWith(b3,[b4,cd])}return this}}),b8=b4.props;an(b8,b4.opts.specialEasing);for(;b6<b2;b6++){cb=aA[b6].call(b4,b3,b8,b4.opts);if(cb){return cb}}bf(b4,b8);if(bJ.isFunction(b4.opts.start)){b4.opts.start.call(b3,b4)}bJ.fx.timer(bJ.extend(b5,{anim:b4,queue:b4.opts.queue,elem:b3}));return b4.progress(b4.opts.progress).done(b4.opts.done,b4.opts.complete).fail(b4.opts.fail).always(b4.opts.always)}function an(b4,b6){var b3,b2,b7,b5,e;for(b3 in b4){b2=bJ.camelCase(b3);b7=b6[b2];b5=b4[b3];if(bJ.isArray(b5)){b7=b5[1];b5=b4[b3]=b5[0]}if(b3!==b2){b4[b2]=b5;delete b4[b3]}e=bJ.cssHooks[b2];if(e&&"expand" in e){b5=e.expand(b5);delete b4[b2];for(b3 in b5){if(!(b3 in b4)){b4[b3]=b5[b3];b6[b3]=b7}}}else{b6[b2]=b7}}}bJ.Animation=bJ.extend(g,{tweener:function(b2,b5){if(bJ.isFunction(b2)){b5=b2;b2=["*"]}else{b2=b2.split(" ")}var b4,e=0,b3=b2.length;for(;e<b3;e++){b4=b2[e];a4[b4]=a4[b4]||[];a4[b4].unshift(b5)}},prefilter:function(b2,e){if(e){aA.unshift(b2)}else{aA.push(b2)}}});function j(b5,ca,e){var b9,b3,cc,b4,cg,cf,ce,cd,b6=this,b2=b5.style,cb={},b8=[],b7=b5.nodeType&&T(b5);if(!e.queue){ce=bJ._queueHooks(b5,"fx");if(ce.unqueued==null){ce.unqueued=0;cd=ce.empty.fire;ce.empty.fire=function(){if(!ce.unqueued){cd()}}}ce.unqueued++;b6.always(function(){b6.always(function(){ce.unqueued--;if(!bJ.queue(b5,"fx").length){ce.empty.fire()}})})}if(b5.nodeType===1&&("height" in ca||"width" in ca)){e.overflow=[b2.overflow,b2.overflowX,b2.overflowY];if(bJ.css(b5,"display")==="inline"&&bJ.css(b5,"float")==="none"){if(!bJ.support.inlineBlockNeedsLayout||bF(b5.nodeName)==="inline"){b2.display="inline-block"}else{b2.zoom=1}}}if(e.overflow){b2.overflow="hidden";if(!bJ.support.shrinkWrapBlocks){b6.done(function(){b2.overflow=e.overflow[0];b2.overflowX=e.overflow[1];b2.overflowY=e.overflow[2]})}}for(b9 in ca){cc=ca[b9];if(bR.exec(cc)){delete ca[b9];if(cc===(b7?"hide":"show")){continue}b8.push(b9)}}b4=b8.length;if(b4){cg=bJ._data(b5,"fxshow")||bJ._data(b5,"fxshow",{});if(b7){bJ(b5).show()}else{b6.done(function(){bJ(b5).hide()})}b6.done(function(){var ch;bJ.removeData(b5,"fxshow",true);for(ch in cb){bJ.style(b5,ch,cb[ch])}});for(b9=0;b9<b4;b9++){b3=b8[b9];cf=b6.createTween(b3,b7?cg[b3]:0);cb[b3]=cg[b3]||bJ.style(b5,b3);if(!(b3 in cg)){cg[b3]=cf.start;if(b7){cf.end=cf.start;cf.start=b3==="width"||b3==="height"?1:0}}}}}function K(b3,b2,b5,e,b4){return new K.prototype.init(b3,b2,b5,e,b4)}bJ.Tween=K;K.prototype={constructor:K,init:function(b4,b2,b6,e,b5,b3){this.elem=b4;this.prop=b6;this.easing=b5||"swing";this.options=b2;this.start=this.now=this.cur();this.end=e;this.unit=b3||(bJ.cssNumber[b6]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(b3){var b2,e=K.propHooks[this.prop];if(this.options.duration){this.pos=b2=bJ.easing[this.easing](b3,this.options.duration*b3,0,1,this.options.duration)}else{this.pos=b2=b3}this.now=(this.end-this.start)*b2+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{K.propHooks._default.set(this)}return this}};K.prototype.init.prototype=K.prototype;K.propHooks={_default:{get:function(b2){var e;if(b2.elem[b2.prop]!=null&&(!b2.elem.style||b2.elem.style[b2.prop]==null)){return b2.elem[b2.prop]}e=bJ.css(b2.elem,b2.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bJ.fx.step[e.prop]){bJ.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bJ.cssProps[e.prop]]!=null||bJ.cssHooks[e.prop])){bJ.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bJ.each(["toggle","show","hide"],function(b2,e){var b3=bJ.fn[e];bJ.fn[e]=function(b4,b6,b5){return b4==null||typeof b4==="boolean"||(!b2&&bJ.isFunction(b4)&&bJ.isFunction(b6))?b3.apply(this,arguments):this.animate(bI(e,true),b4,b6,b5)}});bJ.fn.extend({fadeTo:function(e,b4,b3,b2){return this.filter(T).css("opacity",0).show().end().animate({opacity:b4},e,b3,b2)},animate:function(b7,b4,b6,b5){var b3=bJ.isEmptyObject(b7),e=bJ.speed(b4,b6,b5),b2=function(){var b8=g(this,bJ.extend({},b7),e);if(b3){b8.stop(true)}};return b3||e.queue===false?this.each(b2):this.queue(e.queue,b2)},stop:function(b3,b2,e){var b4=function(b5){var b6=b5.stop;delete b5.stop;b6(e)};if(typeof b3!=="string"){e=b2;b2=b3;b3=aE}if(b2&&b3!==false){this.queue(b3||"fx",[])}return this.each(function(){var b8=true,b5=b3!=null&&b3+"queueHooks",b7=bJ.timers,b6=bJ._data(this);if(b5){if(b6[b5]&&b6[b5].stop){b4(b6[b5])}}else{for(b5 in b6){if(b6[b5]&&b6[b5].stop&&bP.test(b5)){b4(b6[b5])}}}for(b5=b7.length;b5--;){if(b7[b5].elem===this&&(b3==null||b7[b5].queue===b3)){b7[b5].anim.stop(e);b8=false;b7.splice(b5,1)}}if(b8||!e){bJ.dequeue(this,b3)}})}});function bI(b3,b5){var b4,e={height:b3},b2=0;b5=b5?1:0;for(;b2<4;b2+=2-b5){b4=bT[b2];e["margin"+b4]=e["padding"+b4]=b3}if(b5){e.opacity=e.width=b3}return e}bJ.each({slideDown:bI("show"),slideUp:bI("hide"),slideToggle:bI("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b2){bJ.fn[e]=function(b3,b5,b4){return this.animate(b2,b3,b5,b4)}});bJ.speed=function(b3,b4,b2){var e=b3&&typeof b3==="object"?bJ.extend({},b3):{complete:b2||!b2&&b4||bJ.isFunction(b3)&&b3,duration:b3,easing:b2&&b4||b4&&!bJ.isFunction(b4)&&b4};e.duration=bJ.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bJ.fx.speeds?bJ.fx.speeds[e.duration]:bJ.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bJ.isFunction(e.old)){e.old.call(this)}if(e.queue){bJ.dequeue(this,e.queue)}};return e};bJ.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bJ.timers=[];bJ.fx=K.prototype.init;bJ.fx.tick=function(){var b3,b2=bJ.timers,e=0;for(;e<b2.length;e++){b3=b2[e];if(!b3()&&b2[e]===b3){b2.splice(e--,1)}}if(!b2.length){bJ.fx.stop()}};bJ.fx.timer=function(e){if(e()&&bJ.timers.push(e)&&!ae){ae=setInterval(bJ.fx.tick,bJ.fx.interval)}};bJ.fx.interval=13;bJ.fx.stop=function(){clearInterval(ae);ae=null};bJ.fx.speeds={slow:600,fast:200,_default:400};bJ.fx.step={};if(bJ.expr&&bJ.expr.filters){bJ.expr.filters.animated=function(e){return bJ.grep(bJ.timers,function(b2){return e===b2.elem}).length}}var bp=/^(?:body|html)$/i;bJ.fn.offset=function(cb){if(arguments.length){return cb===aE?this:this.each(function(cc){bJ.offset.setOffset(this,cb,cc)})}var b2,b7,b8,b5,b9,e,b4,b6={top:0,left:0},b3=this[0],ca=b3&&b3.ownerDocument;if(!ca){return}if((b7=ca.body)===b3){return bJ.offset.bodyOffset(b3)}b2=ca.documentElement;if(!bJ.contains(b2,b3)){return b6}if(typeof b3.getBoundingClientRect!=="undefined"){b6=b3.getBoundingClientRect()}b8=bq(ca);b5=b2.clientTop||b7.clientTop||0;b9=b2.clientLeft||b7.clientLeft||0;e=b8.pageYOffset||b2.scrollTop;b4=b8.pageXOffset||b2.scrollLeft;return{top:b6.top+e-b5,left:b6.left+b4-b9}};bJ.offset={bodyOffset:function(e){var b3=e.offsetTop,b2=e.offsetLeft;if(bJ.support.doesNotIncludeMarginInBodyOffset){b3+=parseFloat(bJ.css(e,"marginTop"))||0;b2+=parseFloat(bJ.css(e,"marginLeft"))||0}return{top:b3,left:b2}},setOffset:function(b4,cd,b7){var b8=bJ.css(b4,"position");if(b8==="static"){b4.style.position="relative"}var b6=bJ(b4),b2=b6.offset(),e=bJ.css(b4,"top"),cb=bJ.css(b4,"left"),cc=(b8==="absolute"||b8==="fixed")&&bJ.inArray("auto",[e,cb])>-1,ca={},b9={},b3,b5;if(cc){b9=b6.position();b3=b9.top;b5=b9.left}else{b3=parseFloat(e)||0;b5=parseFloat(cb)||0}if(bJ.isFunction(cd)){cd=cd.call(b4,b7,b2)}if(cd.top!=null){ca.top=(cd.top-b2.top)+b3}if(cd.left!=null){ca.left=(cd.left-b2.left)+b5}if("using" in cd){cd.using.call(b4,ca)}else{b6.css(ca)}}};bJ.fn.extend({position:function(){if(!this[0]){return}var b3=this[0],b2=this.offsetParent(),b4=this.offset(),e=bp.test(b2[0].nodeName)?{top:0,left:0}:b2.offset();b4.top-=parseFloat(bJ.css(b3,"marginTop"))||0;b4.left-=parseFloat(bJ.css(b3,"marginLeft"))||0;e.top+=parseFloat(bJ.css(b2[0],"borderTopWidth"))||0;e.left+=parseFloat(bJ.css(b2[0],"borderLeftWidth"))||0;return{top:b4.top-e.top,left:b4.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||q.body;while(e&&(!bp.test(e.nodeName)&&bJ.css(e,"position")==="static")){e=e.offsetParent}return e||q.body})}});bJ.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b3,b2){var e=/Y/.test(b2);bJ.fn[b3]=function(b4){return bJ.access(this,function(b5,b8,b7){var b6=bq(b5);if(b7===aE){return b6?(b2 in b6)?b6[b2]:b6.document.documentElement[b8]:b5[b8]}if(b6){b6.scrollTo(!e?b7:bJ(b6).scrollLeft(),e?b7:bJ(b6).scrollTop())}else{b5[b8]=b7}},b3,b4,arguments.length,null)}});function bq(e){return bJ.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bJ.each({Height:"height",Width:"width"},function(e,b2){bJ.each({padding:"inner"+e,content:b2,"":"outer"+e},function(b3,b4){bJ.fn[b4]=function(b8,b7){var b6=arguments.length&&(b3||typeof b8!=="boolean"),b5=b3||(b8===true||b7===true?"margin":"border");return bJ.access(this,function(ca,b9,cb){var cc;if(bJ.isWindow(ca)){return ca.document.documentElement["client"+e]}if(ca.nodeType===9){cc=ca.documentElement;return Math.max(ca.body["scroll"+e],cc["scroll"+e],ca.body["offset"+e],cc["offset"+e],cc["client"+e])}return cb===aE?bJ.css(ca,b9,cb,b5):bJ.style(ca,b9,cb,b5)},b2,b6?b8:aE,b6,null)}})});a5.jQuery=a5.$=bJ;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bJ})}})(window);(function(b,e){b.ui=b.ui||{};if(b.ui.version){return}b.extend(b.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});b.fn.extend({propAttr:b.fn.prop||b.fn.attr,_focus:b.fn.focus,focus:function(f,g){return typeof f==="number"?this.each(function(){var h=this;setTimeout(function(){b(h).focus();if(g){g.call(h)}},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;if((b.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){f=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.curCSS(this,"position",1))&&(/(auto|scroll)/).test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0)}else{f=this.parents().filter(function(){return(/(auto|scroll)/).test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!f.length?b(document):f},zIndex:function(i){if(i!==e){return this.css("zIndex",i)}if(this.length){var g=b(this[0]),f,h;while(g.length&&g[0]!==document){f=g.css("position");if(f==="absolute"||f==="relative"||f==="fixed"){h=parseInt(g.css("zIndex"),10);if(!isNaN(h)&&h!==0){return h}}g=g.parent()}}return 0},disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(h,f){var g=f==="Width"?["Left","Right"]:["Top","Bottom"],j=f.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(o,n,i,p){b.each(g,function(){n-=parseFloat(b.curCSS(o,"padding"+this,true))||0;if(i){n-=parseFloat(b.curCSS(o,"border"+this+"Width",true))||0}if(p){n-=parseFloat(b.curCSS(o,"margin"+this,true))||0}});return n}b.fn["inner"+f]=function(i){if(i===e){return m["inner"+f].call(this)}return this.each(function(){b(this).css(j,l(this,i)+"px")})};b.fn["outer"+f]=function(i,n){if(typeof i!=="number"){return m["outer"+f].call(this,i)}return this.each(function(){b(this).css(j,l(this,i,true,n)+"px")})}})}function d(h,f){var l=h.nodeName.toLowerCase();if("area"===l){var j=h.parentNode,i=j.name,g;if(!h.href||!i||j.nodeName.toLowerCase()!=="map"){return false}g=b("img[usemap=#"+i+"]")[0];return !!g&&c(g)}return(/input|select|textarea|button|object/.test(l)?!h.disabled:"a"==l?h.href||f:f)&&c(h)}function c(f){return !b(f).parents().andSelf().filter(function(){return b.curCSS(this,"visibility")==="hidden"||b.expr.filters.hidden(this)}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(f){return function(g){return !!b.data(g,f)}}):function(h,g,f){return !!b.data(h,f[3])},focusable:function(f){return d(f,!isNaN(b.attr(f,"tabindex")))},tabbable:function(h){var f=b.attr(h,"tabindex"),g=isNaN(f);return(g||f>=0)&&d(h,!g)}});b(function(){var f=document.body,g=f.appendChild(g=document.createElement("div"));g.offsetHeight;b.extend(g.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=g.offsetHeight===100;b.support.selectstart="onselectstart" in g;f.removeChild(g).style.display="none"});if(!b.curCSS){b.curCSS=b.css}b.extend(b.ui,{plugin:{add:function(g,h,l){var j=b.ui[g].prototype;for(var f in l){j.plugins[f]=j.plugins[f]||[];j.plugins[f].push([h,l[f]])}},call:function(f,h,g){var l=f.plugins[h];if(!l||!f.element[0].parentNode){return}for(var j=0;j<l.length;j++){if(f.options[l[j][0]]){l[j][1].apply(f.element,g)}}}},contains:function(g,f){return document.compareDocumentPosition?g.compareDocumentPosition(f)&16:g!==f&&g.contains(f)},hasScroll:function(i,g){if(b(i).css("overflow")==="hidden"){return false}var f=(g&&g==="left")?"scrollLeft":"scrollTop",h=false;if(i[f]>0){return true}i[f]=1;h=(i[f]>0);i[f]=0;return h},isOverAxis:function(g,f,h){return(g>f)&&(g<(f+h))},isOver:function(l,g,j,i,f,h){return b.ui.isOverAxis(l,j,f)&&b.ui.isOverAxis(g,i,h)}})})(jQuery);(function(c,e){if(c.cleanData){var d=c.cleanData;c.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{c(h).triggerHandler("remove")}catch(j){}}d(f)}}else{var b=c.fn.remove;c.fn.remove=function(f,g){return this.each(function(){if(!g){if(!f||c.filter(f,[this]).length){c("*",this).add([this]).each(function(){try{c(this).triggerHandler("remove")}catch(h){}})}}return b.call(c(this),f,g)})}}c.widget=function(g,i,f){var h=g.split(".")[0],l;g=g.split(".")[1];l=h+"-"+g;if(!f){f=i;i=c.Widget}c.expr[":"][l]=function(m){return !!c.data(m,g)};c[h]=c[h]||{};c[h][g]=function(m,n){if(arguments.length){this._createWidget(m,n)}};var j=new i();j.options=c.extend(true,{},j.options);c[h][g].prototype=c.extend(true,j,{namespace:h,widgetName:g,widgetEventPrefix:c[h][g].prototype.widgetEventPrefix||g,widgetBaseClass:l},f);c.widget.bridge(g,c[h][g])};c.widget.bridge=function(g,f){c.fn[g]=function(j){var h=typeof j==="string",i=Array.prototype.slice.call(arguments,1),l=this;j=!h&&i.length?c.extend.apply(null,[true,j].concat(i)):j;if(h&&j.charAt(0)==="_"){return l}if(h){this.each(function(){var m=c.data(this,g),n=m&&c.isFunction(m[j])?m[j].apply(m,i):m;if(n!==m&&n!==e){l=n;return false}})}else{this.each(function(){var m=c.data(this,g);if(m){m.option(j||{})._init()}else{c.data(this,g,new f(j,this))}})}return l}};c.Widget=function(f,g){if(arguments.length){this._createWidget(f,g)}};c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(g,h){c.data(h,this.widgetName,this);this.element=c(h);this.options=c.extend(true,{},this.options,this._getCreateOptions(),g);var f=this;this.element.bind("remove."+this.widgetName,function(){f.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return c.metadata&&c.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(g,h){var f=g;if(arguments.length===0){return c.extend({},this.options)}if(typeof g==="string"){if(h===e){return this.options[g]}f={};f[g]=h}this._setOptions(f);return this},_setOptions:function(g){var f=this;c.each(g,function(h,i){f._setOption(h,i)});return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget()[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",g)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(f,g,h){var l,j,i=this.options[f];h=h||{};g=c.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];j=g.originalEvent;if(j){for(l in j){if(!(l in g)){g[l]=j[l]}}}this.element.trigger(g,h);return !(c.isFunction(i)&&i.call(this.element[0],g,h)===false||g.isDefaultPrevented())}}})(jQuery);(function(c,d){var b=false;c(document).mouseup(function(f){b=false});c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(f){return e._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(true===c.data(f.target,e.widgetName+".preventClickEvent")){c.removeData(f.target,e.widgetName+".preventClickEvent");f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(g){if(b){return}(this._mouseStarted&&this._mouseUp(g));this._mouseDownEvent=g;var f=this,h=(g.which==1),e=(typeof this.options.cancel=="string"&&g.target.nodeName?c(g.target).closest(this.options.cancel).length:false);if(!h||e||!this._mouseCapture(g)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)){this._mouseStarted=(this._mouseStart(g)!==false);if(!this._mouseStarted){g.preventDefault();return true}}if(true===c.data(g.target,this.widgetName+".preventClickEvent")){c.removeData(g.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(i){return f._mouseMove(i)};this._mouseUpDelegate=function(i){return f._mouseUp(i)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();b=true;return true},_mouseMove:function(e){if(c.browser.msie&&!(document.documentMode>=9)&&!e.button){return this._mouseUp(e)}if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,e)!==false);(this._mouseStarted?this._mouseDrag(e):this._mouseUp(e))}return !this._mouseStarted},_mouseUp:function(e){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(e.target==this._mouseDownEvent.target){c.data(e.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return(Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance)},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return true}})})(jQuery);(function(h,i){h.ui=h.ui||{};var e=/left|center|right/,f=/top|center|bottom/,b="center",g={},c=h.fn.position,d=h.fn.offset;h.fn.position=function(l){if(!l||!l.of){return c.apply(this,arguments)}l=h.extend({},l);var p=h(l.of),o=p[0],r=(l.collision||"flip").split(" "),q=l.offset?l.offset.split(" "):[0,0],n,j,m;if(o.nodeType===9){n=p.width();j=p.height();m={top:0,left:0}}else{if(o.setTimeout){n=p.width();j=p.height();m={top:p.scrollTop(),left:p.scrollLeft()}}else{if(o.preventDefault){l.at="left top";n=j=0;m={top:l.of.pageY,left:l.of.pageX}}else{n=p.outerWidth();j=p.outerHeight();m=p.offset()}}}h.each(["my","at"],function(){var s=(l[this]||"").split(" ");if(s.length===1){s=e.test(s[0])?s.concat([b]):f.test(s[0])?[b].concat(s):[b,b]}s[0]=e.test(s[0])?s[0]:b;s[1]=f.test(s[1])?s[1]:b;l[this]=s});if(r.length===1){r[1]=r[0]}q[0]=parseInt(q[0],10)||0;if(q.length===1){q[1]=q[0]}q[1]=parseInt(q[1],10)||0;if(l.at[0]==="right"){m.left+=n}else{if(l.at[0]===b){m.left+=n/2}}if(l.at[1]==="bottom"){m.top+=j}else{if(l.at[1]===b){m.top+=j/2}}m.left+=q[0];m.top+=q[1];return this.each(function(){var v=h(this),y=v.outerWidth(),u=v.outerHeight(),x=parseInt(h.curCSS(this,"marginLeft",true))||0,t=parseInt(h.curCSS(this,"marginTop",true))||0,A=y+x+(parseInt(h.curCSS(this,"marginRight",true))||0),B=u+t+(parseInt(h.curCSS(this,"marginBottom",true))||0),z=h.extend({},m),s;if(l.my[0]==="right"){z.left-=y}else{if(l.my[0]===b){z.left-=y/2}}if(l.my[1]==="bottom"){z.top-=u}else{if(l.my[1]===b){z.top-=u/2}}if(!g.fractions){z.left=Math.round(z.left);z.top=Math.round(z.top)}s={left:z.left-x,top:z.top-t};h.each(["left","top"],function(D,C){if(h.ui.position[r[D]]){h.ui.position[r[D]][C](z,{targetWidth:n,targetHeight:j,elemWidth:y,elemHeight:u,collisionPosition:s,collisionWidth:A,collisionHeight:B,offset:q,my:l.my,at:l.at})}});if(h.fn.bgiframe){v.bgiframe()}v.offset(h.extend(z,{using:l.using}))})};h.ui.position={fit:{left:function(j,l){var n=h(window),m=l.collisionPosition.left+l.collisionWidth-n.width()-n.scrollLeft();j.left=m>0?j.left-m:Math.max(j.left-l.collisionPosition.left,j.left)},top:function(j,l){var n=h(window),m=l.collisionPosition.top+l.collisionHeight-n.height()-n.scrollTop();j.top=m>0?j.top-m:Math.max(j.top-l.collisionPosition.top,j.top)}},flip:{left:function(l,n){if(n.at[0]===b){return}var p=h(window),o=n.collisionPosition.left+n.collisionWidth-p.width()-p.scrollLeft(),j=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,m=n.at[0]==="left"?n.targetWidth:-n.targetWidth,q=-2*n.offset[0];l.left+=n.collisionPosition.left<0?j+m+q:o>0?j+m+q:0},top:function(l,n){if(n.at[1]===b){return}var p=h(window),o=n.collisionPosition.top+n.collisionHeight-p.height()-p.scrollTop(),j=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,m=n.at[1]==="top"?n.targetHeight:-n.targetHeight,q=-2*n.offset[1];l.top+=n.collisionPosition.top<0?j+m+q:o>0?j+m+q:0}}};if(!h.offset.setOffset){h.offset.setOffset=function(o,l){if(/static/.test(h.curCSS(o,"position"))){o.style.position="relative"}var n=h(o),q=n.offset(),j=parseInt(h.curCSS(o,"top",true),10)||0,p=parseInt(h.curCSS(o,"left",true),10)||0,m={top:(l.top-q.top)+j,left:(l.left-q.left)+p};if("using" in l){l.using.call(o,m)}else{n.css(m)}};h.fn.offset=function(j){var l=this[0];if(!l||!l.ownerDocument){return null}if(j){if(h.isFunction(j)){return this.each(function(m){h(this).offset(j.call(this,m,h(this).offset()))})}return this.each(function(){h.offset.setOffset(this,j)})}return d.call(this)}}if(!h.curCSS){h.curCSS=h.css}(function(){var j=document.getElementsByTagName("body")[0],r=document.createElement("div"),o,q,l,p,n;o=document.createElement(j?"div":"body");l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(j){h.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"})}for(var m in l){o.style[m]=l[m]}o.appendChild(r);q=j||document.documentElement;q.insertBefore(o,q.firstChild);r.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;";p=h(r).offset(function(s,t){return t}).offset();o.innerHTML="";q.removeChild(o);n=p.top+p.left+(j?2000:0);g.fractions=n>21&&n<22})()}(jQuery));(function(b,c){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(d){var e=this.options;if(this.helper||e.disabled||b(d.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(d);if(!this.handle){return false}if(e.iframeFix){b(e.iframeFix===true?"iframe":e.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(b(this).offset()).appendTo("body")})}return true},_mouseStart:function(d){var e=this.options;this.helper=this._createHelper(d);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(b.ui.ddmanager){b.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:d.pageX-this.offset.left,top:d.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(d);this.originalPageX=d.pageX;this.originalPageY=d.pageY;(e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt));if(e.containment){this._setContainment()}if(this._trigger("start",d)===false){this._clear();return false}this._cacheHelperProportions();if(b.ui.ddmanager&&!e.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,d)}this._mouseDrag(d,true);if(b.ui.ddmanager){b.ui.ddmanager.dragStart(this,d)}return true},_mouseDrag:function(d,f){this.position=this._generatePosition(d);this.positionAbs=this._convertPositionTo("absolute");if(!f){var e=this._uiHash();if(this._trigger("drag",d,e)===false){this._mouseUp({});return false}this.position=e.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(b.ui.ddmanager){b.ui.ddmanager.drag(this,d)}return false},_mouseStop:function(f){var h=false;if(b.ui.ddmanager&&!this.options.dropBehaviour){h=b.ui.ddmanager.drop(this,f)}if(this.dropped){h=this.dropped;this.dropped=false}var e=this.element[0],g=false;while(e&&(e=e.parentNode)){if(e==document){g=true}}if(!g&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!h)||(this.options.revert=="valid"&&h)||this.options.revert===true||(b.isFunction(this.options.revert)&&this.options.revert.call(this.element,h))){var d=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",f)!==false){d._clear()}})}else{if(this._trigger("stop",f)!==false){this._clear()}}return false},_mouseUp:function(d){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(b.ui.ddmanager){b.ui.ddmanager.dragStop(this,d)}return b.ui.mouse.prototype._mouseUp.call(this,d)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(d){var e=!this.options.handle||!b(this.options.handle,this.element).length?true:false;b(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==d.target){e=true}});return e},_createHelper:function(e){var f=this.options;var d=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[e])):(f.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!d.parents("body").length){d.appendTo((f.appendTo=="parent"?this.element[0].parentNode:f.appendTo))}if(d[0]!=this.element[0]&&!(/(fixed|absolute)/).test(d.css("position"))){d.css("position","absolute")}return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string"){d=d.split(" ")}if(b.isArray(d)){d={left:+d[0],top:+d[1]||0}}if("left" in d){this.offset.click.left=d.left+this.margins.left}if("right" in d){this.offset.click.left=this.helperProportions.width-d.right+this.margins.left}if("top" in d){this.offset.click.top=d.top+this.margins.top}if("bottom" in d){this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.element.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[g.containment=="document"?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,g.containment=="document"?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(g.containment=="document"?0:b(window).scrollLeft())+b(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(g.containment=="document"?0:b(window).scrollTop())+(b(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)&&g.containment.constructor!=Array){var h=b(g.containment);var e=h[0];if(!e){return}var f=h.offset();var d=(b(e).css("overflow")!="hidden");this.containment=[(parseInt(b(e).css("borderLeftWidth"),10)||0)+(parseInt(b(e).css("paddingLeft"),10)||0),(parseInt(b(e).css("borderTopWidth"),10)||0)+(parseInt(b(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(b(e).css("borderLeftWidth"),10)||0)-(parseInt(b(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(b(e).css("borderTopWidth"),10)||0)-(parseInt(b(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=h}else{if(g.containment.constructor==Array){this.containment=g.containment}}},_convertPositionTo:function(h,j){if(!j){j=this.position}var f=h=="absolute"?1:-1;var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(e[0].tagName);return{top:(j.top+this.offset.relative.top*f+this.offset.parent.top*f-(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:e.scrollTop()))*f)),left:(j.left+this.offset.relative.left*f+this.offset.parent.left*f-(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:e.scrollLeft())*f))}},_generatePosition:function(e){var f=this.options,n=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(n[0].tagName);var i=e.pageX;var h=e.pageY;if(this.originalPosition){var d;if(this.containment){if(this.relative_container){var m=this.relative_container.offset();d=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]}else{d=this.containment}if(e.pageX-this.offset.click.left<d[0]){i=d[0]+this.offset.click.left}if(e.pageY-this.offset.click.top<d[1]){h=d[1]+this.offset.click.top}if(e.pageX-this.offset.click.left>d[2]){i=d[2]+this.offset.click.left}if(e.pageY-this.offset.click.top>d[3]){h=d[3]+this.offset.click.top}}if(f.grid){var l=f.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/f.grid[1])*f.grid[1]:this.originalPageY;h=d?(!(l-this.offset.click.top<d[1]||l-this.offset.click.top>d[3])?l:(!(l-this.offset.click.top<d[1])?l-f.grid[1]:l+f.grid[1])):l;var g=f.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/f.grid[0])*f.grid[0]:this.originalPageX;i=d?(!(g-this.offset.click.left<d[0]||g-this.offset.click.left>d[2])?g:(!(g-this.offset.click.left<d[0])?g-f.grid[0]:g+f.grid[0])):g}}return{top:(h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:n.scrollTop())))),left:(i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&b.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:n.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(d,e,f){f=f||this._uiHash();b.ui.plugin.call(this,d,[e,f]);if(d=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return b.Widget.prototype._trigger.call(this,d,e,f)},plugins:{},_uiHash:function(d){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:"1.8.24"});b.ui.plugin.add("draggable","connectToSortable",{start:function(e,g){var f=b(this).data("draggable"),h=f.options,d=b.extend({},g,{item:f.element});f.sortables=[];b(h.connectToSortable).each(function(){var i=b.data(this,"sortable");if(i&&!i.options.disabled){f.sortables.push({instance:i,shouldRevert:i.options.revert});i.refreshPositions();i._trigger("activate",e,d)}})},stop:function(e,g){var f=b(this).data("draggable"),d=b.extend({},g,{item:f.element});b.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(e);this.instance.options.helper=this.instance.options._helper;if(f.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",e,d)}})},drag:function(e,h){var g=b(this).data("draggable"),d=this;var f=function(l){var r=this.offset.click.top,q=this.offset.click.left;var i=this.positionAbs.top,n=this.positionAbs.left;var m=l.height,p=l.width;var s=l.top,j=l.left;return b.ui.isOver(i+r,n+q,s,j,m,p)};b.each(g.sortables,function(j){this.instance.positionAbs=g.positionAbs;this.instance.helperProportions=g.helperProportions;this.instance.offset.click=g.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=b(d).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return h.helper[0]};e.target=this.instance.currentItem[0];this.instance._mouseCapture(e,true);this.instance._mouseStart(e,true,true);this.instance.offset.click.top=g.offset.click.top;this.instance.offset.click.left=g.offset.click.left;this.instance.offset.parent.left-=g.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=g.offset.parent.top-this.instance.offset.parent.top;g._trigger("toSortable",e);g.dropped=this.instance.element;g.currentItem=g.element;this.instance.fromOutside=g}if(this.instance.currentItem){this.instance._mouseDrag(e)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",e,this.instance._uiHash(this.instance));this.instance._mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}g._trigger("fromSortable",e);g.dropped=false}}})}});b.ui.plugin.add("draggable","cursor",{start:function(e,f){var d=b("body"),g=b(this).data("draggable").options;if(d.css("cursor")){g._cursor=d.css("cursor")}d.css("cursor",g.cursor)},stop:function(d,e){var f=b(this).data("draggable").options;if(f._cursor){b("body").css("cursor",f._cursor)}}});b.ui.plugin.add("draggable","opacity",{start:function(e,f){var d=b(f.helper),g=b(this).data("draggable").options;if(d.css("opacity")){g._opacity=d.css("opacity")}d.css("opacity",g.opacity)},stop:function(d,e){var f=b(this).data("draggable").options;if(f._opacity){b(e.helper).css("opacity",f._opacity)}}});b.ui.plugin.add("draggable","scroll",{start:function(e,f){var d=b(this).data("draggable");if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){d.overflowOffset=d.scrollParent.offset()}},drag:function(f,g){var e=b(this).data("draggable"),h=e.options,d=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!h.axis||h.axis!="x"){if((e.overflowOffset.top+e.scrollParent[0].offsetHeight)-f.pageY<h.scrollSensitivity){e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop+h.scrollSpeed}else{if(f.pageY-e.overflowOffset.top<h.scrollSensitivity){e.scrollParent[0].scrollTop=d=e.scrollParent[0].scrollTop-h.scrollSpeed}}}if(!h.axis||h.axis!="y"){if((e.overflowOffset.left+e.scrollParent[0].offsetWidth)-f.pageX<h.scrollSensitivity){e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(f.pageX-e.overflowOffset.left<h.scrollSensitivity){e.scrollParent[0].scrollLeft=d=e.scrollParent[0].scrollLeft-h.scrollSpeed}}}}else{if(!h.axis||h.axis!="x"){if(f.pageY-b(document).scrollTop()<h.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()-h.scrollSpeed)}else{if(b(window).height()-(f.pageY-b(document).scrollTop())<h.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()+h.scrollSpeed)}}}if(!h.axis||h.axis!="y"){if(f.pageX-b(document).scrollLeft()<h.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()-h.scrollSpeed)}else{if(b(window).width()-(f.pageX-b(document).scrollLeft())<h.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()+h.scrollSpeed)}}}}if(d!==false&&b.ui.ddmanager&&!h.dropBehaviour){b.ui.ddmanager.prepareOffsets(e,f)}}});b.ui.plugin.add("draggable","snap",{start:function(e,f){var d=b(this).data("draggable"),g=d.options;d.snapElements=[];b(g.snap.constructor!=String?(g.snap.items||":data(draggable)"):g.snap).each(function(){var i=b(this);var h=i.offset();if(this!=d.element[0]){d.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:h.top,left:h.left})}})},drag:function(x,s){var h=b(this).data("draggable"),u=h.options;var B=u.snapTolerance;var A=s.offset.left,z=A+h.helperProportions.width,g=s.offset.top,f=g+h.helperProportions.height;for(var y=h.snapElements.length-1;y>=0;y--){var v=h.snapElements[y].left,q=v+h.snapElements[y].width,p=h.snapElements[y].top,D=p+h.snapElements[y].height;if(!((v-B<A&&A<q+B&&p-B<g&&g<D+B)||(v-B<A&&A<q+B&&p-B<f&&f<D+B)||(v-B<z&&z<q+B&&p-B<g&&g<D+B)||(v-B<z&&z<q+B&&p-B<f&&f<D+B))){if(h.snapElements[y].snapping){(h.options.snap.release&&h.options.snap.release.call(h.element,x,b.extend(h._uiHash(),{snapItem:h.snapElements[y].item})))}h.snapElements[y].snapping=false;continue}if(u.snapMode!="inner"){var e=Math.abs(p-f)<=B;var C=Math.abs(D-g)<=B;var m=Math.abs(v-z)<=B;var n=Math.abs(q-A)<=B;if(e){s.position.top=h._convertPositionTo("relative",{top:p-h.helperProportions.height,left:0}).top-h.margins.top}if(C){s.position.top=h._convertPositionTo("relative",{top:D,left:0}).top-h.margins.top}if(m){s.position.left=h._convertPositionTo("relative",{top:0,left:v-h.helperProportions.width}).left-h.margins.left}if(n){s.position.left=h._convertPositionTo("relative",{top:0,left:q}).left-h.margins.left}}var j=(e||C||m||n);if(u.snapMode!="outer"){var e=Math.abs(p-g)<=B;var C=Math.abs(D-f)<=B;var m=Math.abs(v-A)<=B;var n=Math.abs(q-z)<=B;if(e){s.position.top=h._convertPositionTo("relative",{top:p,left:0}).top-h.margins.top}if(C){s.position.top=h._convertPositionTo("relative",{top:D-h.helperProportions.height,left:0}).top-h.margins.top}if(m){s.position.left=h._convertPositionTo("relative",{top:0,left:v}).left-h.margins.left}if(n){s.position.left=h._convertPositionTo("relative",{top:0,left:q-h.helperProportions.width}).left-h.margins.left}}if(!h.snapElements[y].snapping&&(e||C||m||n||j)){(h.options.snap.snap&&h.options.snap.snap.call(h.element,x,b.extend(h._uiHash(),{snapItem:h.snapElements[y].item})))}h.snapElements[y].snapping=(e||C||m||n||j)}}});b.ui.plugin.add("draggable","stack",{start:function(e,f){var h=b(this).data("draggable").options;var g=b.makeArray(b(h.stack)).sort(function(j,i){return(parseInt(b(j).css("zIndex"),10)||0)-(parseInt(b(i).css("zIndex"),10)||0)});if(!g.length){return}var d=parseInt(g[0].style.zIndex)||0;b(g).each(function(j){this.style.zIndex=d+j});this[0].style.zIndex=d+g.length}});b.ui.plugin.add("draggable","zIndex",{start:function(e,f){var d=b(f.helper),g=b(this).data("draggable").options;if(d.css("zIndex")){g._zIndex=d.css("zIndex")}d.css("zIndex",g.zIndex)},stop:function(d,e){var f=b(this).data("draggable").options;if(f._zIndex){b(e.helper).css("zIndex",f._zIndex)}}})})(jQuery);(function(b,c){b.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var e=this.options,d=e.accept;this.isover=0;this.isout=1;this.accept=b.isFunction(d)?d:function(f){return f.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[e.scope]=b.ui.ddmanager.droppables[e.scope]||[];b.ui.ddmanager.droppables[e.scope].push(this);(e.addClasses&&this.element.addClass("ui-droppable"))},destroy:function(){var d=b.ui.ddmanager.droppables[this.options.scope];for(var e=0;e<d.length;e++){if(d[e]==this){d.splice(e,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(d,e){if(d=="accept"){this.accept=b.isFunction(e)?e:function(f){return f.is(e)}}b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}(d&&this._trigger("activate",e,this.ui(d)))},_deactivate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}(d&&this._trigger("deactivate",e,this.ui(d)))},_over:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",e,this.ui(d))}},_out:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",e,this.ui(d))}},_drop:function(e,f){var d=f||b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return false}var g=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var h=b.data(this,"droppable");if(h.options.greedy&&!h.options.disabled&&h.options.scope==d.options.scope&&h.accept.call(h.element[0],(d.currentItem||d.element))&&b.ui.intersect(d,b.extend(h,{offset:h.element.offset()}),h.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",e,this.ui(d));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});b.extend(b.ui.droppable,{version:"1.8.24"});b.ui.intersect=function(u,m,q){if(!m.offset){return false}var f=(u.positionAbs||u.position.absolute).left,e=f+u.helperProportions.width,p=(u.positionAbs||u.position.absolute).top,o=p+u.helperProportions.height;var h=m.offset.left,d=h+m.proportions.width,s=m.offset.top,n=s+m.proportions.height;switch(q){case"fit":return(h<=f&&e<=d&&s<=p&&o<=n);break;case"intersect":return(h<f+(u.helperProportions.width/2)&&e-(u.helperProportions.width/2)<d&&s<p+(u.helperProportions.height/2)&&o-(u.helperProportions.height/2)<n);break;case"pointer":var i=((u.positionAbs||u.position.absolute).left+(u.clickOffset||u.offset.click).left),j=((u.positionAbs||u.position.absolute).top+(u.clickOffset||u.offset.click).top),g=b.ui.isOver(j,i,s,h,m.proportions.height,m.proportions.width);return g;break;case"touch":return((p>=s&&p<=n)||(o>=s&&o<=n)||(p<s&&o>n))&&((f>=h&&f<=d)||(e>=h&&e<=d)||(f<h&&e>d));break;default:return false;break}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(g,l){var d=b.ui.ddmanager.droppables[g.options.scope]||[];var h=l?l.type:null;var n=(g.currentItem||g.element).find(":data(droppable)").andSelf();droppablesLoop:for(var f=0;f<d.length;f++){if(d[f].options.disabled||(g&&!d[f].accept.call(d[f].element[0],(g.currentItem||g.element)))){continue}for(var e=0;e<n.length;e++){if(n[e]==d[f].element[0]){d[f].proportions.height=0;continue droppablesLoop}}d[f].visible=d[f].element.css("display")!="none";if(!d[f].visible){continue}if(h=="mousedown"){d[f]._activate.call(d[f],l)}d[f].offset=d[f].element.offset();d[f].proportions={width:d[f].element[0].offsetWidth,height:d[f].element[0].offsetHeight}}},drop:function(d,e){var f=false;b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)){f=this._drop.call(this,e)||f}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(d.currentItem||d.element))){this.isout=1;this.isover=0;this._deactivate.call(this,e)}});return f},dragStart:function(d,e){d.element.parents(":not(body,html)").bind("scroll.droppable",function(){if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}})},drag:function(d,e){if(d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var h=b.ui.intersect(d,this,this.options.tolerance);var j=!h&&this.isover==1?"isout":(h&&this.isover==0?"isover":null);if(!j){return}var i;if(this.options.greedy){var g=this.options.scope;var f=this.element.parents(":data(droppable)").filter(function(){return b.data(this,"droppable").options.scope===g});if(f.length){i=b.data(f[0],"droppable");i.greedyChild=(j=="isover"?1:0)}}if(i&&j=="isover"){i.isover=0;i.isout=1;i._out.call(i,e)}this[j]=1;this[j=="isout"?"isover":"isout"]=0;this[j=="isover"?"_over":"_out"].call(this,e);if(i&&j=="isout"){i.isout=0;i.isover=1;i._over.call(i,e)}})},dragStop:function(d,e){d.element.parents(":not(body,html)").unbind("scroll.droppable");if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}}}})(jQuery);(function(d,e){d.widget("ui.resizable",d.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var g=this,m=this.options;this.element.addClass("ui-resizable");d.extend(this,{_aspectRatio:!!(m.aspectRatio),aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(d('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=m.handles||(!d(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var p=this.handles.split(",");this.handles={};for(var h=0;h<p.length;h++){var l=d.trim(p[h]),f="ui-resizable-"+l;var j=d('<div class="ui-resizable-handle '+f+'"></div>');j.css({zIndex:m.zIndex});if("se"==l){j.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[l]=".ui-resizable-"+l;this.element.append(j)}}this._renderAxis=function(s){s=s||this.element;for(var o in this.handles){if(this.handles[o].constructor==String){this.handles[o]=d(this.handles[o],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var q=d(this.handles[o],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(o)?q.outerHeight():q.outerWidth();var n=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join("");s.css(n,r);this._proportionallyResize()}if(!d(this.handles[o]).length){continue}}};this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!g.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}g.axis=i&&i[1]?i[1]:"se"}});if(m.autoHide){this._handles.hide();d(this.element).addClass("ui-resizable-autohide").hover(function(){if(m.disabled){return}d(this).removeClass("ui-resizable-autohide");g._handles.show()},function(){if(m.disabled){return}if(!g.resizing){d(this).addClass("ui-resizable-autohide");g._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var f=function(h){d(h).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){f(this.element);var g=this.element;g.after(this.originalElement.css({position:g.css("position"),width:g.outerWidth(),height:g.outerHeight(),top:g.css("top"),left:g.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);f(this.originalElement);return this},_mouseCapture:function(g){var h=false;for(var f in this.handles){if(d(this.handles[f])[0]==g.target){h=true}}return !this.options.disabled&&h},_mouseStart:function(h){var l=this.options,g=this.element.position(),f=this.element;this.resizing=true;this.documentScroll={top:d(document).scrollTop(),left:d(document).scrollLeft()};if(f.is(".ui-draggable")||(/absolute/).test(f.css("position"))){f.css({position:"absolute",top:g.top,left:g.left})}this._renderProxy();var m=c(this.helper.css("left")),i=c(this.helper.css("top"));if(l.containment){m+=d(l.containment).scrollLeft()||0;i+=d(l.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:m,top:i};this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()};this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()};this.originalPosition={left:m,top:i};this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()};this.originalMousePosition={left:h.pageX,top:h.pageY};this.aspectRatio=(typeof l.aspectRatio=="number")?l.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var j=d(".ui-resizable-"+this.axis).css("cursor");d("body").css("cursor",j=="auto"?this.axis+"-resize":j);f.addClass("ui-resizable-resizing");this._propagate("start",h);return true},_mouseDrag:function(f){var i=this.helper,h=this.options,p={},s=this,l=this.originalMousePosition,q=this.axis;var t=(f.pageX-l.left)||0,r=(f.pageY-l.top)||0;var j=this._change[q];if(!j){return false}var n=j.apply(this,[f,t,r]),m=d.browser.msie&&d.browser.version<7,g=this.sizeDiff;this._updateVirtualBoundaries(f.shiftKey);if(this._aspectRatio||f.shiftKey){n=this._updateRatio(n,f)}n=this._respectSize(n,f);this._propagate("resize",f);i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(n);this._trigger("resize",f,this.ui());return false},_mouseStop:function(i){this.resizing=false;var j=this.options,p=this;if(this._helper){var h=this._proportionallyResizeElements,f=h.length&&(/textarea/i).test(h[0].nodeName),g=f&&d.ui.hasScroll(h[0],"left")?0:p.sizeDiff.height,m=f?0:p.sizeDiff.width;var q={width:(p.helper.width()-m),height:(p.helper.height()-g)},l=(parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left))||null,n=(parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top))||null;if(!j.animate){this.element.css(d.extend(q,{top:n,left:l}))}p.helper.height(p.size.height);p.helper.width(p.size.width);if(this._helper&&!j.animate){this._proportionallyResize()}}d("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",i);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(h){var l=this.options,j,i,g,m,f;f={minWidth:b(l.minWidth)?l.minWidth:0,maxWidth:b(l.maxWidth)?l.maxWidth:Infinity,minHeight:b(l.minHeight)?l.minHeight:0,maxHeight:b(l.maxHeight)?l.maxHeight:Infinity};if(this._aspectRatio||h){j=f.minHeight*this.aspectRatio;g=f.minWidth/this.aspectRatio;i=f.maxHeight*this.aspectRatio;m=f.maxWidth/this.aspectRatio;if(j>f.minWidth){f.minWidth=j}if(g>f.minHeight){f.minHeight=g}if(i<f.maxWidth){f.maxWidth=i}if(m<f.maxHeight){f.maxHeight=m}}this._vBoundaries=f},_updateCache:function(f){var g=this.options;this.offset=this.helper.offset();if(b(f.left)){this.position.left=f.left}if(b(f.top)){this.position.top=f.top}if(b(f.height)){this.size.height=f.height}if(b(f.width)){this.size.width=f.width}},_updateRatio:function(i,h){var j=this.options,l=this.position,g=this.size,f=this.axis;if(b(i.height)){i.width=(i.height*this.aspectRatio)}else{if(b(i.width)){i.height=(i.width/this.aspectRatio)}}if(f=="sw"){i.left=l.left+(g.width-i.width);i.top=null}if(f=="nw"){i.top=l.top+(g.height-i.height);i.left=l.left+(g.width-i.width)}return i},_respectSize:function(n,h){var l=this.helper,j=this._vBoundaries,t=this._aspectRatio||h.shiftKey,s=this.axis,v=b(n.width)&&j.maxWidth&&(j.maxWidth<n.width),p=b(n.height)&&j.maxHeight&&(j.maxHeight<n.height),i=b(n.width)&&j.minWidth&&(j.minWidth>n.width),u=b(n.height)&&j.minHeight&&(j.minHeight>n.height);if(i){n.width=j.minWidth}if(u){n.height=j.minHeight}if(v){n.width=j.maxWidth}if(p){n.height=j.maxHeight}var g=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height;var m=/sw|nw|w/.test(s),f=/nw|ne|n/.test(s);if(i&&m){n.left=g-j.minWidth}if(v&&m){n.left=g-j.maxWidth}if(u&&f){n.top=r-j.minHeight}if(p&&f){n.top=r-j.maxHeight}var q=!n.width&&!n.height;if(q&&!n.left&&n.top){n.top=null}else{if(q&&!n.top&&n.left){n.left=null}}return n},_proportionallyResize:function(){var m=this.options;if(!this._proportionallyResizeElements.length){return}var h=this.helper||this.element;for(var g=0;g<this._proportionallyResizeElements.length;g++){var j=this._proportionallyResizeElements[g];if(!this.borderDif){var f=[j.css("borderTopWidth"),j.css("borderRightWidth"),j.css("borderBottomWidth"),j.css("borderLeftWidth")],l=[j.css("paddingTop"),j.css("paddingRight"),j.css("paddingBottom"),j.css("paddingLeft")];this.borderDif=d.map(f,function(n,p){var o=parseInt(n,10)||0,q=parseInt(l[p],10)||0;return o+q})}if(d.browser.msie&&!(!(d(h).is(":hidden")||d(h).parents(":hidden").length))){continue}j.css({height:(h.height()-this.borderDif[0]-this.borderDif[2])||0,width:(h.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var g=this.element,j=this.options;this.elementOffset=g.offset();if(this._helper){this.helper=this.helper||d('<div style="overflow:hidden;"></div>');var f=d.browser.msie&&d.browser.version<7,h=(f?1:0),i=(f?2:-1);this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-h+"px",top:this.elementOffset.top-h+"px",zIndex:++j.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(h,g,f){return{width:this.originalSize.width+g}},w:function(i,g,f){var l=this.options,h=this.originalSize,j=this.originalPosition;return{left:j.left+g,width:h.width-g}},n:function(i,g,f){var l=this.options,h=this.originalSize,j=this.originalPosition;return{top:j.top+f,height:h.height-f}},s:function(h,g,f){return{height:this.originalSize.height+f}},se:function(h,g,f){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[h,g,f]))},sw:function(h,g,f){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[h,g,f]))},ne:function(h,g,f){return d.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[h,g,f]))},nw:function(h,g,f){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[h,g,f]))}},_propagate:function(g,f){d.ui.plugin.call(this,g,[f,this.ui()]);(g!="resize"&&this._trigger(g,f,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.extend(d.ui.resizable,{version:"1.8.24"});d.ui.plugin.add("resizable","alsoResize",{start:function(g,h){var f=d(this).data("resizable"),j=f.options;var i=function(l){d(l).each(function(){var m=d(this);m.data("resizable-alsoresize",{width:parseInt(m.width(),10),height:parseInt(m.height(),10),left:parseInt(m.css("left"),10),top:parseInt(m.css("top"),10)})})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.parentNode){if(j.alsoResize.length){j.alsoResize=j.alsoResize[0];i(j.alsoResize)}else{d.each(j.alsoResize,function(l){i(l)})}}else{i(j.alsoResize)}},resize:function(h,j){var g=d(this).data("resizable"),l=g.options,i=g.originalSize,n=g.originalPosition;var m={height:(g.size.height-i.height)||0,width:(g.size.width-i.width)||0,top:(g.position.top-n.top)||0,left:(g.position.left-n.left)||0},f=function(o,p){d(o).each(function(){var s=d(this),t=d(this).data("resizable-alsoresize"),r={},q=p&&p.length?p:s.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];d.each(q,function(u,x){var v=(t[x]||0)+(m[x]||0);if(v&&v>=0){r[x]=v||null}});s.css(r)})};if(typeof(l.alsoResize)=="object"&&!l.alsoResize.nodeType){d.each(l.alsoResize,function(o,p){f(o,p)})}else{f(l.alsoResize)}},stop:function(f,g){d(this).removeData("resizable-alsoresize")}});d.ui.plugin.add("resizable","animate",{stop:function(j,q){var r=d(this).data("resizable"),l=r.options;var i=r._proportionallyResizeElements,f=i.length&&(/textarea/i).test(i[0].nodeName),g=f&&d.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,n=f?0:r.sizeDiff.width;var h={width:(r.size.width-n),height:(r.size.height-g)},m=(parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left))||null,p=(parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top))||null;r.element.animate(d.extend(h,p&&m?{top:p,left:m}:{}),{duration:l.animateDuration,easing:l.animateEasing,step:function(){var o={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};if(i&&i.length){d(i[0]).css({width:o.width,height:o.height})}r._updateCache(o);r._propagate("resize",j)}})}});d.ui.plugin.add("resizable","containment",{start:function(g,t){var v=d(this).data("resizable"),l=v.options,n=v.element;var h=l.containment,m=(h instanceof d)?h.get(0):(/parent/.test(h))?n.parent().get(0):h;if(!m){return}v.containerElement=d(m);if(/document/.test(h)||h==document){v.containerOffset={left:0,top:0};v.containerPosition={left:0,top:0};v.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight}}else{var r=d(m),j=[];d(["Top","Right","Left","Bottom"]).each(function(p,o){j[p]=c(r.css("padding"+o))});v.containerOffset=r.offset();v.containerPosition=r.position();v.containerSize={height:(r.innerHeight()-j[3]),width:(r.innerWidth()-j[1])};var s=v.containerOffset,f=v.containerSize.height,q=v.containerSize.width,i=(d.ui.hasScroll(m,"left")?m.scrollWidth:q),u=(d.ui.hasScroll(m)?m.scrollHeight:f);v.parentData={element:m,left:s.left,top:s.top,width:i,height:u}}},resize:function(h,s){var v=d(this).data("resizable"),j=v.options,g=v.containerSize,r=v.containerOffset,p=v.size,q=v.position,t=v._aspectRatio||h.shiftKey,f={top:0,left:0},i=v.containerElement;if(i[0]!=document&&(/static/).test(i.css("position"))){f=r}if(q.left<(v._helper?r.left:0)){v.size.width=v.size.width+(v._helper?(v.position.left-r.left):(v.position.left-f.left));if(t){v.size.height=v.size.width/v.aspectRatio}v.position.left=j.helper?r.left:0}if(q.top<(v._helper?r.top:0)){v.size.height=v.size.height+(v._helper?(v.position.top-r.top):v.position.top);if(t){v.size.width=v.size.height*v.aspectRatio}v.position.top=v._helper?r.top:0}v.offset.left=v.parentData.left+v.position.left;v.offset.top=v.parentData.top+v.position.top;var n=Math.abs((v._helper?v.offset.left-f.left:(v.offset.left-f.left))+v.sizeDiff.width),u=Math.abs((v._helper?v.offset.top-f.top:(v.offset.top-r.top))+v.sizeDiff.height);var m=v.containerElement.get(0)==v.element.parent().get(0),l=/relative|absolute/.test(v.containerElement.css("position"));if(m&&l){n-=v.parentData.left}if(n+v.size.width>=v.parentData.width){v.size.width=v.parentData.width-n;if(t){v.size.height=v.size.width/v.aspectRatio}}if(u+v.size.height>=v.parentData.height){v.size.height=v.parentData.height-u;if(t){v.size.width=v.size.height*v.aspectRatio}}},stop:function(g,q){var s=d(this).data("resizable"),i=s.options,n=s.position,p=s.containerOffset,f=s.containerPosition,j=s.containerElement;var l=d(s.helper),t=l.offset(),r=l.outerWidth()-s.sizeDiff.width,m=l.outerHeight()-s.sizeDiff.height;if(s._helper&&!i.animate&&(/relative/).test(j.css("position"))){d(this).css({left:t.left-f.left-p.left,width:r,height:m})}if(s._helper&&!i.animate&&(/static/).test(j.css("position"))){d(this).css({left:t.left-f.left-p.left,width:r,height:m})}}});d.ui.plugin.add("resizable","ghost",{start:function(h,i){var f=d(this).data("resizable"),j=f.options,g=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof j.ghost=="string"?j.ghost:"");f.ghost.appendTo(f.helper)},resize:function(g,h){var f=d(this).data("resizable"),i=f.options;if(f.ghost){f.ghost.css({position:"relative",height:f.size.height,width:f.size.width})}},stop:function(g,h){var f=d(this).data("resizable"),i=f.options;if(f.ghost&&f.helper){f.helper.get(0).removeChild(f.ghost.get(0))}}});d.ui.plugin.add("resizable","grid",{resize:function(f,p){var r=d(this).data("resizable"),i=r.options,m=r.size,j=r.originalSize,l=r.originalPosition,q=r.axis,n=i._aspectRatio||f.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var h=Math.round((m.width-j.width)/(i.grid[0]||1))*(i.grid[0]||1),g=Math.round((m.height-j.height)/(i.grid[1]||1))*(i.grid[1]||1);if(/^(se|s|e)$/.test(q)){r.size.width=j.width+h;r.size.height=j.height+g}else{if(/^(ne)$/.test(q)){r.size.width=j.width+h;r.size.height=j.height+g;r.position.top=l.top-g}else{if(/^(sw)$/.test(q)){r.size.width=j.width+h;r.size.height=j.height+g;r.position.left=l.left-h}else{r.size.width=j.width+h;r.size.height=j.height+g;r.position.top=l.top-g;r.position.left=l.left-h}}}}});var c=function(f){return parseInt(f,10)||0};var b=function(f){return !isNaN(parseInt(f,10))}})(jQuery);(function(b,c){b.widget("ui.selectable",b.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var d=this;this.element.addClass("ui-selectable");this.dragged=false;var e;this.refresh=function(){e=b(d.options.filter,d.element[0]);e.addClass("ui-selectee");e.each(function(){var f=b(this);var g=f.offset();b.data(this,"selectable-item",{element:this,$element:f,left:g.left,top:g.top,right:g.left+f.outerWidth(),bottom:g.top+f.outerHeight(),startselected:false,selected:f.hasClass("ui-selected"),selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})};this.refresh();this.selectees=e.addClass("ui-selectee");this._mouseInit();this.helper=b("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(f){var d=this;this.opos=[f.pageX,f.pageY];if(this.options.disabled){return}var e=this.options;this.selectees=b(e.filter,this.element[0]);this._trigger("start",f);b(e.appendTo).append(this.helper);this.helper.css({left:f.clientX,top:f.clientY,width:0,height:0});if(e.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var g=b.data(this,"selectable-item");g.startselected=true;if(!f.metaKey&&!f.ctrlKey){g.$element.removeClass("ui-selected");g.selected=false;g.$element.addClass("ui-unselecting");g.unselecting=true;d._trigger("unselecting",f,{unselecting:g.element})}});b(f.target).parents().andSelf().each(function(){var h=b.data(this,"selectable-item");if(h){var g=(!f.metaKey&&!f.ctrlKey)||!h.$element.hasClass("ui-selected");h.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting");h.unselecting=!g;h.selecting=g;h.selected=g;if(g){d._trigger("selecting",f,{selecting:h.element})}else{d._trigger("unselecting",f,{unselecting:h.element})}return false}})},_mouseDrag:function(l){var e=this;this.dragged=true;if(this.options.disabled){return}var g=this.options;var f=this.opos[0],j=this.opos[1],d=l.pageX,i=l.pageY;if(f>d){var h=d;d=f;f=h}if(j>i){var h=i;i=j;j=h}this.helper.css({left:f,top:j,width:d-f,height:i-j});this.selectees.each(function(){var m=b.data(this,"selectable-item");if(!m||m.element==e.element[0]){return}var n=false;if(g.tolerance=="touch"){n=(!(m.left>d||m.right<f||m.top>i||m.bottom<j))}else{if(g.tolerance=="fit"){n=(m.left>f&&m.right<d&&m.top>j&&m.bottom<i)}}if(n){if(m.selected){m.$element.removeClass("ui-selected");m.selected=false}if(m.unselecting){m.$element.removeClass("ui-unselecting");m.unselecting=false}if(!m.selecting){m.$element.addClass("ui-selecting");m.selecting=true;e._trigger("selecting",l,{selecting:m.element})}}else{if(m.selecting){if((l.metaKey||l.ctrlKey)&&m.startselected){m.$element.removeClass("ui-selecting");m.selecting=false;m.$element.addClass("ui-selected");m.selected=true}else{m.$element.removeClass("ui-selecting");m.selecting=false;if(m.startselected){m.$element.addClass("ui-unselecting");m.unselecting=true}e._trigger("unselecting",l,{unselecting:m.element})}}if(m.selected){if(!l.metaKey&&!l.ctrlKey&&!m.startselected){m.$element.removeClass("ui-selected");m.selected=false;m.$element.addClass("ui-unselecting");m.unselecting=true;e._trigger("unselecting",l,{unselecting:m.element})}}}});return false},_mouseStop:function(f){var d=this;this.dragged=false;var e=this.options;b(".ui-unselecting",this.element[0]).each(function(){var g=b.data(this,"selectable-item");g.$element.removeClass("ui-unselecting");g.unselecting=false;g.startselected=false;d._trigger("unselected",f,{unselected:g.element})});b(".ui-selecting",this.element[0]).each(function(){var g=b.data(this,"selectable-item");g.$element.removeClass("ui-selecting").addClass("ui-selected");g.selecting=false;g.selected=true;g.startselected=true;d._trigger("selected",f,{selected:g.element})});this._trigger("stop",f);this.helper.remove();return false}});b.extend(b.ui.selectable,{version:"1.8.24"})})(jQuery);(function(b,c){b.widget("ui.sortable",b.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var d=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?d.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){b.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var d=this.items.length-1;d>=0;d--){this.items[d].item.removeData(this.widgetName+"-item")}return this},_setOption:function(d,e){if(d==="disabled"){this.options[d]=e;this.widget()[e?"addClass":"removeClass"]("ui-sortable-disabled")}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(h,i){var g=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(h);var f=null,e=this,d=b(h.target).parents().each(function(){if(b.data(this,g.widgetName+"-item")==e){f=b(this);return false}});if(b.data(h.target,g.widgetName+"-item")==e){f=b(h.target)}if(!f){return false}if(this.options.handle&&!i){var j=false;b(this.options.handle,f).find("*").andSelf().each(function(){if(this==h.target){j=true}});if(!j){return false}}this.currentItem=f;this._removeCurrentsFromItems();return true},_mouseStart:function(g,h,d){var j=this.options,e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(g);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:g.pageX-this.offset.left,top:g.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(g);this.originalPageX=g.pageX;this.originalPageY=g.pageY;(j.cursorAt&&this._adjustOffsetFromHelper(j.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(j.containment){this._setContainment()}if(j.cursor){if(b("body").css("cursor")){this._storedCursor=b("body").css("cursor")}b("body").css("cursor",j.cursor)}if(j.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",j.opacity)}if(j.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",j.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",g,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!d){for(var f=this.containers.length-1;f>=0;f--){this.containers[f]._trigger("activate",g,e._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!j.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,g)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(g);return true},_mouseDrag:function(h){this.position=this._generatePosition(h);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var j=this.options,d=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-h.pageY<j.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+j.scrollSpeed}else{if(h.pageY-this.overflowOffset.top<j.scrollSensitivity){this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-j.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-h.pageX<j.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+j.scrollSpeed}else{if(h.pageX-this.overflowOffset.left<j.scrollSensitivity){this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-j.scrollSpeed}}}else{if(h.pageY-b(document).scrollTop()<j.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()-j.scrollSpeed)}else{if(b(window).height()-(h.pageY-b(document).scrollTop())<j.scrollSensitivity){d=b(document).scrollTop(b(document).scrollTop()+j.scrollSpeed)}}if(h.pageX-b(document).scrollLeft()<j.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()-j.scrollSpeed)}else{if(b(window).width()-(h.pageX-b(document).scrollLeft())<j.scrollSensitivity){d=b(document).scrollLeft(b(document).scrollLeft()+j.scrollSpeed)}}}if(d!==false&&b.ui.ddmanager&&!j.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,h)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var f=this.items.length-1;f>=0;f--){var g=this.items[f],e=g.item[0],l=this._intersectsWithPointer(g);if(!l){continue}if(g.instance!==this.currentContainer){continue}if(e!=this.currentItem[0]&&this.placeholder[l==1?"next":"prev"]()[0]!=e&&!b.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!b.ui.contains(this.element[0],e):true)){this.direction=l==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(g)){this._rearrange(h,g)}else{break}this._trigger("change",h,this._uiHash());break}}this._contactContainers(h);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,h)}this._trigger("sort",h,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(e,f){if(!e){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,e)}if(this.options.revert){var d=this;var g=d.placeholder.offset();d.reverting=true;b(this.helper).animate({left:g.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(e)})}else{this._clear(e,f)}return false},cancel:function(){var d=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,d._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,d._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(f){var d=this._getItemsAsjQuery(f&&f.connected);var e=[];f=f||{};b(d).each(function(){var g=(b(f.item||this).attr(f.attribute||"id")||"").match(f.expression||(/(.+)[-=_](.+)/));if(g){e.push((f.key||g[1]+"[]")+"="+(f.key&&f.expression?g[1]:g[2]))}});if(!e.length&&f.key){e.push(f.key+"=")}return e.join("&")},toArray:function(f){var d=this._getItemsAsjQuery(f&&f.connected);var e=[];f=f||{};d.each(function(){e.push(b(f.item||this).attr(f.attribute||"id")||"")});return e},_intersectsWith:function(o){var f=this.positionAbs.left,e=f+this.helperProportions.width,n=this.positionAbs.top,m=n+this.helperProportions.height;var g=o.left,d=g+o.width,p=o.top,j=p+o.height;var q=this.offset.click.top,i=this.offset.click.left;var h=(n+q)>p&&(n+q)<j&&(f+i)>g&&(f+i)<d;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>o[this.floating?"width":"height"])){return h}else{return(g<f+(this.helperProportions.width/2)&&e-(this.helperProportions.width/2)<d&&p<n+(this.helperProportions.height/2)&&m-(this.helperProportions.height/2)<j)}},_intersectsWithPointer:function(f){var g=(this.options.axis==="x")||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top,f.height),e=(this.options.axis==="y")||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left,f.width),i=g&&e,d=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(!i){return false}return this.floating?(((h&&h=="right")||d=="down")?2:1):(d&&(d=="down"?2:1))},_intersectsWithSides:function(g){var e=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,g.top+(g.height/2),g.height),f=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,g.left+(g.width/2),g.width),d=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(this.floating&&h){return((h=="right"&&f)||(h=="left"&&!f))}else{return d&&((d=="down"&&e)||(d=="up"&&!e))}},_getDragVerticalDirection:function(){var d=this.positionAbs.top-this.lastPositionAbs.top;return d!=0&&(d>0?"down":"up")},_getDragHorizontalDirection:function(){var d=this.positionAbs.left-this.lastPositionAbs.left;return d!=0&&(d>0?"right":"left")},refresh:function(d){this._refreshItems(d);this.refreshPositions();return this},_connectWith:function(){var d=this.options;return d.connectWith.constructor==String?[d.connectWith]:d.connectWith},_getItemsAsjQuery:function(d){var o=this;var l=[];var g=[];var m=this._connectWith();if(m&&d){for(var f=m.length-1;f>=0;f--){var n=b(m[f]);for(var e=n.length-1;e>=0;e--){var h=b.data(n[e],this.widgetName);if(h&&h!=this&&!h.options.disabled){g.push([b.isFunction(h.options.items)?h.options.items.call(h.element):b(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}}}}g.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=g.length-1;f>=0;f--){g[f][0].each(function(){l.push(this)})}return b(l)},_removeCurrentsFromItems:function(){var f=this.currentItem.find(":data("+this.widgetName+"-item)");for(var e=0;e<this.items.length;e++){for(var d=0;d<f.length;d++){if(f[d]==this.items[e].item[0]){this.items.splice(e,1)}}}},_refreshItems:function(d){this.items=[];this.containers=[this];var m=this.items;var s=this;var h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],d,{item:this.currentItem}):b(this.options.items,this.element),this]];var o=this._connectWith();if(o&&this.ready){for(var g=o.length-1;g>=0;g--){var p=b(o[g]);for(var f=p.length-1;f>=0;f--){var l=b.data(p[f],this.widgetName);if(l&&l!=this&&!l.options.disabled){h.push([b.isFunction(l.options.items)?l.options.items.call(l.element[0],d,{item:this.currentItem}):b(l.options.items,l.element),l]);this.containers.push(l)}}}}for(var g=h.length-1;g>=0;g--){var n=h[g][1];var e=h[g][0];for(var f=0,q=e.length;f<q;f++){var r=b(e[f]);r.data(this.widgetName+"-item",n);m.push({item:r,instance:n,width:0,height:0,left:0,top:0})}}},refreshPositions:function(d){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var f=this.items.length-1;f>=0;f--){var g=this.items[f];if(g.instance!=this.currentContainer&&this.currentContainer&&g.item[0]!=this.currentItem[0]){continue}var e=this.options.toleranceElement?b(this.options.toleranceElement,g.item):g.item;if(!d){g.width=e.outerWidth();g.height=e.outerHeight()}var h=e.offset();g.left=h.left;g.top=h.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var f=this.containers.length-1;f>=0;f--){var h=this.containers[f].element.offset();this.containers[f].containerCache.left=h.left;this.containers[f].containerCache.top=h.top;this.containers[f].containerCache.width=this.containers[f].element.outerWidth();this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}}return this},_createPlaceholder:function(f){var d=f||this,g=d.options;if(!g.placeholder||g.placeholder.constructor==String){var e=g.placeholder;g.placeholder={element:function(){var h=b(document.createElement(d.currentItem[0].nodeName)).addClass(e||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e){h.style.visibility="hidden"}return h},update:function(h,i){if(e&&!g.forcePlaceholderSize){return}if(!i.height()){i.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10))}if(!i.width()){i.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=b(g.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);g.placeholder.update(d,d.placeholder)},_contactContainers:function(d){var f=null,n=null;for(var h=this.containers.length-1;h>=0;h--){if(b.ui.contains(this.currentItem[0],this.containers[h].element[0])){continue}if(this._intersectsWith(this.containers[h].containerCache)){if(f&&b.ui.contains(this.containers[h].element[0],f.element[0])){continue}f=this.containers[h];n=h}else{if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",d,this._uiHash(this));this.containers[h].containerCache.over=0}}}if(!f){return}if(this.containers.length===1){this.containers[n]._trigger("over",d,this._uiHash(this));this.containers[n].containerCache.over=1}else{if(this.currentContainer!=this.containers[n]){var m=10000;var l=null;var e=this.positionAbs[this.containers[n].floating?"left":"top"];for(var g=this.items.length-1;g>=0;g--){if(!b.ui.contains(this.containers[n].element[0],this.items[g].item[0])){continue}var o=this.containers[n].floating?this.items[g].item.offset().left:this.items[g].item.offset().top;if(Math.abs(o-e)<m){m=Math.abs(o-e);l=this.items[g];this.direction=(o-e>0)?"down":"up"}}if(!l&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[n];l?this._rearrange(d,l,null,true):this._rearrange(d,null,this.containers[n].element,true);this._trigger("change",d,this._uiHash());this.containers[n]._trigger("change",d,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",d,this._uiHash(this));this.containers[n].containerCache.over=1}}},_createHelper:function(e){var f=this.options;var d=b.isFunction(f.helper)?b(f.helper.apply(this.element[0],[e,this.currentItem])):(f.helper=="clone"?this.currentItem.clone():this.currentItem);if(!d.parents("body").length){b(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0])}if(d[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(d[0].style.width==""||f.forceHelperSize){d.width(this.currentItem.width())}if(d[0].style.height==""||f.forceHelperSize){d.height(this.currentItem.height())}return d},_adjustOffsetFromHelper:function(d){if(typeof d=="string"){d=d.split(" ")}if(b.isArray(d)){d={left:+d[0],top:+d[1]||0}}if("left" in d){this.offset.click.left=d.left+this.margins.left}if("right" in d){this.offset.click.left=this.helperProportions.width-d.right+this.margins.left}if("top" in d){this.offset.click.top=d.top+this.margins.top}if("bottom" in d){this.offset.click.top=this.helperProportions.height-d.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var d=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0])){d.left+=this.scrollParent.scrollLeft();d.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&b.browser.msie)){d={top:0,left:0}}return{top:d.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:d.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var d=this.currentItem.position();return{top:d.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:d.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var g=this.options;if(g.containment=="parent"){g.containment=this.helper[0].parentNode}if(g.containment=="document"||g.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(g.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(g.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)){var e=b(g.containment)[0];var f=b(g.containment).offset();var d=(b(e).css("overflow")!="hidden");this.containment=[f.left+(parseInt(b(e).css("borderLeftWidth"),10)||0)+(parseInt(b(e).css("paddingLeft"),10)||0)-this.margins.left,f.top+(parseInt(b(e).css("borderTopWidth"),10)||0)+(parseInt(b(e).css("paddingTop"),10)||0)-this.margins.top,f.left+(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(b(e).css("borderLeftWidth"),10)||0)-(parseInt(b(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,f.top+(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(b(e).css("borderTopWidth"),10)||0)-(parseInt(b(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(h,j){if(!j){j=this.position}var f=h=="absolute"?1:-1;var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(e[0].tagName);return{top:(j.top+this.offset.relative.top*f+this.offset.parent.top*f-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:e.scrollTop()))*f)),left:(j.left+this.offset.relative.left*f+this.offset.parent.left*f-(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:e.scrollLeft())*f))}},_generatePosition:function(g){var j=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(d[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var f=g.pageX;var e=g.pageY;if(this.originalPosition){if(this.containment){if(g.pageX-this.offset.click.left<this.containment[0]){f=this.containment[0]+this.offset.click.left}if(g.pageY-this.offset.click.top<this.containment[1]){e=this.containment[1]+this.offset.click.top}if(g.pageX-this.offset.click.left>this.containment[2]){f=this.containment[2]+this.offset.click.left}if(g.pageY-this.offset.click.top>this.containment[3]){e=this.containment[3]+this.offset.click.top}}if(j.grid){var i=this.originalPageY+Math.round((e-this.originalPageY)/j.grid[1])*j.grid[1];e=this.containment?(!(i-this.offset.click.top<this.containment[1]||i-this.offset.click.top>this.containment[3])?i:(!(i-this.offset.click.top<this.containment[1])?i-j.grid[1]:i+j.grid[1])):i;var h=this.originalPageX+Math.round((f-this.originalPageX)/j.grid[0])*j.grid[0];f=this.containment?(!(h-this.offset.click.left<this.containment[0]||h-this.offset.click.left>this.containment[2])?h:(!(h-this.offset.click.left<this.containment[0])?h-j.grid[0]:h+j.grid[0])):h}}return{top:(e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(l?0:d.scrollTop())))),left:(f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():l?0:d.scrollLeft())))}},_rearrange:function(j,h,e,g){e?e[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?h.item[0]:h.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var f=this,d=this.counter;window.setTimeout(function(){if(d==f.counter){f.refreshPositions(!g)}},0)},_clear:function(f,g){this.reverting=false;var h=[],d=this;if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS){if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static"){this._storedCSS[e]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!g){h.push(function(i){this._trigger("receive",i,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g){h.push(function(i){this._trigger("update",i,this._uiHash())})}if(this!==this.currentContainer){if(!g){h.push(function(i){this._trigger("remove",i,this._uiHash())});h.push((function(i){return function(j){i._trigger("receive",j,this._uiHash(this))}}).call(this,this.currentContainer));h.push((function(i){return function(j){i._trigger("update",j,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var e=this.containers.length-1;e>=0;e--){if(!g){h.push((function(i){return function(j){i._trigger("deactivate",j,this._uiHash(this))}}).call(this,this.containers[e]))}if(this.containers[e].containerCache.over){h.push((function(i){return function(j){i._trigger("out",j,this._uiHash(this))}}).call(this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this._storedCursor){b("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",f,this._uiHash());for(var e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return false}if(!g){this._trigger("beforeStop",f,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!g){for(var e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var d=e||this;return{helper:d.helper,placeholder:d.placeholder||b([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:e?e.element:null}}});b.extend(b.ui.sortable,{version:"1.8.24"})})(jQuery);(function(b,c){b.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var d=this,e=d.options;d.running=0;d.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");d.headers=d.element.find(e.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(e.disabled){return}b(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(e.disabled){return}b(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(e.disabled){return}b(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(e.disabled){return}b(this).removeClass("ui-state-focus")});d.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(e.navigation){var f=d.element.find("a").filter(e.navigationFilter).eq(0);if(f.length){var g=f.closest(".ui-accordion-header");if(g.length){d.active=g}else{d.active=f.closest(".ui-accordion-content").prev()}}}d.active=d._findActive(d.active||e.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");d.active.next().addClass("ui-accordion-content-active");d._createIcons();d.resize();d.element.attr("role","tablist");d.headers.attr("role","tab").bind("keydown.accordion",function(h){return d._keydown(h)}).next().attr("role","tabpanel");d.headers.not(d.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();if(!d.active.length){d.headers.eq(0).attr("tabIndex",0)}else{d.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0})}if(!b.browser.safari){d.headers.find("a").attr("tabIndex",-1)}if(e.event){d.headers.bind(e.event.split(" ").join(".accordion ")+".accordion",function(h){d._clickHandler.call(d,h,this);h.preventDefault()})}},_createIcons:function(){var d=this.options;if(d.icons){b("<span></span>").addClass("ui-icon "+d.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(d.icons.header).toggleClass(d.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var d=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var e=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(d.autoHeight||d.fillHeight){e.css("height","")}return b.Widget.prototype.destroy.call(this)},_setOption:function(d,e){b.Widget.prototype._setOption.apply(this,arguments);if(d=="active"){this.activate(e)}if(d=="icons"){this._destroyIcons();if(e){this._createIcons()}}if(d=="disabled"){this.headers.add(this.headers.next())[e?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")}},_keydown:function(g){if(this.options.disabled||g.altKey||g.ctrlKey){return}var h=b.ui.keyCode,f=this.headers.length,d=this.headers.index(g.target),e=false;switch(g.keyCode){case h.RIGHT:case h.DOWN:e=this.headers[(d+1)%f];break;case h.LEFT:case h.UP:e=this.headers[(d-1+f)%f];break;case h.SPACE:case h.ENTER:this._clickHandler({target:g.target},g.target);g.preventDefault()}if(e){b(g.target).attr("tabIndex",-1);b(e).attr("tabIndex",0);e.focus();return false}return true},resize:function(){var d=this.options,f;if(d.fillSpace){if(b.browser.msie){var e=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}f=this.element.parent().height();if(b.browser.msie){this.element.parent().css("overflow",e)}this.headers.each(function(){f-=b(this).outerHeight(true)});this.headers.next().each(function(){b(this).height(Math.max(0,f-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")}else{if(d.autoHeight){f=0;this.headers.next().each(function(){f=Math.max(f,b(this).height("").height())}).height(f)}}return this},activate:function(d){this.options.active=d;var e=this._findActive(d)[0];this._clickHandler({target:e},e);return this},_findActive:function(d){return d?typeof d==="number"?this.headers.filter(":eq("+d+")"):this.headers.not(this.headers.not(d)):d===false?b([]):this.headers.filter(":eq(0)")},_clickHandler:function(d,h){var n=this.options;if(n.disabled){return}if(!d.target){if(!n.collapsible){return}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header);this.active.next().addClass("ui-accordion-content-active");var j=this.active.next(),g={options:n,newHeader:b([]),oldHeader:n.active,newContent:b([]),oldContent:j},e=(this.active=b([]));this._toggle(e,j,g);return}var i=b(d.currentTarget||h),l=i[0]===this.active[0];n.active=n.collapsible&&l?false:this.headers.index(i);if(this.running||(!n.collapsible&&l)){return}var f=this.active,e=i.next(),j=this.active.next(),g={options:n,newHeader:l&&n.collapsible?b([]):i,oldHeader:this.active,newContent:l&&n.collapsible?b([]):e,oldContent:j},m=this.headers.index(this.active[0])>this.headers.index(i[0]);this.active=l?b([]):i;this._toggle(e,j,g,l,m);f.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(n.icons.headerSelected).addClass(n.icons.header);if(!l){i.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(n.icons.header).addClass(n.icons.headerSelected);i.next().addClass("ui-accordion-content-active")}return},_toggle:function(d,j,h,l,m){var o=this,p=o.options;o.toShow=d;o.toHide=j;o.data=h;var e=function(){if(!o){return}return o._completed.apply(o,arguments)};o._trigger("changestart",null,o.data);o.running=j.size()===0?d.size():j.size();if(p.animated){var g={};if(p.collapsible&&l){g={toShow:b([]),toHide:j,complete:e,down:m,autoHeight:p.autoHeight||p.fillSpace}}else{g={toShow:d,toHide:j,complete:e,down:m,autoHeight:p.autoHeight||p.fillSpace}}if(!p.proxied){p.proxied=p.animated}if(!p.proxiedDuration){p.proxiedDuration=p.duration}p.animated=b.isFunction(p.proxied)?p.proxied(g):p.proxied;p.duration=b.isFunction(p.proxiedDuration)?p.proxiedDuration(g):p.proxiedDuration;var n=b.ui.accordion.animations,f=p.duration,i=p.animated;if(i&&!n[i]&&!b.easing[i]){i="slide"}if(!n[i]){n[i]=function(q){this.slide(q,{easing:i,duration:f||700})}}n[i](g)}else{if(p.collapsible&&l){d.toggle()}else{j.hide();d.show()}e(true)}j.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();d.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(d){this.running=d?0:--this.running;if(this.running){return}if(this.options.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""})}this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length){this.toHide.parent()[0].className=this.toHide.parent()[0].className}this._trigger("change",null,this.data)}});b.extend(b.ui.accordion,{version:"1.8.24",animations:{slide:function(m,j){m=b.extend({easing:"swing",duration:300},m,j);if(!m.toHide.size()){m.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},m);return}if(!m.toShow.size()){m.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},m);return}var e=m.toShow.css("overflow"),i=0,f={},h={},g=["height","paddingTop","paddingBottom"],d;var l=m.toShow;d=l[0].style.width;l.width(l.parent().width()-parseFloat(l.css("paddingLeft"))-parseFloat(l.css("paddingRight"))-(parseFloat(l.css("borderLeftWidth"))||0)-(parseFloat(l.css("borderRightWidth"))||0));b.each(g,function(n,p){h[p]="hide";var o=(""+b.css(m.toShow[0],p)).match(/^([\d+-.]+)(.*)$/);f[p]={value:o[1],unit:o[2]||"px"}});m.toShow.css({height:0,overflow:"hidden"}).show();m.toHide.filter(":hidden").each(m.complete).end().filter(":visible").animate(h,{step:function(n,o){if(o.prop=="height"){i=(o.end-o.start===0)?0:(o.now-o.start)/(o.end-o.start)}m.toShow[0].style[o.prop]=(i*f[o.prop].value)+f[o.prop].unit},duration:m.duration,easing:m.easing,complete:function(){if(!m.autoHeight){m.toShow.css("height","")}m.toShow.css({width:d,overflow:e});m.complete()}})},bounceslide:function(d){this.slide(d,{easing:d.down?"easeOutBounce":"swing",duration:d.down?1000:200})}}})})(jQuery);(function(b,c){var d=0;b.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var e=this,g=this.element[0].ownerDocument,f;this.isMultiLine=this.element.is("textarea");this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(h){if(e.options.disabled||(e.element.propAttr("readOnly")&&(e.element.is(":not(.plastic-field-select)")))){return}f=false;var i=b.ui.keyCode;switch(h.keyCode){case i.PAGE_UP:e._move("previousPage",h);break;case i.PAGE_DOWN:e._move("nextPage",h);break;case i.UP:e._keyEvent("previous",h);break;case i.DOWN:e._keyEvent("next",h);break;case i.ENTER:case i.NUMPAD_ENTER:if(e.menu.active){f=true;h.preventDefault()}case i.TAB:if(!e.menu.active){return}e.menu.select(h);break;case i.ESCAPE:e.element.val(e.term);e.close(h);break;default:clearTimeout(e.searching);e.searching=setTimeout(function(){if(e.term!=e.element.val()){e.selectedItem=null;e.search(null,h)}},e.options.delay);break}}).bind("keypress.autocomplete",function(h){if(f){f=false;h.preventDefault()}}).bind("focus.autocomplete",function(){if(e.options.disabled){return}e.selectedItem=null;e.previous=e.element.val()}).bind("blur.autocomplete",function(h){if(e.options.disabled){return}clearTimeout(e.searching);e.closing=setTimeout(function(){e.close(h);e._change(h)},150)});this._initSource();this.menu=b("<ul></ul>").addClass("ui-autocomplete").appendTo(b(this.options.appendTo||"body",g)[0]).mousedown(function(h){var i=e.menu.element[0];if(!b(h.target).closest(".ui-menu-item").length){setTimeout(function(){b(document).one("mousedown",function(j){if(j.target!==e.element[0]&&j.target!==i&&!b.ui.contains(i,j.target)){e.close()}})},1)}setTimeout(function(){clearTimeout(e.closing)},13)}).menu({focus:function(i,j){var h=j.item.data("item.autocomplete");if(false!==e._trigger("focus",i,{item:h})){if(/^key/.test(i.originalEvent.type)){e.element.val(h.value)}}},selected:function(j,l){var i=l.item.data("item.autocomplete"),h=e.previous;if(e.element[0]!==g.activeElement){e.element.focus();e.previous=h;setTimeout(function(){e.previous=h;e.selectedItem=i},1)}if(false!==e._trigger("select",j,{item:i})){e.element.val(i.value)}e.term=e.element.val();e.close(j);e.selectedItem=i},blur:function(h,i){if(e.menu.element.is(":visible")&&(e.element.val()!==e.term)){e.element.val(e.term)}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if(b.fn.bgiframe){this.menu.element.bgiframe()}e.beforeunloadHandler=function(){e.element.removeAttr("autocomplete")};b(window).bind("beforeunload",e.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();b(window).unbind("beforeunload",this.beforeunloadHandler);b.Widget.prototype.destroy.call(this)},_setOption:function(e,f){b.Widget.prototype._setOption.apply(this,arguments);if(e==="source"){this._initSource()}if(e==="appendTo"){this.menu.element.appendTo(b(f||"body",this.element[0].ownerDocument)[0])}if(e==="disabled"&&f&&this.xhr){this.xhr.abort()}},_initSource:function(){var e=this,g,f;if(b.isArray(this.options.source)){g=this.options.source;this.source=function(i,h){h(b.ui.autocomplete.filter(g,i.term))}}else{if(typeof this.options.source==="string"){f=this.options.source;this.source=function(i,h){if(e.xhr){e.xhr.abort()}e.xhr=b.ajax({url:f,data:i,dataType:"json",success:function(l,j){h(l)},error:function(){h([])}})}}else{this.source=this.options.source}}},search:function(f,e){f=f!=null?f:this.element.val();this.term=this.element.val();if(f.length<this.options.minLength){return this.close(e)}clearTimeout(this.closing);if(this._trigger("search",e)===false){return}return this._search(f)},_search:function(e){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:e},this._response())},_response:function(){var f=this,e=++d;return function(g){if(e===d){f.__response(g)}f.pending--;if(!f.pending){f.element.removeClass("ui-autocomplete-loading")}}},__response:function(e){if(!this.options.disabled&&e&&e.length){e=this._normalize(e);this._suggest(e);this._trigger("open")}else{this.close()}},close:function(e){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",e)}},_change:function(e){if(this.previous!==this.element.val()){this._trigger("change",e,{item:this.selectedItem})}},_normalize:function(e){if(e.length&&e[0].label&&e[0].value){return e}return b.map(e,function(f){if(typeof f==="string"){return{label:f,value:f}}return b.extend({label:f.label||f.value,value:f.value||f.label},f)})},_suggest:function(e){var f=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(f,e);this.menu.deactivate();this.menu.refresh();f.show();this._resizeMenu();f.position(b.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next(new b.Event("mouseover"))}},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(g,f){var e=this;var h="";b.each(f,function(i,j){e._renderItem(g,j)})},_renderItem:function(e,f){return b("<li></li>").data("item.autocomplete",f).append(b("<a></a>").text(f.label)).appendTo(e)},_move:function(f,e){if(!this.menu.element.is(":visible")){this.search(null,e);return}if(this.menu.first()&&/^previous/.test(f)||this.menu.last()&&/^next/.test(f)){this.element.val(this.term);this.menu.deactivate();return}this.menu[f](e)},widget:function(){return this.menu.element},_keyEvent:function(f,e){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(f,e);e.preventDefault()}}});b.extend(b.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(g,e){var f=new RegExp(b.ui.autocomplete.escapeRegex(e),"i");return b.grep(g,function(h){return f.test(h.label||h.value||h)})}})}(jQuery));(function(b){b.widget("ui.menu",{_create:function(){var c=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(d){if(!b(d.target).closest(".ui-menu-item a").length){return}d.preventDefault();c.select(d)});this.refresh()},refresh:function(){var d=this;var c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(e){d.activate(e,b(this).parent())}).mouseleave(function(){d.deactivate()})},activate:function(f,e){this.deactivate();if(this.hasScroll()){var g=e.offset().top-this.element.offset().top,c=this.element.scrollTop(),d=this.element.height();if(g<0){this.element.scrollTop(c+g)}else{if(g>=d){this.element.scrollTop(c+g-d+e.height())}}}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",f,{item:e})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null},next:function(c){this.move("next",".ui-menu-item:first",c)},previous:function(c){this.move("prev",".ui-menu-item:last",c)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(f,e,d){if(!this.active){this.activate(d,this.element.children(e));return}var c=this.active[f+"All"](".ui-menu-item").eq(0);if(c.length){this.activate(d,c)}else{this.activate(d,this.element.children(e))}},nextPage:function(e){if(this.hasScroll()){if(!this.active||this.last()){this.activate(e,this.element.children(".ui-menu-item:first"));return}var f=this.active.offset().top,d=this.element.height(),c=this.element.children(".ui-menu-item").filter(function(){var g=b(this).offset().top-f-d+b(this).height();return g<10&&g>-10});if(!c.length){c=this.element.children(".ui-menu-item:last")}this.activate(e,c)}else{this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first()){this.activate(e,this.element.children(".ui-menu-item:last"));return}var f=this.active.offset().top,d=this.element.height(),c=this.element.children(".ui-menu-item").filter(function(){var g=b(this).offset().top-f+d-b(this).height();return g<10&&g>-10});if(!c.length){c=this.element.children(".ui-menu-item:first")}this.activate(e,c)}else{this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[b.fn.prop?"prop":"attr"]("scrollHeight")},select:function(c){this._trigger("selected",c,{item:this.active})}})}(jQuery));(function(g,c){var m,f,b,i,j="ui-button ui-widget ui-state-default ui-corner-all",d="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var n=g(this).find(":ui-button");setTimeout(function(){n.button("refresh")},1)},e=function(o){var n=o.name,p=o.form,q=g([]);if(n){if(p){q=g(p).find("[name='"+n+"']")}else{q=g("[name='"+n+"']",o.ownerDocument).filter(function(){return !this.form})}}return q};g.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",l);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.propAttr("disabled")}else{this.element.propAttr("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var n=this,p=this.options,q=this.type==="checkbox"||this.type==="radio",r="ui-state-hover"+(!q?" ui-state-active":""),o="ui-state-focus";if(p.label===null){p.label=this.buttonElement.html()}this.buttonElement.addClass(j).attr("role","button").bind("mouseenter.button",function(){if(p.disabled){return}g(this).addClass("ui-state-hover");if(this===m){g(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){if(p.disabled){return}g(this).removeClass(r)}).bind("click.button",function(s){if(p.disabled){s.preventDefault();s.stopImmediatePropagation()}});this.element.bind("focus.button",function(){n.buttonElement.addClass(o)}).bind("blur.button",function(){n.buttonElement.removeClass(o)});if(q){this.element.bind("change.button",function(){if(i){return}n.refresh()});this.buttonElement.bind("mousedown.button",function(s){if(p.disabled){return}i=false;f=s.pageX;b=s.pageY}).bind("mouseup.button",function(s){if(p.disabled){return}if(f!==s.pageX||b!==s.pageY){i=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(p.disabled||i){return false}g(this).toggleClass("ui-state-active");n.buttonElement.attr("aria-pressed",n.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(p.disabled||i){return false}g(this).addClass("ui-state-active");n.buttonElement.attr("aria-pressed","true");var s=n.element[0];e(s).not(s).map(function(){return g(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown.button",function(){if(p.disabled){return false}g(this).addClass("ui-state-active");m=this;g(document).one("mouseup",function(){m=null})}).bind("mouseup.button",function(){if(p.disabled){return false}g(this).removeClass("ui-state-active")}).bind("keydown.button",function(s){if(p.disabled){return false}if(s.keyCode==g.ui.keyCode.SPACE||s.keyCode==g.ui.keyCode.ENTER){g(this).addClass("ui-state-active")}}).bind("keyup.button",function(){g(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(s){if(s.keyCode===g.ui.keyCode.SPACE){g(this).click()}})}}}this._setOption("disabled",p.disabled);this._resetButton()},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox"}else{if(this.element.is(":radio")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){var n=this.element.parents().filter(":last"),p="label[for='"+this.element.attr("id")+"']";this.buttonElement=n.find(p);if(!this.buttonElement.length){n=n.length?n.siblings():this.element.siblings();this.buttonElement=n.filter(p);if(!this.buttonElement.length){this.buttonElement=n.find(p)}}this.element.addClass("ui-helper-hidden-accessible");var o=this.element.is(":checked");if(o){this.buttonElement.addClass("ui-state-active")}this.buttonElement.attr("aria-pressed",o)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(j+" "+d+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}g.Widget.prototype.destroy.call(this)},_setOption:function(n,o){g.Widget.prototype._setOption.apply(this,arguments);if(n==="disabled"){if(o){this.element.propAttr("disabled",true)}else{this.element.propAttr("disabled",false)}return}this._resetButton()},refresh:function(){var n=this.element.is(":disabled");if(n!==this.options.disabled){this._setOption("disabled",n)}if(this.type==="radio"){e(this.element[0]).each(function(){if(g(this).is(":checked")){g(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{g(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var r=this.buttonElement.removeClass(h),p=g("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(r.empty()).text(),o=this.options.icons,n=o.primary&&o.secondary,q=[];if(o.primary||o.secondary){if(this.options.text){q.push("ui-button-text-icon"+(n?"s":(o.primary?"-primary":"-secondary")))}if(o.primary){r.prepend("<span class='ui-button-icon-primary ui-icon "+o.primary+"'></span>")}if(o.secondary){r.append("<span class='ui-button-icon-secondary ui-icon "+o.secondary+"'></span>")}if(!this.options.text){q.push(n?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){r.attr("title",p)}}}else{q.push("ui-button-text-only")}r.addClass(q.join(" "))}});g.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(n,o){if(n==="disabled"){this.buttons.button("option",n,o)}g.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var n=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return g(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(n?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(n?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return g(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");g.Widget.prototype.destroy.call(this)}})}(jQuery));(function(e,f){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",b={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},d={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};e.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(h){var g=e(this).css(h).offset().top;if(g<0){e(this).css("top",h.top-g)}}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.options.title=this.options.title||this.originalTitle;var p=this,q=p.options,n=q.title||"&#160;",h=e.ui.dialog.getTitleId(p.element),o=(p.uiDialog=e("<div></div>")).appendTo(document.body).hide().addClass(c+q.dialogClass).css({zIndex:q.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(r){if(q.closeOnEscape&&!r.isDefaultPrevented()&&r.keyCode&&r.keyCode===e.ui.keyCode.ESCAPE){p.close(r);r.preventDefault()}}).attr({role:"dialog","aria-labelledby":h}).mousedown(function(r){p.moveToTop(false,r)}),j=p.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(o),i=(p.uiDialogTitlebar=e("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(o),m=e('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){m.addClass("ui-state-hover")},function(){m.removeClass("ui-state-hover")}).focus(function(){m.addClass("ui-state-focus")}).blur(function(){m.removeClass("ui-state-focus")}).click(function(r){p.close(r);return false}).appendTo(i),l=(p.uiDialogTitlebarCloseText=e("<span></span>")).addClass("ui-icon ui-icon-closethick").text(q.closeText).appendTo(m),g=e("<span></span>").addClass("ui-dialog-title").attr("id",h).html(n).prependTo(i);if(e.isFunction(q.beforeclose)&&!e.isFunction(q.beforeClose)){q.beforeClose=q.beforeclose}i.find("*").add(i).disableSelection();if(q.draggable&&e.fn.draggable){p._makeDraggable()}if(q.resizable&&e.fn.resizable){p._makeResizable()}p._createButtons(q.buttons);p._isOpen=false;if(e.fn.bgiframe){o.bgiframe()}},_init:function(){if(this.options.autoOpen){this.open()}},destroy:function(){var g=this;if(g.overlay){g.overlay.destroy()}g.uiDialog.hide();g.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");g.uiDialog.remove();if(g.originalTitle){g.element.attr("title",g.originalTitle)}return g},widget:function(){return this.uiDialog},close:function(j){var g=this,i,h;if(false===g._trigger("beforeClose",j)){return}if(g.overlay){g.overlay.destroy()}g.uiDialog.unbind("keypress.ui-dialog");g._isOpen=false;if(g.options.hide){g.uiDialog.hide(g.options.hide,function(){g._trigger("close",j)})}else{g.uiDialog.hide();g._trigger("close",j)}e.ui.dialog.overlay.resize();if(g.options.modal){i=0;e(".ui-dialog").each(function(){if(this!==g.uiDialog[0]){h=e(this).css("z-index");if(!isNaN(h)){i=Math.max(i,h)}}});e.ui.dialog.maxZ=i}return g},isOpen:function(){return this._isOpen},moveToTop:function(l,j){var g=this,i=g.options,h;if((i.modal&&!l)||(!i.stack&&!i.modal)){return g._trigger("focus",j)}if(i.zIndex>e.ui.dialog.maxZ){e.ui.dialog.maxZ=i.zIndex}if(g.overlay){e.ui.dialog.maxZ+=1;g.overlay.$el.css("z-index",e.ui.dialog.overlay.maxZ=e.ui.dialog.maxZ)}h={scrollTop:g.element.scrollTop(),scrollLeft:g.element.scrollLeft()};e.ui.dialog.maxZ+=1;g.uiDialog.css("z-index",e.ui.dialog.maxZ);g.element.attr(h);g._trigger("focus",j);return g},open:function(){if(this._isOpen){return}var h=this,i=h.options,g=h.uiDialog;h.overlay=i.modal?new e.ui.dialog.overlay(h):null;h._size();h._position(i.position);g.show(i.show);h.moveToTop(true);if(i.modal){g.bind("keydown.ui-dialog",function(m){if(m.keyCode!==e.ui.keyCode.TAB){return}var l=e(":tabbable",this),n=l.filter(":first"),j=l.filter(":last");if(m.target===j[0]&&!m.shiftKey){n.focus(1);return false}else{if(m.target===n[0]&&m.shiftKey){j.focus(1);return false}}})}e(h.element.find(":tabbable").get().concat(g.find(".ui-dialog-buttonpane :tabbable").get().concat(g.get()))).eq(0).focus();h._isOpen=true;h._trigger("open");return h},_createButtons:function(j){var i=this,g=false,h=e("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),l=e("<div></div>").addClass("ui-dialog-buttonset").appendTo(h);i.uiDialog.find(".ui-dialog-buttonpane").remove();if(typeof j==="object"&&j!==null){e.each(j,function(){return !(g=true)})}if(g){e.each(j,function(m,o){o=e.isFunction(o)?{click:o,text:m}:o;var n=e('<button type="button"></button>').click(function(){o.click.apply(i.element[0],arguments)}).appendTo(l);e.each(o,function(p,q){if(p==="click"){return}if(p in n){n[p](q)}else{n.attr(p,q)}});if(e.fn.button){n.button()}});h.appendTo(i.uiDialog)}},_makeDraggable:function(){var g=this,j=g.options,l=e(document),i;function h(m){return{position:m.position,offset:m.offset}}g.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(m,n){i=j.height==="auto"?"auto":e(this).height();e(this).height(e(this).height()).addClass("ui-dialog-dragging");g._trigger("dragStart",m,h(n))},drag:function(m,n){g._trigger("drag",m,h(n))},stop:function(m,n){j.position=[n.position.left-l.scrollLeft(),n.position.top-l.scrollTop()];e(this).removeClass("ui-dialog-dragging").height(i);g._trigger("dragStop",m,h(n));e.ui.dialog.overlay.resize()}})},_makeResizable:function(m){m=(m===f?this.options.resizable:m);var h=this,l=h.options,g=h.uiDialog.css("position"),j=(typeof m==="string"?m:"n,e,s,w,se,sw,ne,nw");function i(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}h.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:h.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:h._minHeight(),handles:j,start:function(n,o){e(this).addClass("ui-dialog-resizing");h._trigger("resizeStart",n,i(o))},resize:function(n,o){h._trigger("resize",n,i(o))},stop:function(n,o){e(this).removeClass("ui-dialog-resizing");l.height=e(this).height();l.width=e(this).width();h._trigger("resizeStop",n,i(o));e.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var g=this.options;if(g.height==="auto"){return g.minHeight}else{return Math.min(g.minHeight,g.height)}},_position:function(h){var i=[],j=[0,0],g;if(h){if(typeof h==="string"||(typeof h==="object"&&"0" in h)){i=h.split?h.split(" "):[h[0],h[1]];if(i.length===1){i[1]=i[0]}e.each(["left","top"],function(m,l){if(+i[m]===i[m]){j[m]=i[m];i[m]=l}});h={my:i.join(" "),at:i.join(" "),offset:j.join(" ")}}h=e.extend({},e.ui.dialog.prototype.options.position,h)}else{h=e.ui.dialog.prototype.options.position}g=this.uiDialog.is(":visible");if(!g){this.uiDialog.show()}this.uiDialog.css({top:0,left:0}).position(e.extend({of:window},h));if(!g){this.uiDialog.hide()}},_setOptions:function(j){var h=this,g={},i=false;e.each(j,function(l,m){h._setOption(l,m);if(l in b){i=true}if(l in d){g[l]=m}});if(i){this._size()}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option",g)}},_setOption:function(j,l){var h=this,g=h.uiDialog;switch(j){case"beforeclose":j="beforeClose";break;case"buttons":h._createButtons(l);break;case"closeText":h.uiDialogTitlebarCloseText.text(""+l);break;case"dialogClass":g.removeClass(h.options.dialogClass).addClass(c+l);break;case"disabled":if(l){g.addClass("ui-dialog-disabled")}else{g.removeClass("ui-dialog-disabled")}break;case"draggable":var i=g.is(":data(draggable)");if(i&&!l){g.draggable("destroy")}if(!i&&l){h._makeDraggable()}break;case"position":h._position(l);break;case"resizable":var m=g.is(":data(resizable)");if(m&&!l){g.resizable("destroy")}if(m&&typeof l==="string"){g.resizable("option","handles",l)}if(!m&&l!==false){h._makeResizable(l)}break;case"title":e(".ui-dialog-title",h.uiDialogTitlebar).html(""+(l||"&#160;"));break}e.Widget.prototype._setOption.apply(h,arguments)},_size:function(){var l=this.options,h,j,g=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(l.minWidth>l.width){l.width=l.minWidth}h=this.uiDialog.css({height:"auto",width:l.width}).height();j=Math.max(0,l.minHeight-h);if(l.height==="auto"){if(e.support.minHeight){this.element.css({minHeight:j,height:"auto"})}else{this.uiDialog.show();var i=this.element.css("height","auto").height();if(!g){this.uiDialog.hide()}this.element.height(Math.max(i,j))}}else{this.element.height(Math.max(l.height-h,0))}if(this.uiDialog.is(":data(resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});e.extend(e.ui.dialog,{version:"1.8.24",uuid:0,maxZ:0,getTitleId:function(g){var h=g.attr("id");if(!h){this.uuid+=1;h=this.uuid}return"ui-dialog-title-"+h},overlay:function(g){this.$el=e.ui.dialog.overlay.create(g)}});e.extend(e.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:e.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(g){return g+".dialog-overlay"}).join(" "),create:function(h){if(this.instances.length===0){setTimeout(function(){if(e.ui.dialog.overlay.instances.length){e(document).bind(e.ui.dialog.overlay.events,function(i){if(e(i.target).zIndex()<e.ui.dialog.overlay.maxZ){return false}})}},1);e(document).bind("keydown.dialog-overlay",function(i){if(h.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===e.ui.keyCode.ESCAPE){h.close(i);i.preventDefault()}});e(window).bind("resize.dialog-overlay",e.ui.dialog.overlay.resize)}var g=(this.oldInstances.pop()||e("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});if(e.fn.bgiframe){g.bgiframe()}this.instances.push(g);return g},destroy:function(g){var h=e.inArray(g,this.instances);if(h!=-1){this.oldInstances.push(this.instances.splice(h,1)[0])}if(this.instances.length===0){e([document,window]).unbind(".dialog-overlay")}g.remove();var i=0;e.each(this.instances,function(){i=Math.max(i,this.css("z-index"))});this.maxZ=i},height:function(){var h,g;if(e.browser.msie&&e.browser.version<7){h=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);g=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(h<g){return e(window).height()+"px"}else{return h+"px"}}else{return e(document).height()+"px"}},width:function(){var g,h;if(e.browser.msie){g=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);h=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(g<h){return e(window).width()+"px"}else{return g+"px"}}else{return e(document).width()+"px"}},resize:function(){var g=e([]);e.each(e.ui.dialog.overlay.instances,function(){g=g.add(this)});g.css({width:0,height:0}).css({width:e.ui.dialog.overlay.width(),height:e.ui.dialog.overlay.height()})}});e.extend(e.ui.dialog.overlay.prototype,{destroy:function(){e.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(c,d){var b=5;c.widget("ui.slider",c.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var f=this,m=this.options,l=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),j="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",e=(m.values&&m.values.length)||1,h=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(m.disabled?" ui-slider-disabled ui-disabled":""));this.range=c([]);if(m.range){if(m.range===true){if(!m.values){m.values=[this._valueMin(),this._valueMin()]}if(m.values.length&&m.values.length!==2){m.values=[m.values[0],m.values[0]]}}this.range=c("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((m.range==="min"||m.range==="max")?" ui-slider-range-"+m.range:""))}for(var g=l.length;g<e;g+=1){h.push(j)}this.handles=l.add(c(h.join("")).appendTo(f.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(i){i.preventDefault()}).hover(function(){if(!m.disabled){c(this).addClass("ui-state-hover")}},function(){c(this).removeClass("ui-state-hover")}).focus(function(){if(!m.disabled){c(".ui-slider .ui-state-focus").removeClass("ui-state-focus");c(this).addClass("ui-state-focus")}else{c(this).blur()}}).blur(function(){c(this).removeClass("ui-state-focus")});this.handles.each(function(n){c(this).data("index.ui-slider-handle",n)});this.handles.keydown(function(q){var n=c(this).data("index.ui-slider-handle"),r,o,i,p;if(f.options.disabled){return}switch(q.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:q.preventDefault();if(!f._keySliding){f._keySliding=true;c(this).addClass("ui-state-active");r=f._start(q,n);if(r===false){return}}break}p=f.options.step;if(f.options.values&&f.options.values.length){o=i=f.values(n)}else{o=i=f.value()}switch(q.keyCode){case c.ui.keyCode.HOME:i=f._valueMin();break;case c.ui.keyCode.END:i=f._valueMax();break;case c.ui.keyCode.PAGE_UP:i=f._trimAlignValue(o+((f._valueMax()-f._valueMin())/b));break;case c.ui.keyCode.PAGE_DOWN:i=f._trimAlignValue(o-((f._valueMax()-f._valueMin())/b));break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(o===f._valueMax()){return}i=f._trimAlignValue(o+p);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(o===f._valueMin()){return}i=f._trimAlignValue(o-p);break}f._slide(q,n,i)}).keyup(function(n){var i=c(this).data("index.ui-slider-handle");if(f._keySliding){f._keySliding=false;f._stop(n,i);f._change(n,i);c(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(g){var h=this.options,l,n,f,i,q,m,p,j,e;if(h.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();l={x:g.pageX,y:g.pageY};n=this._normValueFromMouse(l);f=this._valueMax()-this._valueMin()+1;q=this;this.handles.each(function(o){var r=Math.abs(n-q.values(o));if(f>r){f=r;i=c(this);m=o}});if(h.range===true&&this.values(1)===h.min){m+=1;i=c(this.handles[m])}p=this._start(g,m);if(p===false){return false}this._mouseSliding=true;q._handleIndex=m;i.addClass("ui-state-active").focus();j=i.offset();e=!c(g.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=e?{left:0,top:0}:{left:g.pageX-j.left-(i.width()/2),top:g.pageY-j.top-(i.height()/2)-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(g,m,n)}this._animateOff=true;return true},_mouseStart:function(e){return true},_mouseDrag:function(g){var e={x:g.pageX,y:g.pageY},f=this._normValueFromMouse(e);this._slide(g,this._handleIndex,f);return false},_mouseStop:function(e){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(e,this._handleIndex);this._change(e,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(f){var e,i,h,g,j;if(this.orientation==="horizontal"){e=this.elementSize.width;i=f.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{e=this.elementSize.height;i=f.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}h=(i/e);if(h>1){h=1}if(h<0){h=0}if(this.orientation==="vertical"){h=1-h}g=this._valueMax()-this._valueMin();j=this._valueMin()+h*g;return this._trimAlignValue(j)},_start:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}return this._trigger("start",g,e)},_slide:function(i,h,g){var e,f,j;if(this.options.values&&this.options.values.length){e=this.values(h?0:1);if((this.options.values.length===2&&this.options.range===true)&&((h===0&&g>e)||(h===1&&g<e))){g=e}if(g!==this.values(h)){f=this.values();f[h]=g;j=this._trigger("slide",i,{handle:this.handles[h],value:g,values:f});e=this.values(h?0:1);if(j!==false){this.values(h,g,true)}}}else{if(g!==this.value()){j=this._trigger("slide",i,{handle:this.handles[h],value:g});if(j!==false){this.value(g)}}}},_stop:function(g,f){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("stop",g,e)},_change:function(g,f){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[f],value:this.value()};if(this.options.values&&this.options.values.length){e.value=this.values(f);e.values=this.values()}this._trigger("change",g,e)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e);this._refreshValue();this._change(null,0);return}return this._value()},values:function(f,j){var h,e,g;if(arguments.length>1){this.options.values[f]=this._trimAlignValue(j);this._refreshValue();this._change(null,f);return}if(arguments.length){if(c.isArray(arguments[0])){h=this.options.values;e=arguments[0];for(g=0;g<h.length;g+=1){h[g]=this._trimAlignValue(e[g]);this._change(null,g)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(f)}else{return this.value()}}}else{return this._values()}},_setOption:function(f,g){var e,h=0;if(c.isArray(this.options.values)){h=this.options.values.length}c.Widget.prototype._setOption.apply(this,arguments);switch(f){case"disabled":if(g){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.propAttr("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.propAttr("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(e=0;e<h;e+=1){this._change(null,e)}this._animateOff=false;break}},_value:function(){var e=this.options.value;e=this._trimAlignValue(e);return e},_values:function(e){var h,g,f;if(arguments.length){h=this.options.values[e];h=this._trimAlignValue(h);return h}else{g=this.options.values.slice();for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(g[f])}return g}},_trimAlignValue:function(h){if(h<=this._valueMin()){return this._valueMin()}if(h>=this._valueMax()){return this._valueMax()}var e=(this.options.step>0)?this.options.step:1,g=(h-this._valueMin())%e,f=h-g;if(Math.abs(g)*2>=e){f+=(g>0)?e:(-e)}return parseFloat(f.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var h=this.options.range,g=this.options,p=this,f=(!this._animateOff)?g.animate:false,i,e={},j,m,l,n;if(this.options.values&&this.options.values.length){this.handles.each(function(q,o){i=(p.values(q)-p._valueMin())/(p._valueMax()-p._valueMin())*100;e[p.orientation==="horizontal"?"left":"bottom"]=i+"%";c(this).stop(1,1)[f?"animate":"css"](e,g.animate);if(p.options.range===true){if(p.orientation==="horizontal"){if(q===0){p.range.stop(1,1)[f?"animate":"css"]({left:i+"%"},g.animate)}if(q===1){p.range[f?"animate":"css"]({width:(i-j)+"%"},{queue:false,duration:g.animate})}}else{if(q===0){p.range.stop(1,1)[f?"animate":"css"]({bottom:(i)+"%"},g.animate)}if(q===1){p.range[f?"animate":"css"]({height:(i-j)+"%"},{queue:false,duration:g.animate})}}}j=i})}else{m=this.value();l=this._valueMin();n=this._valueMax();i=(n!==l)?(m-l)/(n-l)*100:0;e[p.orientation==="horizontal"?"left":"bottom"]=i+"%";this.handle.stop(1,1)[f?"animate":"css"](e,g.animate);if(h==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[f?"animate":"css"]({width:i+"%"},g.animate)}if(h==="max"&&this.orientation==="horizontal"){this.range[f?"animate":"css"]({width:(100-i)+"%"},{queue:false,duration:g.animate})}if(h==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[f?"animate":"css"]({height:i+"%"},g.animate)}if(h==="max"&&this.orientation==="vertical"){this.range[f?"animate":"css"]({height:(100-i)+"%"},{queue:false,duration:g.animate})}}}});c.extend(c.ui.slider,{version:"1.8.24"})}(jQuery));(function(e,g){var d=0,c=0;function f(){return ++d}function b(){return ++c}e.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(h,i){if(h=="selected"){if(this.options.collapsible&&i==this.options.selected){return}this.select(i)}else{this.options[h]=i;this._tabify()}},_tabId:function(h){return h.title&&h.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+f()},_sanitizeSelector:function(h){return h.replace(/:/g,"\\:")},_cookie:function(){var h=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b());return e.cookie.apply(null,[h].concat(e.makeArray(arguments)))},_ui:function(i,h){return{tab:i,panel:h,index:this.anchors.index(i)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var h=e(this);h.html(h.data("label.tabs")).removeData("label.tabs")})},_tabify:function(v){var x=this,l=this.options,j=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=e(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return e("a",this)[0]});this.panels=e([]);this.anchors.each(function(z,o){var y=e(o).attr("href");var A=y.split("#")[0],B;if(A&&(A===location.toString().split("#")[0]||(B=e("base")[0])&&A===B.href)){y=o.hash;o.href=y}if(j.test(y)){x.panels=x.panels.add(x.element.find(x._sanitizeSelector(y)))}else{if(y&&y!=="#"){e.data(o,"href.tabs",y);e.data(o,"load.tabs",y.replace(/#.*$/,""));var D=x._tabId(o);o.href="#"+D;var C=x.element.find("#"+D);if(!C.length){C=e(l.panelTemplate).attr("id",D).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(x.panels[z-1]||x.list);C.data("destroy.tabs",true)}x.panels=x.panels.add(C)}else{l.disabled.push(z)}}});if(v){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(l.selected===g){if(location.hash){this.anchors.each(function(y,o){if(o.hash==location.hash){l.selected=y;return false}})}if(typeof l.selected!=="number"&&l.cookie){l.selected=parseInt(x._cookie(),10)}if(typeof l.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}l.selected=l.selected||(this.lis.length?0:-1)}else{if(l.selected===null){l.selected=-1}}l.selected=((l.selected>=0&&this.anchors[l.selected])||l.selected<0)?l.selected:0;l.disabled=e.unique(l.disabled.concat(e.map(this.lis.filter(".ui-state-disabled"),function(y,o){return x.lis.index(y)}))).sort();if(e.inArray(l.selected,l.disabled)!=-1){l.disabled.splice(e.inArray(l.selected,l.disabled),1)}this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(l.selected>=0&&this.anchors.length){x.element.find(x._sanitizeSelector(x.anchors[l.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active");x.element.queue("tabs",function(){x._trigger("show",null,x._ui(x.anchors[l.selected],x.element.find(x._sanitizeSelector(x.anchors[l.selected].hash))[0]))});this.load(l.selected)}e(window).bind("unload",function(){x.lis.add(x.anchors).unbind(".tabs");x.lis=x.anchors=x.panels=null})}else{l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(l.cookie){this._cookie(l.selected,l.cookie)}for(var p=0,u;(u=this.lis[p]);p++){e(u)[e.inArray(p,l.disabled)!=-1&&!e(u).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}if(l.cache===false){this.anchors.removeData("cache.tabs")}this.lis.add(this.anchors).unbind(".tabs");if(l.event!=="mouseover"){var n=function(o,i){if(i.is(":not(.ui-state-disabled)")){i.addClass("ui-state-"+o)}};var r=function(o,i){i.removeClass("ui-state-"+o)};this.lis.bind("mouseover.tabs",function(){n("hover",e(this))});this.lis.bind("mouseout.tabs",function(){r("hover",e(this))});this.anchors.bind("focus.tabs",function(){n("focus",e(this).closest("li"))});this.anchors.bind("blur.tabs",function(){r("focus",e(this).closest("li"))})}var h,q;if(l.fx){if(e.isArray(l.fx)){h=l.fx[0];q=l.fx[1]}else{h=q=l.fx}}function m(i,o){i.css("display","");if(!e.support.opacity&&o.opacity){i[0].style.removeAttribute("filter")}}var s=q?function(i,o){e(i).closest("li").addClass("ui-tabs-selected ui-state-active");o.hide().removeClass("ui-tabs-hide").animate(q,q.duration||"normal",function(){m(o,q);x._trigger("show",null,x._ui(i,o[0]))})}:function(i,o){e(i).closest("li").addClass("ui-tabs-selected ui-state-active");o.removeClass("ui-tabs-hide");x._trigger("show",null,x._ui(i,o[0]))};var t=h?function(o,i){i.animate(h,h.duration||"normal",function(){x.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");m(i,h);x.element.dequeue("tabs")})}:function(o,i,y){x.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");x.element.dequeue("tabs")};this.anchors.bind(l.event+".tabs",function(){var o=this,z=e(o).closest("li"),i=x.panels.filter(":not(.ui-tabs-hide)"),y=x.element.find(x._sanitizeSelector(o.hash));if((z.hasClass("ui-tabs-selected")&&!l.collapsible)||z.hasClass("ui-state-disabled")||z.hasClass("ui-state-processing")||x.panels.filter(":animated").length||x._trigger("select",null,x._ui(this,y[0]))===false){this.blur();return false}l.selected=x.anchors.index(this);x.abort();if(l.collapsible){if(z.hasClass("ui-tabs-selected")){l.selected=-1;if(l.cookie){x._cookie(l.selected,l.cookie)}x.element.queue("tabs",function(){t(o,i)}).dequeue("tabs");this.blur();return false}else{if(!i.length){if(l.cookie){x._cookie(l.selected,l.cookie)}x.element.queue("tabs",function(){s(o,y)});x.load(x.anchors.index(this));this.blur();return false}}}if(l.cookie){x._cookie(l.selected,l.cookie)}if(y.length){if(i.length){x.element.queue("tabs",function(){t(o,i)})}x.element.queue("tabs",function(){s(o,y)});x.load(x.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}if(e.browser.msie){this.blur()}});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(h){if(typeof h=="string"){h=this.anchors.index(this.anchors.filter("[href$='"+h+"']"))}return h},destroy:function(){var h=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var i=e.data(this,"href.tabs");if(i){this.href=i}var j=e(this).unbind(".tabs");e.each(["href","load","cache"],function(l,m){j.removeData(m+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){if(e.data(this,"destroy.tabs")){e(this).remove()}else{e(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}});if(h.cookie){this._cookie(null,h.cookie)}return this},add:function(l,j,i){if(i===g){i=this.anchors.length}var h=this,n=this.options,q=e(n.tabTemplate.replace(/#\{href\}/g,l).replace(/#\{label\}/g,j)),p=!l.indexOf("#")?l.replace("#",""):this._tabId(e("a",q)[0]);q.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var m=h.element.find("#"+p);if(!m.length){m=e(n.panelTemplate).attr("id",p).data("destroy.tabs",true)}m.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(i>=this.lis.length){q.appendTo(this.list);m.appendTo(this.list[0].parentNode)}else{q.insertBefore(this.lis[i]);m.insertBefore(this.panels[i])}n.disabled=e.map(n.disabled,function(r,o){return r>=i?++r:r});this._tabify();if(this.anchors.length==1){n.selected=0;q.addClass("ui-tabs-selected ui-state-active");m.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){h._trigger("show",null,h._ui(h.anchors[0],h.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[i],this.panels[i]));return this},remove:function(h){h=this._getIndex(h);var j=this.options,l=this.lis.eq(h).remove(),i=this.panels.eq(h).remove();if(l.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(h+(h+1<this.anchors.length?1:-1))}j.disabled=e.map(e.grep(j.disabled,function(o,m){return o!=h}),function(o,m){return o>=h?--o:o});this._tabify();this._trigger("remove",null,this._ui(l.find("a")[0],i[0]));return this},enable:function(h){h=this._getIndex(h);var i=this.options;if(e.inArray(h,i.disabled)==-1){return}this.lis.eq(h).removeClass("ui-state-disabled");i.disabled=e.grep(i.disabled,function(l,j){return l!=h});this._trigger("enable",null,this._ui(this.anchors[h],this.panels[h]));return this},disable:function(i){i=this._getIndex(i);var h=this,j=this.options;if(i!=j.selected){this.lis.eq(i).addClass("ui-state-disabled");j.disabled.push(i);j.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[i],this.panels[i]))}return this},select:function(h){h=this._getIndex(h);if(h==-1){if(this.options.collapsible&&this.options.selected!=-1){h=this.options.selected}else{return this}}this.anchors.eq(h).trigger(this.options.event+".tabs");return this},load:function(l){l=this._getIndex(l);var i=this,n=this.options,h=this.anchors.eq(l)[0],j=e.data(h,"load.tabs");this.abort();if(!j||this.element.queue("tabs").length!==0&&e.data(h,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(l).addClass("ui-state-processing");if(n.spinner){var m=e("span",h);m.data("label.tabs",m.html()).html(n.spinner)}this.xhr=e.ajax(e.extend({},n.ajaxOptions,{url:j,success:function(p,o){i.element.find(i._sanitizeSelector(h.hash)).html(p);i._cleanup();if(n.cache){e.data(h,"cache.tabs",true)}i._trigger("load",null,i._ui(i.anchors[l],i.panels[l]));try{n.ajaxOptions.success(p,o)}catch(q){}},error:function(q,o,p){i._cleanup();i._trigger("load",null,i._ui(i.anchors[l],i.panels[l]));try{n.ajaxOptions.error(q,o,l,h)}catch(p){}}}));i.element.dequeue("tabs");return this},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(i,h){this.anchors.eq(i).removeData("cache.tabs").data("load.tabs",h);return this},length:function(){return this.anchors.length}});e.extend(e.ui.tabs,{version:"1.8.24"});e.extend(e.ui.tabs.prototype,{rotation:null,rotate:function(j,m){var h=this,n=this.options;var i=h._rotate||(h._rotate=function(o){clearTimeout(h.rotation);h.rotation=setTimeout(function(){var p=n.selected;h.select(++p<h.anchors.length?p:0)},j);if(o){o.stopPropagation()}});var l=h._unrotate||(h._unrotate=!m?function(o){if(o.clientX){h.rotate(null)}}:function(o){i()});if(j){this.element.bind("tabsshow",i);this.anchors.bind(n.event+".tabs",l);i()}else{clearTimeout(h.rotation);this.element.unbind("tabsshow",i);this.anchors.unbind(n.event+".tabs",l);delete this._rotate;delete this._unrotate}return this}})})(jQuery);(function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.24"}});var PROP_NAME="datepicker";var dpuuid=new Date().getTime();var instActive;function Datepicker(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false,disabled:false};$.extend(this._defaults,this.regional[""]);this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){if(this.debug){console.log.apply("",arguments)}},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){extendRemove(this._defaults,settings||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase();var inline=(nodeName=="div"||nodeName=="span");if(!target.id){this.uuid+=1;target.id="dp"+this.uuid}var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{});if(nodeName=="input"){this._connectDatepicker(target,inst)}else{if(inline){this._inlineDatepicker(target,inst)}}},_newInst:function(target,inline){var id=target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:id,input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:(!inline?this.dpDiv:bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')))}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]);inst.trigger=$([]);if(input.hasClass(this.markerClassName)){return}this._attachments(input,inst);input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});this._autoSize(inst);$.data(target,PROP_NAME,inst);if(inst.settings.disabled){this._disableDatepicker(target)}},_attachments:function(input,inst){var appendText=this._get(inst,"appendText");var isRTL=this._get(inst,"isRTL");if(inst.append){inst.append.remove()}if(appendText){inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>");input[isRTL?"before":"after"](inst.append)}input.unbind("focus",this._showDatepicker);if(inst.trigger){inst.trigger.remove()}var showOn=this._get(inst,"showOn");if(showOn=="focus"||showOn=="both"){input.focus(this._showDatepicker)}if(showOn=="button"||showOn=="both"){var buttonText=this._get(inst,"buttonText");var buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(buttonImage==""?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText})));input[isRTL?"before":"after"](inst.trigger);inst.trigger.click(function(){if($.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]){$.datepicker._hideDatepicker()}else{if($.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]){$.datepicker._hideDatepicker();$.datepicker._showDatepicker(input[0])}else{$.datepicker._showDatepicker(input[0])}}return false})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,12-1,20);var dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){var max=0;var maxI=0;for(var i=0;i<names.length;i++){if(names[i].length>max){max=names[i].length;maxI=i}}return maxI};date.setMonth(findMax(this._get(inst,(dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))));date.setDate(findMax(this._get(inst,(dateFormat.match(/DD/)?"dayNames":"dayNamesShort")))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);if(divSpan.hasClass(this.markerClassName)){return}divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)});$.data(target,PROP_NAME,inst);this._setDate(inst,this._getDefaultDate(inst),true);this._updateDatepicker(inst);this._updateAlternate(inst);if(inst.settings.disabled){this._disableDatepicker(target)}inst.dpDiv.css("display","block")},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>');this._dialogInput.keydown(this._doKeyDown);$("body").append(this._dialogInput);inst=this._dialogInst=this._newInst(this._dialogInput,false);inst.settings={};$.data(this._dialogInput[0],PROP_NAME,inst)}extendRemove(inst.settings,settings||{});date=(date&&date.constructor==Date?this._formatDate(inst,date):date);this._dialogInput.val(date);this._pos=(pos?(pos.length?pos:[pos.pageX,pos.pageY]):null);if(!this._pos){var browserWidth=document.documentElement.clientWidth;var browserHeight=document.documentElement.clientHeight;var scrollX=document.documentElement.scrollLeft||document.body.scrollLeft;var scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[(browserWidth/2)-100+scrollX,(browserHeight/2)-150+scrollY]}this._dialogInput.css("left",(this._pos[0]+20)+"px").css("top",this._pos[1]+"px");inst.settings.onSelect=onSelect;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);if($.blockUI){$.blockUI(this.dpDiv)}$.data(this._dialogInput[0],PROP_NAME,inst);return this},_destroyDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME);if(nodeName=="input"){inst.append.remove();inst.trigger.remove();$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(nodeName=="div"||nodeName=="span"){$target.removeClass(this.markerClassName).empty()}}},_enableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=false;inst.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)})},_disableDatepicker:function(target){var $target=$(target);var inst=$.data(target,PROP_NAME);if(!$target.hasClass(this.markerClassName)){return}var nodeName=target.nodeName.toLowerCase();if(nodeName=="input"){target.disabled=true;inst.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(nodeName=="div"||nodeName=="span"){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled");inline.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(value){return(value==target?null:value)});this._disabledInputs[this._disabledInputs.length]=target},_isDisabledDatepicker:function(target){if(!target){return false}for(var i=0;i<this._disabledInputs.length;i++){if(this._disabledInputs[i]==target){return true}}return false},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(arguments.length==2&&typeof name=="string"){return(name=="defaults"?$.extend({},$.datepicker._defaults):(inst?(name=="all"?$.extend({},inst.settings):this._get(inst,name)):null))}var settings=name||{};if(typeof name=="string"){settings={};settings[name]=value}if(inst){if(this._curInst==inst){this._hideDatepicker()}var date=this._getDateDatepicker(target,true);var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings);if(minDate!==null&&settings.dateFormat!==undefined&&settings.minDate===undefined){inst.settings.minDate=this._formatDate(inst,minDate)}if(maxDate!==null&&settings.dateFormat!==undefined&&settings.maxDate===undefined){inst.settings.maxDate=this._formatDate(inst,maxDate)}this._attachments($(target),inst);this._autoSize(inst);this._setDate(inst,date);this._updateAlternate(inst);this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);if(inst){this._updateDatepicker(inst)}},_setDateDatepicker:function(target,date){var inst=this._getInst(target);if(inst){this._setDate(inst,date);this._updateDatepicker(inst);this._updateAlternate(inst)}},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);if(inst&&!inst.inline){this._setDateFromField(inst,noDefault)}return(inst?this._getDate(inst):null)},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target);var handled=true;var isRTL=inst.dpDiv.is(".ui-datepicker-rtl");inst._keyEvent=true;if($.datepicker._datepickerShowing){switch(event.keyCode){case 9:$.datepicker._hideDatepicker();handled=false;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);if(sel[0]){$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0])}var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{$.datepicker._hideDatepicker()}return false;break;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M");break;case 35:if(event.ctrlKey||event.metaKey){$.datepicker._clearDate(event.target)}handled=event.ctrlKey||event.metaKey;break;case 36:if(event.ctrlKey||event.metaKey){$.datepicker._gotoToday(event.target)}handled=event.ctrlKey||event.metaKey;break;case 37:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?+1:-1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths")),"M")}break;case 38:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,-7,"D")}handled=event.ctrlKey||event.metaKey;break;case 39:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,(isRTL?-1:+1),"D")}handled=event.ctrlKey||event.metaKey;if(event.originalEvent.altKey){$.datepicker._adjustDate(event.target,(event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths")),"M")}break;case 40:if(event.ctrlKey||event.metaKey){$.datepicker._adjustDate(event.target,+7,"D")}handled=event.ctrlKey||event.metaKey;break;default:handled=false}}else{if(event.keyCode==36&&event.ctrlKey){$.datepicker._showDatepicker(this)}else{handled=false}}if(handled){event.preventDefault();event.stopPropagation()}},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat"));var chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||(chr<" "||!chars||chars.indexOf(chr)>-1)}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal){try{var date=$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),(inst.input?inst.input.val():null),$.datepicker._getFormatConfig(inst));if(date){$.datepicker._setDateFromField(inst);$.datepicker._updateAlternate(inst);$.datepicker._updateDatepicker(inst)}}catch(err){$.datepicker.log(err)}}return true},_showDatepicker:function(input){input=input.target||input;if(input.nodeName.toLowerCase()!="input"){input=$("input",input.parentNode)[0]}if($.datepicker._isDisabledDatepicker(input)||$.datepicker._lastInput==input){return}var inst=$.datepicker._getInst(input);if($.datepicker._curInst&&$.datepicker._curInst!=inst){$.datepicker._curInst.dpDiv.stop(true,true);if(inst&&$.datepicker._datepickerShowing){$.datepicker._hideDatepicker($.datepicker._curInst.input[0])}}var beforeShow=$.datepicker._get(inst,"beforeShow");var beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(beforeShowSettings===false){return}extendRemove(inst.settings,beforeShowSettings);inst.lastVal=null;$.datepicker._lastInput=input;$.datepicker._setDateFromField(inst);if($.datepicker._inDialog){input.value=""}if(!$.datepicker._pos){$.datepicker._pos=$.datepicker._findPos(input);$.datepicker._pos[1]+=input.offsetHeight}var isFixed=false;$(input).parents().each(function(){isFixed|=$(this).css("position")=="fixed";return !isFixed});if(isFixed&&$.browser.opera){$.datepicker._pos[0]-=document.documentElement.scrollLeft;$.datepicker._pos[1]-=document.documentElement.scrollTop}var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null;inst.dpDiv.empty();inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});$.datepicker._updateDatepicker(inst);offset=$.datepicker._checkOffset(inst,offset,isFixed);inst.dpDiv.css({position:($.datepicker._inDialog&&$.blockUI?"static":(isFixed?"fixed":"absolute")),display:"none",left:offset.left+"px",top:offset.top+"px"});if(!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim");var duration=$.datepicker._get(inst,"duration");var postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1);$.datepicker._datepickerShowing=true;if($.effects&&$.effects[showAnim]){inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[showAnim||"show"]((showAnim?duration:null),postProcess)}if(!showAnim||!duration){postProcess()}if(inst.input.is(":visible")&&!inst.input.is(":disabled")){inst.input.focus()}$.datepicker._curInst=inst}},_updateDatepicker:function(inst){var self=this;self.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst;inst.dpDiv.empty().append(this._generateHTML(inst));this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(!!cover.length){cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst);var cols=numMonths[1];var width=17;inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");if(cols>1){inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",(width*cols)+"em")}inst.dpDiv[(numMonths[0]!=1||numMonths[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");if(inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement){inst.input.focus()}if(inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){if(origyearshtml===inst.yearshtml&&inst.yearshtml){inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)}origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth();var dpHeight=inst.dpDiv.outerHeight();var inputWidth=inst.input?inst.input.outerWidth():0;var inputHeight=inst.input?inst.input.outerHeight():0;var viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft());var viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());offset.left-=(this._get(inst,"isRTL")?(dpWidth-inputWidth):0);offset.left-=(isFixed&&offset.left==inst.input.offset().left)?$(document).scrollLeft():0;offset.top-=(isFixed&&offset.top==(inst.input.offset().top+inputHeight))?$(document).scrollTop():0;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,(offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight):0);return offset},_findPos:function(obj){var inst=this._getInst(obj);var isRTL=this._get(inst,"isRTL");while(obj&&(obj.type=="hidden"||obj.nodeType!=1||$.expr.filters.hidden(obj))){obj=obj[isRTL?"previousSibling":"nextSibling"]}var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(!inst||(input&&inst!=$.data(input,PROP_NAME))){return}if(this._datepickerShowing){var showAnim=this._get(inst,"showAnim");var duration=this._get(inst,"duration");var postProcess=function(){$.datepicker._tidyDialog(inst)};if($.effects&&$.effects[showAnim]){inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess)}else{inst.dpDiv[(showAnim=="slideDown"?"slideUp":(showAnim=="fadeIn"?"fadeOut":"hide"))]((showAnim?duration:null),postProcess)}if(!showAnim){postProcess()}this._datepickerShowing=false;var onClose=this._get(inst,"onClose");if(onClose){onClose.apply((inst.input?inst.input[0]:null),[(inst.input?inst.input.val():""),inst])}this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if($.blockUI){$.unblockUI();$("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if(!$.datepicker._curInst){return}var $target=$(event.target),inst=$.datepicker._getInst($target[0]);if((($target[0].id!=$.datepicker._mainDivId&&$target.parents("#"+$.datepicker._mainDivId).length==0&&!$target.hasClass($.datepicker.markerClassName)&&!$target.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)))||($target.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=inst)){$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id);var inst=this._getInst(target[0]);if(this._isDisabledDatepicker(target[0])){return}this._adjustInstDate(inst,offset+(period=="M"?this._get(inst,"showCurrentAtPos"):0),period);this._updateDatepicker(inst)},_gotoToday:function(id){var target=$(id);var inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay){inst.selectedDay=inst.currentDay;inst.drawMonth=inst.selectedMonth=inst.currentMonth;inst.drawYear=inst.selectedYear=inst.currentYear}else{var date=new Date();inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst);this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id);var inst=this._getInst(target[0]);inst["selected"+(period=="M"?"Month":"Year")]=inst["draw"+(period=="M"?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10);this._notifyChange(inst);this._adjustDate(target)},_selectDay:function(id,month,year,td){var target=$(id);if($(td).hasClass(this._unselectableClass)||this._isDisabledDatepicker(target[0])){return}var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html();inst.selectedMonth=inst.currentMonth=month;inst.selectedYear=inst.currentYear=year;this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))},_clearDate:function(id){var target=$(id);var inst=this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id);var inst=this._getInst(target[0]);dateStr=(dateStr!=null?dateStr:this._formatDate(inst));if(inst.input){inst.input.val(dateStr)}this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");if(onSelect){onSelect.apply((inst.input?inst.input[0]:null),[dateStr,inst])}else{if(inst.input){inst.input.trigger("change")}}if(inst.inline){this._updateDatepicker(inst)}else{this._hideDatepicker();this._lastInput=inst.input[0];if(typeof(inst.input[0])!="object"){inst.input.focus()}this._lastInput=null}},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat");var date=this._getDate(inst);var dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[(day>0&&day<6),""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();checkDate.setMonth(0);checkDate.setDate(1);return Math.floor(Math.round((time-checkDate)/86400000)/7)+1},parseDate:function(format,value,settings){if(format==null||value==null){throw"Invalid arguments"}value=(typeof value=="object"?value.toString():value+"");if(value==""){return null}var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var year=-1;var month=-1;var day=-1;var doy=-1;var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var getNumber=function(match){var isDoubled=lookAhead(match);var size=(match=="@"?14:(match=="!"?20:(match=="y"&&isDoubled?4:(match=="o"?3:2))));var digits=new RegExp("^\\d{1,"+size+"}");var num=value.substring(iValue).match(digits);if(!num){throw"Missing number at position "+iValue}iValue+=num[0].length;return parseInt(num[0],10)};var getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return -(a[1].length-b[1].length)});var index=-1;$.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase()){index=pair[0];iValue+=name.length;return false}});if(index!=-1){return index+1}else{throw"Unknown name at position "+iValue}};var checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat)){throw"Unexpected literal at position "+iValue}iValue++};var iValue=0;for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{checkLiteral()}}else{switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":var date=new Date(getNumber("@"));year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"!":var date=new Date((getNumber("!")-this._ticksTo1970)/10000);year=date.getFullYear();month=date.getMonth()+1;day=date.getDate();break;case"'":if(lookAhead("'")){checkLiteral()}else{literal=true}break;default:checkLiteral()}}}if(iValue<value.length){throw"Extra/unparsed characters found in date: "+value.substring(iValue)}if(year==-1){year=new Date().getFullYear()}else{if(year<100){year+=new Date().getFullYear()-new Date().getFullYear()%100+(year<=shortYearCutoff?0:-100)}}if(doy>-1){month=1;day=doy;do{var dim=this._getDaysInMonth(year,month-1);if(day<=dim){break}month++;day-=dim}while(true)}var date=this._daylightSavingAdjust(new Date(year,month-1,day));if(date.getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day){throw"Invalid date"}return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),formatDate:function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};var output="";var literal=false;if(date){for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{output+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/86400000),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=(lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100);break;case"@":output+=date.getTime();break;case"!":output+=date.getTime()*10000+this._ticksTo1970;break;case"'":if(lookAhead("'")){output+="'"}else{literal=true}break;default:output+=format.charAt(iFormat)}}}}return output},_possibleChars:function(format){var chars="";var literal=false;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};for(var iFormat=0;iFormat<format.length;iFormat++){if(literal){if(format.charAt(iFormat)=="'"&&!lookAhead("'")){literal=false}else{chars+=format.charAt(iFormat)}}else{switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":if(lookAhead("'")){chars+="'"}else{literal=true}break;default:chars+=format.charAt(iFormat)}}}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()==inst.lastVal){return}var dateFormat=this._get(inst,"dateFormat");var dates=inst.lastVal=inst.input?inst.input.val():null;var date,defaultDate;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event);dates=(noDefault?"":dates)}inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates?date.getDate():0);inst.currentMonth=(dates?date.getMonth():0);inst.currentYear=(dates?date.getFullYear():0);this._adjustInstDate(inst)},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date()))},_determineDate:function(inst,date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setDate(date.getDate()+offset);return date};var offsetString=function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=parseInt(matches[1],10)*7;break;case"m":case"M":month+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10);day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break}matches=pattern.exec(offset)}return new Date(year,month,day)};var newDate=(date==null||date===""?defaultDate:(typeof date=="string"?offsetString(date):(typeof date=="number"?(isNaN(date)?defaultDate:offsetNumeric(date)):new Date(date.getTime()))));newDate=(newDate&&newDate.toString()=="Invalid Date"?defaultDate:newDate);if(newDate){newDate.setHours(0);newDate.setMinutes(0);newDate.setSeconds(0);newDate.setMilliseconds(0)}return this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){if(!date){return null}date.setHours(date.getHours()>12?date.getHours()+2:0);return date},_setDate:function(inst,date,noChange){var clear=!date;var origMonth=inst.selectedMonth;var origYear=inst.selectedYear;var newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date()));inst.selectedDay=inst.currentDay=newDate.getDate();inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth();inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear();if((origMonth!=inst.selectedMonth||origYear!=inst.selectedYear)&&!noChange){this._notifyChange(inst)}this._adjustInstDate(inst);if(inst.input){inst.input.val(clear?"":this._formatDate(inst))}},_getDate:function(inst){var startDate=(!inst.currentYear||(inst.input&&inst.input.val()=="")?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return startDate},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths");var id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},selectDay:function(){window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return false},selectMonth:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M");return false},selectYear:function(){window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y");return false}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var today=new Date();today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL");var showButtonPanel=this._get(inst,"showButtonPanel");var hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext");var navigationAsDateFormat=this._get(inst,"navigationAsDateFormat");var numMonths=this._getNumberOfMonths(inst);var showCurrentAtPos=this._get(inst,"showCurrentAtPos");var stepMonths=this._get(inst,"stepMonths");var isMultiMonth=(numMonths[0]!=1||numMonths[1]!=1);var currentDate=this._daylightSavingAdjust((!inst.currentDay?new Date(9999,9,9):new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var drawMonth=inst.drawMonth-showCurrentAtPos;var drawYear=inst.drawYear;if(drawMonth<0){drawMonth+=12;drawYear--}if(maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-(numMonths[0]*numMonths[1])+1,maxDate.getDate()));maxDraw=(minDate&&maxDraw<minDate?minDate:maxDraw);while(this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw){drawMonth--;if(drawMonth<0){drawMonth=11;drawYear--}}}inst.drawMonth=drawMonth;inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=(!navigationAsDateFormat?prevText:this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)));var prev=(this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>"));var nextText=this._get(inst,"nextText");nextText=(!navigationAsDateFormat?nextText:this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)));var next=(this._canAdjustMonth(inst,+1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":(hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>"));var currentText=this._get(inst,"currentText");var gotoDate=(this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today);currentText=(!navigationAsDateFormat?currentText:this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)));var controls=(!inst.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(inst,"closeText")+"</button>":"");var buttonPanel=(showButtonPanel)?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"";var firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=(isNaN(firstDay)?0:firstDay);var showWeek=this._get(inst,"showWeek");var dayNames=this._get(inst,"dayNames");var dayNamesShort=this._get(inst,"dayNamesShort");var dayNamesMin=this._get(inst,"dayNamesMin");var monthNames=this._get(inst,"monthNames");var monthNamesShort=this._get(inst,"monthNamesShort");var beforeShowDay=this._get(inst,"beforeShowDay");var showOtherMonths=this._get(inst,"showOtherMonths");var selectOtherMonths=this._get(inst,"selectOtherMonths");var calculateWeek=this._get(inst,"calculateWeek")||this.iso8601Week;var defaultDate=this._getDefaultDate(inst);var html="";for(var row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay));var cornerClass=" ui-corner-all";var calender="";if(isMultiMonth){calender+='<div class="ui-datepicker-group';if(numMonths[1]>1){switch(col){case 0:calender+=" ui-datepicker-group-first";cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last";cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle";cornerClass="";break}}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&row==0?(isRTL?next:prev):"")+(/all|right/.test(cornerClass)&&row==0?(isRTL?prev:next):"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var thead=(showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"");for(var dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);if(drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth){inst.selectedDay=Math.min(inst.selectedDay,daysInMonth)}var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7;var curRows=Math.ceil((leadDays+daysInMonth)/7);var numRows=(isMultiMonth?this.maxRows>curRows?this.maxRows:curRows:curRows);this.maxRows=numRows;var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays));for(var dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=(!showWeek?"":'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>");for(var dow=0;dow<7;dow++){var daySettings=(beforeShowDay?beforeShowDay.apply((inst.input?inst.input[0]:null),[printDate]):[true,""]);var otherMonth=(printDate.getMonth()!=drawMonth);var unselectable=(otherMonth&&!selectOtherMonths)||!daySettings[0]||(minDate&&printDate<minDate)||(maxDate&&printDate>maxDate);tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+((printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent)||(defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime())?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+((!otherMonth||showOtherMonths)&&daySettings[2]?' title="'+daySettings[2]+'"':"")+(unselectable?"":' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":(unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>"))+"</td>";printDate.setDate(printDate.getDate()+1);printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}drawMonth++;if(drawMonth>11){drawMonth=0;drawYear++}calender+="</tbody></table>"+(isMultiMonth?"</div>"+((numMonths[0]>0&&col==numMonths[1]-1)?'<div class="ui-datepicker-row-break"></div>':""):"");group+=calender}html+=group}html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");inst._keyEvent=false;return html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth");var changeYear=this._get(inst,"changeYear");var showMonthAfterYear=this._get(inst,"showMonthAfterYear");var html='<div class="ui-datepicker-title">';var monthHtml="";if(secondary||!changeMonth){monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>"}else{var inMinYear=(minDate&&minDate.getFullYear()==drawYear);var inMaxYear=(maxDate&&maxDate.getFullYear()==drawYear);monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++){if((!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())){monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>"}}monthHtml+="</select>"}if(!showMonthAfterYear){html+=monthHtml+(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")}if(!inst.yearshtml){inst.yearshtml="";if(secondary||!changeYear){html+='<span class="ui-datepicker-year">'+drawYear+"</span>"}else{var years=this._get(inst,"yearRange").split(":");var thisYear=new Date().getFullYear();var determineYear=function(value){var year=(value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):(value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10)));return(isNaN(year)?thisYear:year)};var year=determineYear(years[0]);var endYear=Math.max(year,determineYear(years[1]||""));year=(minDate?Math.max(year,minDate.getFullYear()):year);endYear=(maxDate?Math.min(endYear,maxDate.getFullYear()):endYear);inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;year<=endYear;year++){inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>"}inst.yearshtml+="</select>";html+=inst.yearshtml;inst.yearshtml=null}}html+=this._get(inst,"yearSuffix");if(showMonthAfterYear){html+=(secondary||!(changeMonth&&changeYear)?"&#xa0;":"")+monthHtml}html+="</div>";return html},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+(period=="Y"?offset:0);var month=inst.drawMonth+(period=="M"?offset:0);var day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+(period=="D"?offset:0);var date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();if(period=="M"||period=="Y"){this._notifyChange(inst)}},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");var newDate=(minDate&&date<minDate?minDate:date);newDate=(maxDate&&newDate>maxDate?maxDate:newDate);return newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");if(onChange){onChange.apply((inst.input?inst.input[0]:null),[inst.selectedYear,inst.selectedMonth+1,inst])}},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return(numMonths==null?[1,1]:(typeof numMonths=="number"?[1,numMonths]:numMonths))},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst);var date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));if(offset<0){date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()))}return this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min");var maxDate=this._getMinMaxDate(inst,"max");return((!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime()))},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");shortYearCutoff=(typeof shortYearCutoff!="string"?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear}var date=(day?(typeof day=="object"?day:this._daylightSavingAdjust(new Date(year,month,day))):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay)));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}});function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.bind("mouseout",function(event){var elem=$(event.target).closest(selector);if(!elem.length){return}elem.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(event){var elem=$(event.target).closest(selector);if($.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])||!elem.length){return}elem.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");elem.addClass("ui-state-hover");if(elem.hasClass("ui-datepicker-prev")){elem.addClass("ui-datepicker-prev-hover")}if(elem.hasClass("ui-datepicker-next")){elem.addClass("ui-datepicker-next-hover")}})}function extendRemove(target,props){$.extend(target,props);for(var name in props){if(props[name]==null||props[name]==undefined){target[name]=props[name]}}return target}function isArray(a){return(a&&(($.browser.safari&&typeof a=="object"&&a.length)||(a.constructor&&a.constructor.toString().match(/\Array\(\)/))))}$.fn.datepicker=function(options){if(!this.length){return this}if(!$.datepicker.initialized){$(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv);$.datepicker.initialized=true}var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=="string"&&(options=="isDisabled"||options=="getDate"||options=="widget")){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}if(options=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return $.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))}return this.each(function(){typeof options=="string"?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)})};$.datepicker=new Datepicker();$.datepicker.initialized=false;$.datepicker.uuid=new Date().getTime();$.datepicker.version="1.8.24";window["DP_jQuery_"+dpuuid]=$})(jQuery);(function(b,c){b.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(d){if(d===c){return this._value()}this._setOption("value",d);return this},_setOption:function(d,e){if(d==="value"){this.options.value=e;this._refreshValue();if(this._value()===this.options.max){this._trigger("complete")}}b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var d=this.options.value;if(typeof d!=="number"){d=0}return Math.min(this.options.max,Math.max(this.min,d))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var e=this.value();var d=this._percentage();if(this.oldValue!==e){this.oldValue=e;this._trigger("change")}this.valueDiv.toggle(e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(d.toFixed(0)+"%");this.element.attr("aria-valuenow",e)}});b.extend(b.ui.progressbar,{version:"1.8.24"})})(jQuery);jQuery.effects||(function(i,f){i.effects={};i.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(q,p){i.fx.step[p]=function(r){if(!r.colorInit){r.start=o(r.elem,p);r.end=m(r.end);r.colorInit=true}r.elem.style[p]="rgb("+Math.max(Math.min(parseInt((r.pos*(r.end[0]-r.start[0]))+r.start[0],10),255),0)+","+Math.max(Math.min(parseInt((r.pos*(r.end[1]-r.start[1]))+r.start[1],10),255),0)+","+Math.max(Math.min(parseInt((r.pos*(r.end[2]-r.start[2]))+r.start[2],10),255),0)+")"}});function m(q){var p;if(q&&q.constructor==Array&&q.length==3){return q}if(p=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(q)){return[parseInt(p[1],10),parseInt(p[2],10),parseInt(p[3],10)]}if(p=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(q)){return[parseFloat(p[1])*2.55,parseFloat(p[2])*2.55,parseFloat(p[3])*2.55]}if(p=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(q)){return[parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16)]}if(p=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(q)){return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)]}if(p=/rgba\(0, 0, 0, 0\)/.exec(q)){return b.transparent}return b[i.trim(q).toLowerCase()]}function o(r,p){var q;do{q=(i.curCSS||i.css)(r,p);if(q!=""&&q!="transparent"||i.nodeName(r,"body")){break}p="backgroundColor"}while(r=r.parentNode);return m(q)}var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var g=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function h(){var s=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,t={},q,r;if(s&&s.length&&s[0]&&s[s[0]]){var p=s.length;while(p--){q=s[p];if(typeof s[q]=="string"){r=q.replace(/\-(\w)/g,function(u,v){return v.toUpperCase()});t[r]=s[q]}}}else{for(q in s){if(typeof s[q]==="string"){t[q]=s[q]}}}return t}function c(q){var p,r;for(p in q){r=q[p];if(r==null||i.isFunction(r)||p in d||(/scrollbar/).test(p)||(!(/color/i).test(p)&&isNaN(parseFloat(r)))){delete q[p]}}return q}function j(p,r){var s={_:0},q;for(q in r){if(p[q]!=r[q]){s[q]=r[q]}}return s}i.effects.animateClass=function(p,q,s,r){if(i.isFunction(s)){r=s;s=null}return this.queue(function(){var x=i(this),t=x.attr("style")||" ",y=c(h.call(this)),v,u=x.attr("class")||"";i.each(g,function(z,A){if(p[A]){x[A+"Class"](p[A])}});v=c(h.call(this));x.attr("class",u);x.animate(j(y,v),{queue:false,duration:q,easing:s,complete:function(){i.each(g,function(z,A){if(p[A]){x[A+"Class"](p[A])}});if(typeof x.attr("style")=="object"){x.attr("style").cssText="";x.attr("style").cssText=t}else{x.attr("style",t)}if(r){r.apply(this,arguments)}i.dequeue(this)}})})};i.fn.extend({_addClass:i.fn.addClass,addClass:function(q,p,s,r){return p?i.effects.animateClass.apply(this,[{add:q},p,s,r]):this._addClass(q)},_removeClass:i.fn.removeClass,removeClass:function(q,p,s,r){return p?i.effects.animateClass.apply(this,[{remove:q},p,s,r]):this._removeClass(q)},_toggleClass:i.fn.toggleClass,toggleClass:function(r,q,p,t,s){if(typeof q=="boolean"||q===f){if(!p){return this._toggleClass(r,q)}else{return i.effects.animateClass.apply(this,[(q?{add:r}:{remove:r}),p,t,s])}}else{return i.effects.animateClass.apply(this,[{toggle:r},q,p,t])}},switchClass:function(p,r,q,t,s){return i.effects.animateClass.apply(this,[{add:r,remove:p},q,t,s])}});i.extend(i.effects,{version:"1.8.24",save:function(q,r){for(var p=0;p<r.length;p++){if(r[p]!==null){q.data("ec.storage."+r[p],q[0].style[r[p]])}}},restore:function(q,r){for(var p=0;p<r.length;p++){if(r[p]!==null){q.css(r[p],q.data("ec.storage."+r[p]))}}},setMode:function(p,q){if(q=="toggle"){q=p.is(":hidden")?"show":"hide"}return q},getBaseline:function(q,r){var s,p;switch(q[0]){case"top":s=0;break;case"middle":s=0.5;break;case"bottom":s=1;break;default:s=q[0]/r.height}switch(q[1]){case"left":p=0;break;case"center":p=0.5;break;case"right":p=1;break;default:p=q[1]/r.width}return{x:p,y:s}},createWrapper:function(p){if(p.parent().is(".ui-effects-wrapper")){return p.parent()}var q={width:p.outerWidth(true),height:p.outerHeight(true),"float":p.css("float")},t=i("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s=document.activeElement;try{s.id}catch(r){s=document.body}p.wrap(t);if(p[0]===s||i.contains(p[0],s)){i(s).focus()}t=p.parent();if(p.css("position")=="static"){t.css({position:"relative"});p.css({position:"relative"})}else{i.extend(q,{position:p.css("position"),zIndex:p.css("z-index")});i.each(["top","left","bottom","right"],function(u,v){q[v]=p.css(v);if(isNaN(parseInt(q[v],10))){q[v]="auto"}});p.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return t.css(q).show()},removeWrapper:function(p){var q,r=document.activeElement;if(p.parent().is(".ui-effects-wrapper")){q=p.parent().replaceWith(p);if(p[0]===r||i.contains(p[0],r)){i(r).focus()}return q}return p},setTransition:function(q,s,p,r){r=r||{};i.each(s,function(u,t){var v=q.cssUnit(t);if(v[0]>0){r[t]=v[0]*p+v[1]}});return r}});function e(q,p,r,s){if(typeof q=="object"){s=p;r=null;p=q;q=p.effect}if(i.isFunction(p)){s=p;r=null;p={}}if(typeof p=="number"||i.fx.speeds[p]){s=r;r=p;p={}}if(i.isFunction(r)){s=r;r=null}p=p||{};r=r||p.duration;r=i.fx.off?0:typeof r=="number"?r:r in i.fx.speeds?i.fx.speeds[r]:i.fx.speeds._default;s=s||p.complete;return[q,p,r,s]}function n(p){if(!p||typeof p==="number"||i.fx.speeds[p]){return true}if(typeof p==="string"&&!i.effects[p]){return true}return false}i.fn.extend({effect:function(s,r,u,x){var q=e.apply(this,arguments),t={options:q[1],duration:q[2],callback:q[3]},v=t.options.mode,p=i.effects[s];if(i.fx.off||!p){if(v){return this[v](t.duration,t.callback)}else{return this.each(function(){if(t.callback){t.callback.call(this)}})}}return p.call(this,t)},_show:i.fn.show,show:function(q){if(n(q)){return this._show.apply(this,arguments)}else{var p=e.apply(this,arguments);p[1].mode="show";return this.effect.apply(this,p)}},_hide:i.fn.hide,hide:function(q){if(n(q)){return this._hide.apply(this,arguments)}else{var p=e.apply(this,arguments);p[1].mode="hide";return this.effect.apply(this,p)}},__toggle:i.fn.toggle,toggle:function(q){if(n(q)||typeof q==="boolean"||i.isFunction(q)){return this.__toggle.apply(this,arguments)}else{var p=e.apply(this,arguments);p[1].mode="toggle";return this.effect.apply(this,p)}},cssUnit:function(p){var q=this.css(p),r=[];i.each(["em","px","%","pt"],function(s,t){if(q.indexOf(t)>0){r=[parseFloat(q),t]}});return r}});var l={};i.each(["Quad","Cubic","Quart","Quint","Expo"],function(q,p){l[p]=function(r){return Math.pow(r,q+2)}});i.extend(l,{Sine:function(q){return 1-Math.cos(q*Math.PI/2)},Circ:function(q){return 1-Math.sqrt(1-q*q)},Elastic:function(q){return q===0||q===1?q:-Math.pow(2,8*(q-1))*Math.sin(((q-1)*80-7.5)*Math.PI/15)},Back:function(q){return q*q*(3*q-2)},Bounce:function(s){var q,r=4;while(s<((q=Math.pow(2,--r))-1)/11){}return 1/Math.pow(4,3-r)-7.5625*Math.pow((q*3-2)/22-s,2)}});i.each(l,function(q,p){i.easing["easeIn"+q]=p;i.easing["easeOut"+q]=function(r){return 1-p(1-r)};i.easing["easeInOut"+q]=function(r){return r<0.5?p(r*2)/2:p(r*-2+2)/-2+1}})})(jQuery);(function(b,c){b.effects.blind=function(d){return this.queue(function(){var f=b(this),e=["position","top","bottom","left","right"];var j=b.effects.setMode(f,d.options.mode||"hide");var i=d.options.direction||"vertical";b.effects.save(f,e);f.show();var m=b.effects.createWrapper(f).css({overflow:"hidden"});var g=(i=="vertical")?"height":"width";var l=(i=="vertical")?m.height():m.width();if(j=="show"){m.css(g,0)}var h={};h[g]=j=="show"?l:0;m.animate(h,d.duration,d.options.easing,function(){if(j=="hide"){f.hide()}b.effects.restore(f,e);b.effects.removeWrapper(f);if(d.callback){d.callback.apply(f[0],arguments)}f.dequeue()})})}})(jQuery);(function(b,c){b.effects.bounce=function(d){return this.queue(function(){var g=b(this),o=["position","top","bottom","left","right"];var n=b.effects.setMode(g,d.options.mode||"effect");var q=d.options.direction||"up";var e=d.options.distance||20;var f=d.options.times||5;var j=d.duration||250;if(/show|hide/.test(n)){o.push("opacity")}b.effects.save(g,o);g.show();b.effects.createWrapper(g);var h=(q=="up"||q=="down")?"top":"left";var s=(q=="up"||q=="left")?"pos":"neg";var e=d.options.distance||(h=="top"?g.outerHeight(true)/3:g.outerWidth(true)/3);if(n=="show"){g.css("opacity",0).css(h,s=="pos"?-e:e)}if(n=="hide"){e=e/(f*2)}if(n!="hide"){f--}if(n=="show"){var l={opacity:1};l[h]=(s=="pos"?"+=":"-=")+e;g.animate(l,j/2,d.options.easing);e=e/2;f--}for(var m=0;m<f;m++){var r={},p={};r[h]=(s=="pos"?"-=":"+=")+e;p[h]=(s=="pos"?"+=":"-=")+e;g.animate(r,j/2,d.options.easing).animate(p,j/2,d.options.easing);e=(n=="hide")?e*2:e/2}if(n=="hide"){var l={opacity:0};l[h]=(s=="pos"?"-=":"+=")+e;g.animate(l,j/2,d.options.easing,function(){g.hide();b.effects.restore(g,o);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(this,arguments)}})}else{var r={},p={};r[h]=(s=="pos"?"-=":"+=")+e;p[h]=(s=="pos"?"+=":"-=")+e;g.animate(r,j/2,d.options.easing).animate(p,j/2,d.options.easing,function(){b.effects.restore(g,o);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(this,arguments)}})}g.queue("fx",function(){g.dequeue()});g.dequeue()})}})(jQuery);(function(b,c){b.effects.clip=function(d){return this.queue(function(){var h=b(this),m=["position","top","bottom","left","right","height","width"];var l=b.effects.setMode(h,d.options.mode||"hide");var n=d.options.direction||"vertical";b.effects.save(h,m);h.show();var e=b.effects.createWrapper(h).css({overflow:"hidden"});var g=h[0].tagName=="IMG"?e:h;var i={size:(n=="vertical")?"height":"width",position:(n=="vertical")?"top":"left"};var f=(n=="vertical")?g.height():g.width();if(l=="show"){g.css(i.size,0);g.css(i.position,f/2)}var j={};j[i.size]=l=="show"?f:0;j[i.position]=l=="show"?0:f/2;g.animate(j,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){if(l=="hide"){h.hide()}b.effects.restore(h,m);b.effects.removeWrapper(h);if(d.callback){d.callback.apply(h[0],arguments)}h.dequeue()}})})}})(jQuery);(function(b,c){b.effects.drop=function(d){return this.queue(function(){var g=b(this),f=["position","top","bottom","left","right","opacity"];var l=b.effects.setMode(g,d.options.mode||"hide");var j=d.options.direction||"left";b.effects.save(g,f);g.show();b.effects.createWrapper(g);var h=(j=="up"||j=="down")?"top":"left";var e=(j=="up"||j=="left")?"pos":"neg";var m=d.options.distance||(h=="top"?g.outerHeight(true)/2:g.outerWidth(true)/2);if(l=="show"){g.css("opacity",0).css(h,e=="pos"?-m:m)}var i={opacity:l=="show"?1:0};i[h]=(l=="show"?(e=="pos"?"+=":"-="):(e=="pos"?"-=":"+="))+m;g.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){if(l=="hide"){g.hide()}b.effects.restore(g,f);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(this,arguments)}g.dequeue()}})})}})(jQuery);(function(b,c){b.effects.explode=function(d){return this.queue(function(){var n=d.options.pieces?Math.round(Math.sqrt(d.options.pieces)):3;var g=d.options.pieces?Math.round(Math.sqrt(d.options.pieces)):3;d.options.mode=d.options.mode=="toggle"?(b(this).is(":visible")?"hide":"show"):d.options.mode;var m=b(this).show().css("visibility","hidden");var o=m.offset();o.top-=parseInt(m.css("marginTop"),10)||0;o.left-=parseInt(m.css("marginLeft"),10)||0;var l=m.outerWidth(true);var e=m.outerHeight(true);for(var h=0;h<n;h++){for(var f=0;f<g;f++){m.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(l/g),top:-h*(e/n)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:l/g,height:e/n,left:o.left+f*(l/g)+(d.options.mode=="show"?(f-Math.floor(g/2))*(l/g):0),top:o.top+h*(e/n)+(d.options.mode=="show"?(h-Math.floor(n/2))*(e/n):0),opacity:d.options.mode=="show"?0:1}).animate({left:o.left+f*(l/g)+(d.options.mode=="show"?0:(f-Math.floor(g/2))*(l/g)),top:o.top+h*(e/n)+(d.options.mode=="show"?0:(h-Math.floor(n/2))*(e/n)),opacity:d.options.mode=="show"?1:0},d.duration||500)}}setTimeout(function(){d.options.mode=="show"?m.css({visibility:"visible"}):m.css({visibility:"visible"}).hide();if(d.callback){d.callback.apply(m[0])}m.dequeue();b("div.ui-effects-explode").remove()},d.duration||500)})}})(jQuery);(function(b,c){b.effects.fade=function(d){return this.queue(function(){var e=b(this),f=b.effects.setMode(e,d.options.mode||"hide");e.animate({opacity:f},{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){(d.callback&&d.callback.apply(this,arguments));e.dequeue()}})})}})(jQuery);(function(b,c){b.effects.fold=function(d){return this.queue(function(){var g=b(this),n=["position","top","bottom","left","right"];var j=b.effects.setMode(g,d.options.mode||"hide");var r=d.options.size||15;var q=!(!d.options.horizFirst);var i=d.duration?d.duration/2:b.fx.speeds._default/2;b.effects.save(g,n);g.show();var f=b.effects.createWrapper(g).css({overflow:"hidden"});var l=((j=="show")!=q);var h=l?["width","height"]:["height","width"];var e=l?[f.width(),f.height()]:[f.height(),f.width()];var m=/([0-9]+)%/.exec(r);if(m){r=parseInt(m[1],10)/100*e[j=="hide"?0:1]}if(j=="show"){f.css(q?{height:0,width:r}:{height:r,width:0})}var p={},o={};p[h[0]]=j=="show"?e[0]:r;o[h[1]]=j=="show"?e[1]:0;f.animate(p,i,d.options.easing).animate(o,i,d.options.easing,function(){if(j=="hide"){g.hide()}b.effects.restore(g,n);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(g[0],arguments)}g.dequeue()})})}})(jQuery);(function(b,c){b.effects.highlight=function(d){return this.queue(function(){var f=b(this),e=["backgroundImage","backgroundColor","opacity"],h=b.effects.setMode(f,d.options.mode||"show"),g={backgroundColor:f.css("backgroundColor")};if(h=="hide"){g.opacity=0}b.effects.save(f,e);f.show().css({backgroundImage:"none",backgroundColor:d.options.color||"#ffff99"}).animate(g,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){(h=="hide"&&f.hide());b.effects.restore(f,e);(h=="show"&&!b.support.opacity&&this.style.removeAttribute("filter"));(d.callback&&d.callback.apply(this,arguments));f.dequeue()}})})}})(jQuery);(function(b,c){b.effects.pulsate=function(d){return this.queue(function(){var h=b(this),m=b.effects.setMode(h,d.options.mode||"show"),l=((d.options.times||5)*2)-1,j=d.duration?d.duration/2:b.fx.speeds._default/2,e=h.is(":visible"),f=0;if(!e){h.css("opacity",0).show();f=1}if((m=="hide"&&e)||(m=="show"&&!e)){l--}for(var g=0;g<l;g++){h.animate({opacity:f},j,d.options.easing);f=(f+1)%2}h.animate({opacity:f},j,d.options.easing,function(){if(f==0){h.hide()}(d.callback&&d.callback.apply(this,arguments))});h.queue("fx",function(){h.dequeue()}).dequeue()})}})(jQuery);(function(b,c){b.effects.puff=function(d){return this.queue(function(){var h=b(this),i=b.effects.setMode(h,d.options.mode||"hide"),g=parseInt(d.options.percent,10)||150,f=g/100,e={height:h.height(),width:h.width()};b.extend(d.options,{fade:true,mode:i,percent:i=="hide"?g:100,from:i=="hide"?e:{height:e.height*f,width:e.width*f}});h.effect("scale",d.options,d.duration,d.callback);h.dequeue()})};b.effects.scale=function(d){return this.queue(function(){var i=b(this);var f=b.extend(true,{},d.options);var m=b.effects.setMode(i,d.options.mode||"effect");var j=parseInt(d.options.percent,10)||(parseInt(d.options.percent,10)==0?0:(m=="hide"?0:100));var l=d.options.direction||"both";var e=d.options.origin;if(m!="effect"){f.origin=e||["middle","center"];f.restore=true}var h={height:i.height(),width:i.width()};i.from=d.options.from||(m=="show"?{height:0,width:0}:h);var g={y:l!="horizontal"?(j/100):1,x:l!="vertical"?(j/100):1};i.to={height:h.height*g.y,width:h.width*g.x};if(d.options.fade){if(m=="show"){i.from.opacity=0;i.to.opacity=1}if(m=="hide"){i.from.opacity=1;i.to.opacity=0}}f.from=i.from;f.to=i.to;f.mode=m;i.effect("size",f,d.duration,d.callback);i.dequeue()})};b.effects.size=function(d){return this.queue(function(){var e=b(this),q=["position","top","bottom","left","right","width","height","overflow","opacity"];var p=["position","top","bottom","left","right","overflow","opacity"];var m=["width","height","overflow"];var s=["fontSize"];var n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];var i=b.effects.setMode(e,d.options.mode||"effect");var l=d.options.restore||false;var g=d.options.scale||"both";var r=d.options.origin;var f={height:e.height(),width:e.width()};e.from=d.options.from||f;e.to=d.options.to||f;if(r){var j=b.effects.getBaseline(r,f);e.from.top=(f.height-e.from.height)*j.y;e.from.left=(f.width-e.from.width)*j.x;e.to.top=(f.height-e.to.height)*j.y;e.to.left=(f.width-e.to.width)*j.x}var o={from:{y:e.from.height/f.height,x:e.from.width/f.width},to:{y:e.to.height/f.height,x:e.to.width/f.width}};if(g=="box"||g=="both"){if(o.from.y!=o.to.y){q=q.concat(n);e.from=b.effects.setTransition(e,n,o.from.y,e.from);e.to=b.effects.setTransition(e,n,o.to.y,e.to)}if(o.from.x!=o.to.x){q=q.concat(h);e.from=b.effects.setTransition(e,h,o.from.x,e.from);e.to=b.effects.setTransition(e,h,o.to.x,e.to)}}if(g=="content"||g=="both"){if(o.from.y!=o.to.y){q=q.concat(s);e.from=b.effects.setTransition(e,s,o.from.y,e.from);e.to=b.effects.setTransition(e,s,o.to.y,e.to)}}b.effects.save(e,l?q:p);e.show();b.effects.createWrapper(e);e.css("overflow","hidden").css(e.from);if(g=="content"||g=="both"){n=n.concat(["marginTop","marginBottom"]).concat(s);h=h.concat(["marginLeft","marginRight"]);m=q.concat(n).concat(h);e.find("*[width]").each(function(){var u=b(this);if(l){b.effects.save(u,m)}var t={height:u.height(),width:u.width()};u.from={height:t.height*o.from.y,width:t.width*o.from.x};u.to={height:t.height*o.to.y,width:t.width*o.to.x};if(o.from.y!=o.to.y){u.from=b.effects.setTransition(u,n,o.from.y,u.from);u.to=b.effects.setTransition(u,n,o.to.y,u.to)}if(o.from.x!=o.to.x){u.from=b.effects.setTransition(u,h,o.from.x,u.from);u.to=b.effects.setTransition(u,h,o.to.x,u.to)}u.css(u.from);u.animate(u.to,d.duration,d.options.easing,function(){if(l){b.effects.restore(u,m)}})})}e.animate(e.to,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){if(e.to.opacity===0){e.css("opacity",e.from.opacity)}if(i=="hide"){e.hide()}b.effects.restore(e,l?q:p);b.effects.removeWrapper(e);if(d.callback){d.callback.apply(this,arguments)}e.dequeue()}})})}})(jQuery);(function(b,c){b.effects.shake=function(d){return this.queue(function(){var g=b(this),o=["position","top","bottom","left","right"];var n=b.effects.setMode(g,d.options.mode||"effect");var q=d.options.direction||"left";var e=d.options.distance||20;var f=d.options.times||3;var j=d.duration||d.options.duration||140;b.effects.save(g,o);g.show();b.effects.createWrapper(g);var h=(q=="up"||q=="down")?"top":"left";var s=(q=="up"||q=="left")?"pos":"neg";var l={},r={},p={};l[h]=(s=="pos"?"-=":"+=")+e;r[h]=(s=="pos"?"+=":"-=")+e*2;p[h]=(s=="pos"?"-=":"+=")+e*2;g.animate(l,j,d.options.easing);for(var m=1;m<f;m++){g.animate(r,j,d.options.easing).animate(p,j,d.options.easing)}g.animate(r,j,d.options.easing).animate(l,j/2,d.options.easing,function(){b.effects.restore(g,o);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(this,arguments)}});g.queue("fx",function(){g.dequeue()});g.dequeue()})}})(jQuery);(function(b,c){b.effects.slide=function(d){return this.queue(function(){var g=b(this),f=["position","top","bottom","left","right"];var l=b.effects.setMode(g,d.options.mode||"show");var j=d.options.direction||"left";b.effects.save(g,f);g.show();b.effects.createWrapper(g).css({overflow:"hidden"});var h=(j=="up"||j=="down")?"top":"left";var e=(j=="up"||j=="left")?"pos":"neg";var m=d.options.distance||(h=="top"?g.outerHeight(true):g.outerWidth(true));if(l=="show"){g.css(h,e=="pos"?(isNaN(m)?"-"+m:-m):m)}var i={};i[h]=(l=="show"?(e=="pos"?"+=":"-="):(e=="pos"?"-=":"+="))+m;g.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){if(l=="hide"){g.hide()}b.effects.restore(g,f);b.effects.removeWrapper(g);if(d.callback){d.callback.apply(this,arguments)}g.dequeue()}})})}})(jQuery);(function(b,c){b.effects.transfer=function(d){return this.queue(function(){var h=b(this),j=b(d.options.to),g=j.offset(),i={top:g.top,left:g.left,height:j.innerHeight(),width:j.innerWidth()},f=h.offset(),e=b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(d.options.className).css({top:f.top,left:f.left,height:h.innerHeight(),width:h.innerWidth(),position:"absolute"}).animate(i,d.duration,d.options.easing,function(){e.remove();(d.callback&&d.callback.apply(h[0],arguments));h.dequeue()})})}})(jQuery);var _canLog=true;function _log(h,g){if(!_canLog){return}var c=Array.prototype.slice.apply(arguments,[1]);var d=new Date();var b=d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()+"."+d.getMilliseconds();c[0]=b+" - "+c[0];try{switch(h){case"info":window.console.info.apply(window.console,c);break;case"warn":window.console.warn.apply(window.console,c);break;default:window.console.log.apply(window.console,c);break}}catch(f){if(!window.console){_canLog=false}else{if(f.number===-2146827850){window.console.log(c.join(", "))}}}}function _checkBrowser(){var b,d;function c(f){f=f.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(f)||[];return{browser:e[1]||"",version:e[2]||"0"}}b=c(navigator.userAgent);d={};if(b.browser){d[b.browser]=true;d.version=b.version}if(d.chrome){d.webkit=true}else{if(d.webkit){d.safari=true}}return d}var BROWSER=jQuery.browser||_checkBrowser();function logMsg(b){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}var getDynaTreePersistData=null;var DTNodeStatus_Error=-1;var DTNodeStatus_Loading=1;var DTNodeStatus_Ok=0;(function($){var _keyToNode={};var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};function getDtNodeFromElement(el){alert("getDtNodeFromElement is deprecated");return $.ui.dynatree.getNode(el)}function noop(){}function versionCompare(v1,v2){var v1parts=(""+v1).split("."),v2parts=(""+v2).split("."),minLength=Math.min(v1parts.length,v2parts.length),p1,p2,i;for(i=0;i<minLength;i++){p1=parseInt(v1parts[i],10);p2=parseInt(v2parts[i],10);if(isNaN(p1)){p1=v1parts[i]}if(isNaN(p2)){p2=v2parts[i]}if(p1==p2){continue}else{if(p1>p2){return 1}else{if(p1<p2){return -1}}}return NaN}if(v1parts.length===v2parts.length){return 0}return(v1parts.length<v2parts.length)?-1:1}var DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(parent,tree,data){this.parent=parent;this.tree=tree;if(typeof data==="string"){data={title:data}}if(!data.key){data.key="_"+tree._nodeCount++}else{data.key=""+data.key}this.data=$.extend({},$.ui.dynatree.nodedatadefaults,data);this.li=null;this.span=null;this.ul=null;this.childList=null;this._isLoading=false;this.hasSubSel=false;this.bExpanded=false;this.bSelected=false;_keyToNode[data.key]=this},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(recursive,callback){var dict=$.extend({},this.data);dict.activate=(this.tree.activeNode===this);dict.focus=(this.tree.focusNode===this);dict.expand=this.bExpanded;dict.select=this.bSelected;if(callback){callback(dict)}if(recursive&&this.childList){dict.children=[];for(var i=0,l=this.childList.length;i<l;i++){dict.children.push(this.childList[i].toDict(true,callback))}}else{delete dict.children}return dict},fromDict:function(dict){var children=dict.children;if(children===undefined){this.data=$.extend(this.data,dict);this.render();return}dict=$.extend({},dict);dict.children=undefined;this.data=$.extend(this.data,dict);this.removeChildren();this.addChild(children)},_getInnerHtml:function(){var tree=this.tree,opts=tree.options,cache=tree.cache,level=this.getLevel(),data=this.data,res="",imageSrc;if(level<opts.minExpandLevel){if(level>1){res+=cache.tagConnector}}else{if(this.hasChildren()!==false){res+=cache.tagExpander}else{res+=cache.tagConnector}}if(opts.checkbox&&data.hideCheckbox!==true&&!data.isStatusNode){res+=cache.tagCheckbox}if(data.icon){if(data.icon.charAt(0)==="/"){imageSrc=data.icon}else{imageSrc=opts.imagePath+data.icon}res+="<img src='"+imageSrc+"' alt='' />"}else{if(data.icon===false){}else{if(data.iconClass){res+="<span class=' "+data.iconClass+"'></span>"}else{res+=cache.tagNodeIcon}}}var nodeTitle="";if(opts.onCustomRender){nodeTitle=opts.onCustomRender.call(tree,this)||""}if(!nodeTitle){var tooltip=data.tooltip?' title="'+data.tooltip.replace(/\"/g,"&quot;")+'"':"",href=data.href||"#";if(opts.noLink||data.noLink){nodeTitle='<span style="display:inline-block;" class="'+opts.classNames.title+'"'+tooltip+">"+data.title+"</span>"}else{nodeTitle='<a href="'+href+'" class="'+opts.classNames.title+'"'+tooltip+">"+data.title+"</a>"}}res+=nodeTitle;return res},_fixOrder:function(){var cl=this.childList;if(!cl||!this.ul){return}var childLI=this.ul.firstChild;for(var i=0,l=cl.length-1;i<l;i++){var childNode1=cl[i];var childNode2=childLI.dtnode;if(childNode1!==childNode2){this.tree.logDebug("_fixOrder: mismatch at index "+i+": "+childNode1+" != "+childNode2);this.ul.insertBefore(childNode1.li,childNode2.li)}else{childLI=childLI.nextSibling}}},render:function(useEffects,includeInvisible){var tree=this.tree,parent=this.parent,data=this.data,opts=tree.options,cn=opts.classNames,isLastSib=this.isLastSibling(),firstTime=false;if(!parent&&!this.ul){this.li=this.span=null;this.ul=document.createElement("ul");if(opts.minExpandLevel>1){this.ul.className=cn.container+" "+cn.noConnector}else{this.ul.className=cn.container}}else{if(parent){if(!this.li){firstTime=true;this.li=document.createElement("li");this.li.dtnode=this;if(data.key&&opts.generateIds){this.li.id=opts.idPrefix+data.key}this.span=document.createElement("span");this.span.className=cn.title;this.li.appendChild(this.span);if(!parent.ul){parent.ul=document.createElement("ul");parent.ul.style.display="none";parent.li.appendChild(parent.ul)}parent.ul.appendChild(this.li)}this.span.innerHTML=this._getInnerHtml();var cnList=[];cnList.push(cn.node);if(data.isFolder){cnList.push(cn.folder)}if(this.bExpanded){cnList.push(cn.expanded)}if(this.hasChildren()!==false){cnList.push(cn.hasChildren)}if(data.isLazy&&this.childList===null){cnList.push(cn.lazy)}if(isLastSib){cnList.push(cn.lastsib)}if(this.bSelected){cnList.push(cn.selected)}if(this.hasSubSel){cnList.push(cn.partsel)}if(tree.activeNode===this){cnList.push(cn.active)}if(data.addClass){cnList.push(data.addClass)}cnList.push(cn.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(data.isLazy&&this.childList===null?"d":"")+(isLastSib?"l":""));cnList.push(cn.combinedIconPrefix+(this.bExpanded?"e":"c")+(data.isFolder?"f":""));this.span.className=cnList.join(" ");this.li.className=isLastSib?cn.lastsib:"";if(firstTime&&opts.onCreate){opts.onCreate.call(tree,this,this.span)}if(opts.onRender){opts.onRender.call(tree,this,this.span)}}}if((this.bExpanded||includeInvisible===true)&&this.childList){for(var i=0,l=this.childList.length;i<l;i++){this.childList[i].render(false,includeInvisible)}this._fixOrder()}if(this.ul){var isHidden=(this.ul.style.display==="none");var isExpanded=!!this.bExpanded;if(useEffects&&opts.fx&&(isHidden===isExpanded)){var duration=opts.fx.duration||200;$(this.ul).animate(opts.fx,duration)}else{this.ul.style.display=(this.bExpanded||!parent)?"":"none"}}},getKeyPath:function(excludeSelf){var path=[];this.visitParents(function(node){if(node.parent){path.unshift(node.data.key)}},!excludeSelf);return"/"+path.join(this.tree.options.keyPathSeparator)},getParent:function(){return this.parent},getChildren:function(){if(this.hasChildren()===undefined){return undefined}return this.childList},hasChildren:function(){if(this.data.isLazy){if(this.childList===null||this.childList===undefined){return undefined}else{if(this.childList.length===0){return false}else{if(this.childList.length===1&&this.childList[0].isStatusNode()){return undefined}}}return true}return !!this.childList},isFirstSibling:function(){var p=this.parent;return !p||p.childList[0]===this},isLastSibling:function(){var p=this.parent;return !p||p.childList[p.childList.length-1]===this},isLoading:function(){return !!this._isLoading},getPrevSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=1,l=ac.length;i<l;i++){if(ac[i]===this){return ac[i-1]}}return null},getNextSibling:function(){if(!this.parent){return null}var ac=this.parent.childList;for(var i=0,l=ac.length-1;i<l;i++){if(ac[i]===this){return ac[i+1]}}return null},isStatusNode:function(){return(this.data.isStatusNode===true)},isChildOf:function(otherNode){return(this.parent&&this.parent===otherNode)},isDescendantOf:function(otherNode){if(!otherNode){return false}var p=this.parent;while(p){if(p===otherNode){return true}p=p.parent}return false},countChildren:function(){var cl=this.childList;if(!cl){return 0}var n=cl.length;for(var i=0,l=n;i<l;i++){var child=cl[i];n+=child.countChildren()}return n},sortChildren:function(cmp,deep){var cl=this.childList;if(!cl){return}cmp=cmp||function(a,b){var x=a.data.title.toLowerCase(),y=b.data.title.toLowerCase();return x===y?0:x>y?1:-1};cl.sort(cmp);if(deep){for(var i=0,l=cl.length;i<l;i++){if(cl[i].childList){cl[i].sortChildren(cmp,"$norender$")}}}if(deep!=="$norender$"){this.render()}},_setStatusNode:function(data){var firstChild=(this.childList?this.childList[0]:null);if(!data){if(firstChild&&firstChild.isStatusNode()){try{if(this.ul){this.ul.removeChild(firstChild.li);firstChild.li=null}}catch(e){}if(this.childList.length===1){this.childList=[]}else{this.childList.shift()}}}else{if(firstChild){data.isStatusNode=true;data.key="_statusNode";firstChild.data=data;firstChild.render()}else{data.isStatusNode=true;data.key="_statusNode";firstChild=this.addChild(data)}}},setLazyNodeStatus:function(lts,opts){var tooltip=(opts&&opts.tooltip)?opts.tooltip:null,info=(opts&&opts.info)?" ("+opts.info+")":"";switch(lts){case DTNodeStatus_Ok:this._setStatusNode(null);$(this.span).removeClass(this.tree.options.classNames.nodeLoading);this._isLoading=false;if(this.tree.options.autoFocus){if(this===this.tree.tnRoot&&this.childList&&this.childList.length>0){this.childList[0].focus()}else{this.focus()}}break;case DTNodeStatus_Loading:this._isLoading=true;$(this.span).addClass(this.tree.options.classNames.nodeLoading);if(!this.parent){this._setStatusNode({title:this.tree.options.strings.loading+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeWait})}break;case DTNodeStatus_Error:this._isLoading=false;this._setStatusNode({title:this.tree.options.strings.loadError+info,tooltip:tooltip,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+lts+"'."}},_parentList:function(includeRoot,includeSelf){var l=[];var dtn=includeSelf?this:this.parent;while(dtn){if(includeRoot||dtn.parent){l.unshift(dtn)}dtn=dtn.parent}return l},getLevel:function(){var level=0;var dtn=this.parent;while(dtn){level++;dtn=dtn.parent}return level},_getTypeForOuterNodeEvent:function(event){var cns=this.tree.options.classNames;var target=event.target;if(target.className.indexOf(cns.node)<0){return null}var eventX=event.pageX-target.offsetLeft;var eventY=event.pageY-target.offsetTop;for(var i=0,l=target.childNodes.length;i<l;i++){var cn=target.childNodes[i];var x=cn.offsetLeft-target.offsetLeft;var y=cn.offsetTop-target.offsetTop;var nx=cn.clientWidth,ny=cn.clientHeight;if(eventX>=x&&eventX<=(x+nx)&&eventY>=y&&eventY<=(y+ny)){if(cn.className==cns.title){return"title"}else{if(cn.className==cns.expander){return"expander"}else{if(cn.className==cns.checkbox){return"checkbox"}else{if(cn.className==cns.nodeIcon){return"icon"}}}}}}return"prefix"},getEventTargetType:function(event){var tcn=event&&event.target?event.target.className:"",cns=this.tree.options.classNames;if(tcn===cns.title){return"title"}else{if(tcn===cns.expander){return"expander"}else{if(tcn===cns.checkbox){return"checkbox"}else{if(tcn===cns.nodeIcon){return"icon"}else{if(tcn===cns.empty||tcn===cns.vline||tcn===cns.connector){return"prefix"}else{if(tcn.indexOf(cns.node)>=0){return this._getTypeForOuterNodeEvent(event)}}}}}}return null},isVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){if(!parents[i].bExpanded){return false}}return true},makeVisible:function(){var parents=this._parentList(true,false);for(var i=0,l=parents.length;i<l;i++){parents[i]._expand(true)}},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(e){}},isFocused:function(){return(this.tree.tnFocused===this)},_activate:function(flag,fireEvents){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",flag,fireEvents,this);var opts=this.tree.options;if(this.data.isStatusNode){return}if(fireEvents&&opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,flag,this)===false){return}if(flag){if(this.tree.activeNode){if(this.tree.activeNode===this){return}this.tree.activeNode.deactivate()}if(opts.activeVisible){this.makeVisible()}this.tree.activeNode=this;if(opts.persist){$.cookie(opts.cookieId+"-active",this.data.key,opts.cookie)}this.tree.persistence.activeKey=this.data.key;$(this.span).addClass(opts.classNames.active);if(fireEvents&&opts.onActivate){opts.onActivate.call(this.tree,this)}}else{if(this.tree.activeNode===this){if(opts.onQueryActivate&&opts.onQueryActivate.call(this.tree,false,this)===false){return}$(this.span).removeClass(opts.classNames.active);if(opts.persist){$.cookie(opts.cookieId+"-active","",opts.cookie)}this.tree.persistence.activeKey=null;this.tree.activeNode=null;if(fireEvents&&opts.onDeactivate){opts.onDeactivate.call(this.tree,this)}}}},activate:function(){this._activate(true,true)},activateSilently:function(){this._activate(true,false)},deactivate:function(){this._activate(false,true)},isActive:function(){return(this.tree.activeNode===this)},_userActivate:function(){var activate=true;var expand=false;if(this.data.isFolder){switch(this.tree.options.clickFolderMode){case 2:activate=false;expand=true;break;case 3:activate=expand=true;break}}if(this.parent===null){expand=false}if(expand){this.toggleExpand();this.focus()}if(activate){this.activate()}},_setSubSel:function(hasSubSel){if(hasSubSel){this.hasSubSel=true;$(this.span).addClass(this.tree.options.classNames.partsel)}else{this.hasSubSel=false;$(this.span).removeClass(this.tree.options.classNames.partsel)}},_updatePartSelectionState:function(){var sel;if(!this.hasChildren()){sel=(this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode);this._setSubSel(false);return sel}var i,l,cl=this.childList,allSelected=true,allDeselected=true;for(i=0,l=cl.length;i<l;i++){var n=cl[i],s=n._updatePartSelectionState();if(s!==false){allDeselected=false}if(s!==true){allSelected=false}}if(allSelected){sel=true}else{if(allDeselected){sel=false}else{sel=undefined}}this._setSubSel(sel===undefined);this.bSelected=(sel===true);return sel},_fixSelectionState:function(){var p,i,l;if(this.bSelected){this.visit(function(node){node.parent._setSubSel(true);if(!node.data.unselectable){node._select(true,false,false)}});p=this.parent;while(p){p._setSubSel(true);var allChildsSelected=true;for(i=0,l=p.childList.length;i<l;i++){var n=p.childList[i];if(!n.bSelected&&!n.data.isStatusNode&&!n.data.unselectable){allChildsSelected=false;break}}if(allChildsSelected){p._select(true,false,false)}p=p.parent}}else{this._setSubSel(false);this.visit(function(node){node._setSubSel(false);node._select(false,false,false)});p=this.parent;while(p){p._select(false,false,false);var isPartSel=false;for(i=0,l=p.childList.length;i<l;i++){if(p.childList[i].bSelected||p.childList[i].hasSubSel){isPartSel=true;break}}p._setSubSel(isPartSel);p=p.parent}}},_select:function(sel,fireEvents,deep){var opts=this.tree.options;if(this.data.isStatusNode){return}if(this.bSelected===sel){return}if(fireEvents&&opts.onQuerySelect&&opts.onQuerySelect.call(this.tree,sel,this)===false){return}if(opts.selectMode==1&&sel){this.tree.visit(function(node){if(node.bSelected){node._select(false,false,false);return false}})}this.bSelected=sel;if(sel){if(opts.persist){this.tree.persistence.addSelect(this.data.key)}$(this.span).addClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,true,this)}}else{if(opts.persist){this.tree.persistence.clearSelect(this.data.key)}$(this.span).removeClass(opts.classNames.selected);if(deep&&opts.selectMode===3){this._fixSelectionState()}if(fireEvents&&opts.onSelect){opts.onSelect.call(this.tree,false,this)}}},select:function(sel){if(this.data.unselectable){return this.bSelected}return this._select(sel!==false,true,true)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return !!this.data.isLazy},_loadContent:function(){try{var opts=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this);this.setLazyNodeStatus(DTNodeStatus_Loading);if(true===opts.onLazyRead.call(this.tree,this)){this.setLazyNodeStatus(DTNodeStatus_Ok);this.tree.logDebug("_loadContent: succeeded - %o",this)}}catch(e){this.tree.logWarning("_loadContent: failed - %o",e);this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+e})}},_expand:function(bExpand,forceSync){if(this.bExpanded===bExpand){this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",bExpand,this);return}this.tree.logDebug("dtnode._expand(%o) - %o",bExpand,this);var opts=this.tree.options;if(!bExpand&&this.getLevel()<opts.minExpandLevel){this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",bExpand,this);return}if(opts.onQueryExpand&&opts.onQueryExpand.call(this.tree,bExpand,this)===false){return}this.bExpanded=bExpand;if(opts.persist){if(bExpand){this.tree.persistence.addExpand(this.data.key)}else{this.tree.persistence.clearExpand(this.data.key)}}var allowEffects=!(this.data.isLazy&&this.childList===null)&&!this._isLoading&&!forceSync;this.render(allowEffects);if(this.bExpanded&&this.parent&&opts.autoCollapse){var parents=this._parentList(false,true);for(var i=0,l=parents.length;i<l;i++){parents[i].collapseSiblings()}}if(opts.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()){this.tree.activeNode.deactivate()}if(bExpand&&this.data.isLazy&&this.childList===null&&!this._isLoading){this._loadContent();return}if(opts.onExpand){opts.onExpand.call(this.tree,bExpand,this)}},isExpanded:function(){return this.bExpanded},expand:function(flag){flag=(flag!==false);if(!this.childList&&!this.data.isLazy&&flag){return}else{if(this.parent===null&&!flag){return}}this._expand(flag)},scheduleAction:function(mode,ms){if(this.tree.timer){clearTimeout(this.tree.timer);this.tree.logDebug("clearTimeout(%o)",this.tree.timer)}var self=this;switch(mode){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger expand");self.expand(true)},ms);break;case"activate":this.tree.timer=setTimeout(function(){self.tree.logDebug("setTimeout: trigger activate");self.activate()},ms);break;default:throw"Invalid mode "+mode}this.tree.logDebug("setTimeout(%s, %s): %s",mode,ms,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(this.parent===null){return}var ac=this.parent.childList;for(var i=0,l=ac.length;i<l;i++){if(ac[i]!==this&&ac[i].bExpanded){ac[i]._expand(false)}}},_onClick:function(event){var targetType=this.getEventTargetType(event);if(targetType==="expander"){this.toggleExpand();this.focus()}else{if(targetType==="checkbox"){this.toggleSelect();this.focus()}else{this._userActivate();var aTag=this.span.getElementsByTagName("a");if(aTag[0]){if(!(BROWSER.msie&&parseInt(BROWSER.version,10)<9)){aTag[0].focus()}}else{return true}}}event.preventDefault()},_onDblClick:function(event){},_onKeydown:function(event){var handled=true,sib;switch(event.which){case 107:case 187:if(!this.bExpanded){this.toggleExpand()}break;case 109:case 189:if(this.bExpanded){this.toggleExpand()}break;case 32:this._userActivate();break;case 8:if(this.parent){this.parent.focus()}break;case 37:if(this.bExpanded){this.toggleExpand();this.focus()}else{if(this.parent&&this.parent.parent){this.parent.focus()}}break;case 39:if(!this.bExpanded&&(this.childList||this.data.isLazy)){this.toggleExpand();this.focus()}else{if(this.childList){this.childList[0].focus()}}break;case 38:sib=this.getPrevSibling();while(sib&&sib.bExpanded&&sib.childList){sib=sib.childList[sib.childList.length-1]}if(!sib&&this.parent&&this.parent.parent){sib=this.parent}if(sib){sib.focus()}break;case 40:if(this.bExpanded&&this.childList){sib=this.childList[0]}else{var parents=this._parentList(false,true);for(var i=parents.length-1;i>=0;i--){sib=parents[i].getNextSibling();if(sib){break}}}if(sib){sib.focus()}break;default:handled=false}if(handled){event.preventDefault()}},_onKeypress:function(event){},_onFocus:function(event){var opts=this.tree.options;if(event.type=="blur"||event.type=="focusout"){if(opts.onBlur){opts.onBlur.call(this.tree,this)}if(this.tree.tnFocused){$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=null;if(opts.persist){$.cookie(opts.cookieId+"-focus","",opts.cookie)}}else{if(event.type=="focus"||event.type=="focusin"){if(this.tree.tnFocused&&this.tree.tnFocused!==this){this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused);$(this.tree.tnFocused.span).removeClass(opts.classNames.focused)}this.tree.tnFocused=this;if(opts.onFocus){opts.onFocus.call(this.tree,this)}$(this.tree.tnFocused.span).addClass(opts.classNames.focused);if(opts.persist){$.cookie(opts.cookieId+"-focus",this.data.key,opts.cookie)}}}},visit:function(fn,includeSelf){var res=true;if(includeSelf===true){res=fn(this);if(res===false||res=="skip"){return res}}if(this.childList){for(var i=0,l=this.childList.length;i<l;i++){res=this.childList[i].visit(fn,true);if(res===false){break}}}return res},visitParents:function(fn,includeSelf){if(includeSelf&&fn(this)===false){return false}var p=this.parent;while(p){if(fn(p)===false){return false}p=p.parent}return true},remove:function(){if(this===this.tree.root){throw"Cannot remove system root"}return this.parent.removeChild(this)},removeChild:function(tn){var ac=this.childList;if(ac.length==1){if(tn!==ac[0]){throw"removeChild: invalid child"}return this.removeChildren()}if(tn===this.tree.activeNode){tn.deactivate()}if(this.tree.options.persist){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true);if(this.ul){this.ul.removeChild(tn.li)}for(var i=0,l=ac.length;i<l;i++){if(ac[i]===tn){this.childList.splice(i,1);break}}},removeChildren:function(isRecursiveCall,retainPersistence){this.tree.logDebug("%s.removeChildren(%o)",this,isRecursiveCall);var tree=this.tree;var ac=this.childList;if(ac){for(var i=0,l=ac.length;i<l;i++){var tn=ac[i];if(tn===tree.activeNode&&!retainPersistence){tn.deactivate()}if(this.tree.options.persist&&!retainPersistence){if(tn.bSelected){this.tree.persistence.clearSelect(tn.data.key)}if(tn.bExpanded){this.tree.persistence.clearExpand(tn.data.key)}}tn.removeChildren(true,retainPersistence);if(this.ul){$("li",$(this.ul)).remove()}if((tn.data)&&(tn.data.key)){delete (_keyToNode[tn.data.key])}}this.childList=null}if(!isRecursiveCall){this._isLoading=false;this.render()}},setTitle:function(title){this.fromDict({title:title})},reload:function(force){throw"Use reloadChildren() instead"},reloadChildren:function(callback){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.reloadChildren() requires lazy nodes."}}if(callback){var self=this;var eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(eventType,function(e,node,isOk){self.tree.$tree.unbind(eventType);self.tree.logDebug("loaded %o, %o, %o",e,node,isOk);if(node!==self){throw"got invalid load event"}callback.call(self.tree,node,isOk)})}this.removeChildren();this._loadContent()},_loadKeyPath:function(keyPath,callback){var tree=this.tree;tree.logDebug("%s._loadKeyPath(%s)",this,keyPath);if(keyPath===""){throw"Key path must not be empty"}var segList=keyPath.split(tree.options.keyPathSeparator);if(segList[0]===""){throw"Key path must be relative (don't start with '/')"}var seg=segList.shift();if(this.childList){for(var i=0,l=this.childList.length;i<l;i++){var child=this.childList[i];if(child.data.key===seg){if(segList.length===0){callback.call(tree,child,"ok")}else{if(child.data.isLazy&&(child.childList===null||child.childList===undefined)){tree.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,keyPath,child);var self=this;child.reloadChildren(function(node,isOk){if(isOk){tree.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",node,keyPath,node);callback.call(tree,child,"loaded");node._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}else{tree.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",self,keyPath);callback.call(tree,child,"error")}})}else{callback.call(tree,child,"loaded");child._loadKeyPath(segList.join(tree.options.keyPathSeparator),callback)}}return}}}callback.call(tree,undefined,"notfound",seg,segList.length===0);tree.logWarning("Node not found: "+seg);return},resetLazy:function(){if(this.parent===null){throw"Use tree.reload() instead"}else{if(!this.data.isLazy){throw"node.resetLazy() requires lazy nodes."}}this.expand(false);this.removeChildren()},_addChildNode:function(dtnode,beforeNode){var tree=this.tree,opts=tree.options,pers=tree.persistence;dtnode.parent=this;if(this.childList===null){this.childList=[]}else{if(!beforeNode){if(this.childList.length>0){$(this.childList[this.childList.length-1].span).removeClass(opts.classNames.lastsib)}}}if(beforeNode){var iBefore=$.inArray(beforeNode,this.childList);if(iBefore<0){throw"<beforeNode> must be a child of <this>"}this.childList.splice(iBefore,0,dtnode)}else{this.childList.push(dtnode)}var isInitializing=tree.isInitializing();if(opts.persist&&pers.cookiesFound&&isInitializing){if(pers.activeKey===dtnode.data.key){tree.activeNode=dtnode}if(pers.focusedKey===dtnode.data.key){tree.focusNode=dtnode}dtnode.bExpanded=($.inArray(dtnode.data.key,pers.expandedKeyList)>=0);dtnode.bSelected=($.inArray(dtnode.data.key,pers.selectedKeyList)>=0)}else{if(dtnode.data.activate){tree.activeNode=dtnode;if(opts.persist){pers.activeKey=dtnode.data.key}}if(dtnode.data.focus){tree.focusNode=dtnode;if(opts.persist){pers.focusedKey=dtnode.data.key}}dtnode.bExpanded=(dtnode.data.expand===true);if(dtnode.bExpanded&&opts.persist){pers.addExpand(dtnode.data.key)}dtnode.bSelected=(dtnode.data.select===true);if(dtnode.bSelected&&opts.persist){pers.addSelect(dtnode.data.key)}}if(opts.minExpandLevel>=dtnode.getLevel()){this.bExpanded=true}if(dtnode.bSelected&&opts.selectMode==3){var p=this;while(p){if(!p.hasSubSel){p._setSubSel(true)}p=p.parent}}if(tree.bEnableUpdate){this.render()}return dtnode},addChild:function(obj,beforeNode){if(typeof(obj)=="string"){throw"Invalid data type for "+obj}else{if(!obj||obj.length===0){return}else{if(obj instanceof DynaTreeNode){return this._addChildNode(obj,beforeNode)}}}if(!obj.length){obj=[obj]}var prevFlag=this.tree.enableUpdate(false);var tnFirst=null;for(var i=0,l=obj.length;i<l;i++){var data=obj[i];var dtnode=this._addChildNode(new DynaTreeNode(this,this.tree,data),beforeNode);if(!tnFirst){tnFirst=dtnode}if(data.children){dtnode.addChild(data.children,null)}}this.tree.enableUpdate(prevFlag);return tnFirst},append:function(obj){this.tree.logWarning("node.append() is deprecated (use node.addChild() instead).");return this.addChild(obj,null)},appendAjax:function(ajaxOptions){var self=this;this.removeChildren(false,true);this.setLazyNodeStatus(DTNodeStatus_Loading);if(ajaxOptions.debugLazyDelay){var ms=ajaxOptions.debugLazyDelay;ajaxOptions.debugLazyDelay=0;this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+ms);setTimeout(function(){self.appendAjax(ajaxOptions)},ms);return}var orgSuccess=ajaxOptions.success,orgError=ajaxOptions.error,eventType="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;var options=$.extend({},this.tree.options.ajaxDefaults,ajaxOptions,{success:function(data,textStatus,jqXHR){var prevPhase=self.tree.phase;self.tree.phase="init";if(options.postProcess){data=options.postProcess.call(this,data,this.dataType)}else{if(data&&data.hasOwnProperty("d")){data=(typeof data.d)=="string"?$.parseJSON(data.d):data.d}}if(!$.isArray(data)||data.length!==0){self.addChild(data,null)}self.tree.phase="postInit";if(orgSuccess){orgSuccess.call(options,self,data,textStatus)}self.tree.logDebug("trigger "+eventType);self.tree.$tree.trigger(eventType,[self,true]);self.tree.phase=prevPhase;self.setLazyNodeStatus(DTNodeStatus_Ok);if($.isArray(data)&&data.length===0){self.childList=[];self.render()}},error:function(jqXHR,textStatus,errorThrown){self.tree.logWarning("appendAjax failed:",textStatus,":\n",jqXHR,"\n",errorThrown);if(orgError){orgError.call(options,self,jqXHR,textStatus,errorThrown)}self.tree.$tree.trigger(eventType,[self,false]);self.setLazyNodeStatus(DTNodeStatus_Error,{info:textStatus,tooltip:""+errorThrown})}});$.ajax(options)},move:function(targetNode,mode){var pos;if(this===targetNode){return}if(!this.parent){throw"Cannot move system root"}if(mode===undefined||mode=="over"){mode="child"}var prevParent=this.parent;var targetParent=(mode==="child")?targetNode:targetNode.parent;if(targetParent.isDescendantOf(this)){throw"Cannot move a node to it's own descendant"}if(this.parent.childList.length==1){this.parent.childList=this.parent.data.isLazy?[]:null;this.parent.bExpanded=false}else{pos=$.inArray(this,this.parent.childList);if(pos<0){throw"Internal error"}this.parent.childList.splice(pos,1)}if(this.parent.ul){this.parent.ul.removeChild(this.li)}this.parent=targetParent;if(targetParent.hasChildren()){switch(mode){case"child":targetParent.childList.push(this);break;case"before":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos,0,this);break;case"after":pos=$.inArray(targetNode,targetParent.childList);if(pos<0){throw"Internal error"}targetParent.childList.splice(pos+1,0,this);break;default:throw"Invalid mode "+mode}}else{targetParent.childList=[this]}if(!targetParent.ul){targetParent.ul=document.createElement("ul");targetParent.ul.style.display="none";targetParent.li.appendChild(targetParent.ul)}if(this.li){targetParent.ul.appendChild(this.li)}if(this.tree!==targetNode.tree){this.visit(function(node){node.tree=targetNode.tree},null,true);throw"Not yet implemented."}if(!prevParent.isDescendantOf(targetParent)){prevParent.render()}if(!targetParent.isDescendantOf(prevParent)){targetParent.render()}},lastentry:undefined};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(cookieId,cookieOpts){var ts=new DynaTreeStatus(cookieId,cookieOpts);ts.read();return ts.toDict()};getDynaTreePersistData=DynaTreeStatus._getTreePersistData;DynaTreeStatus.prototype={initialize:function(cookieId,cookieOpts){if(cookieId===undefined){cookieId=$.ui.dynatree.prototype.options.cookieId}cookieOpts=$.extend({},$.ui.dynatree.prototype.options.cookie,cookieOpts);this.cookieId=cookieId;this.cookieOpts=cookieOpts;this.cookiesFound=undefined;this.activeKey=null;this.focusedKey=null;this.expandedKeyList=null;this.selectedKeyList=null},_log:function(msg){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)},read:function(){this.cookiesFound=false;var cookie=$.cookie(this.cookieId+"-active");this.activeKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-focus");this.focusedKey=(cookie===null)?"":cookie;if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-expand");this.expandedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}cookie=$.cookie(this.cookieId+"-select");this.selectedKeyList=(cookie===null)?[]:cookie.split(",");if(cookie!==null){this.cookiesFound=true}},write:function(){$.cookie(this.cookieId+"-active",(this.activeKey===null)?"":this.activeKey,this.cookieOpts);$.cookie(this.cookieId+"-focus",(this.focusedKey===null)?"":this.focusedKey,this.cookieOpts);$.cookie(this.cookieId+"-expand",(this.expandedKeyList===null)?"":this.expandedKeyList.join(","),this.cookieOpts);$.cookie(this.cookieId+"-select",(this.selectedKeyList===null)?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(key){if($.inArray(key,this.expandedKeyList)<0){this.expandedKeyList.push(key);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},clearExpand:function(key){var idx=$.inArray(key,this.expandedKeyList);if(idx>=0){this.expandedKeyList.splice(idx,1);$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts)}},addSelect:function(key){if($.inArray(key,this.selectedKeyList)<0){this.selectedKeyList.push(key);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},clearSelect:function(key){var idx=$.inArray(key,this.selectedKeyList);if(idx>=0){this.selectedKeyList.splice(idx,1);$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts)}},isReloading:function(){return this.cookiesFound===true},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:undefined};var DynaTree=Class.create();DynaTree.version="$Version: 1.2.4$";DynaTree.prototype={initialize:function($widget){this.phase="init";this.$widget=$widget;this.options=$widget.options;this.$tree=$widget.element;this.timer=null;this.divTree=this.$tree.get(0);_initDragAndDrop(this)},_load:function(callback){var $widget=this.$widget;var opts=this.options,self=this;this.bEnableUpdate=true;this._nodeCount=1;this.activeNode=null;this.focusNode=null;if(opts.rootVisible!==undefined){this.logWarning("Option 'rootVisible' is no longer supported.")}if(opts.minExpandLevel<1){this.logWarning("Option 'minExpandLevel' must be >= 1.");opts.minExpandLevel=1}if(opts.classNames!==$.ui.dynatree.prototype.options.classNames){opts.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,opts.classNames)}if(opts.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults){opts.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,opts.ajaxDefaults)}if(opts.dnd!==$.ui.dynatree.prototype.options.dnd){opts.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,opts.dnd)}if(!opts.imagePath){$("script").each(function(){var _rexDtLibName=/.*dynatree[^\/]*\.js$/i;if(this.src.search(_rexDtLibName)>=0){if(this.src.indexOf("/")>=0){opts.imagePath=this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/"}else{opts.imagePath="skin/"}self.logDebug("Guessing imagePath from '%s': '%s'",this.src,opts.imagePath);return false}})}this.persistence=new DynaTreeStatus(opts.cookieId,opts.cookie);if(opts.persist){if(!$.cookie){_log("warn","Please include jquery.cookie.js to use persistence.")}this.persistence.read()}this.logDebug("DynaTree.persistence: %o",this.persistence.toDict());this.cache={tagEmpty:"<span class='"+opts.classNames.empty+"'></span>",tagVline:"<span class='"+opts.classNames.vline+"'></span>",tagExpander:"<span class='"+opts.classNames.expander+"'></span>",tagConnector:"<span class='"+opts.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+opts.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+opts.classNames.checkbox+"'></span>",lastentry:undefined};if(opts.children||(opts.initAjax&&opts.initAjax.url)||opts.initId){$(this.divTree).empty()}var $ulInitialize=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{});this.tnRoot.bExpanded=true;this.tnRoot.render();this.divTree.appendChild(this.tnRoot.ul);var root=this.tnRoot,isReloading=(opts.persist&&this.persistence.isReloading()),isLazy=false,prevFlag=this.enableUpdate(false);this.logDebug("Dynatree._load(): read tree structure...");if(opts.children){root.addChild(opts.children)}else{if(opts.initAjax&&opts.initAjax.url){isLazy=true;root.data.isLazy=true;this._reloadAjax(callback)}else{if(opts.initId){this._createFromTag(root,$("#"+opts.initId))}else{this._createFromTag(root,$ulInitialize);$ulInitialize.remove()}}}this._checkConsistency();if(!isLazy&&opts.selectMode==3){root._updatePartSelectionState()}this.logDebug("Dynatree._load(): render nodes...");this.enableUpdate(prevFlag);this.logDebug("Dynatree._load(): bind events...");this.$widget.bind();this.logDebug("Dynatree._load(): postInit...");this.phase="postInit";if(opts.persist){this.persistence.write()}if(this.focusNode&&this.focusNode.isVisible()){this.logDebug("Focus on init: %o",this.focusNode);this.focusNode.focus()}if(!isLazy){if(opts.onPostInit){opts.onPostInit.call(this,isReloading,false)}if(callback){callback.call(this,"ok")}}this.phase="idle"},_reloadAjax:function(callback){var opts=this.options;if(!opts.initAjax||!opts.initAjax.url){throw"tree.reload() requires 'initAjax' mode."}var pers=this.persistence;var ajaxOpts=$.extend({},opts.initAjax);if(ajaxOpts.addActiveKey){ajaxOpts.data.activeKey=pers.activeKey}if(ajaxOpts.addFocusedKey){ajaxOpts.data.focusedKey=pers.focusedKey}if(ajaxOpts.addExpandedKeyList){ajaxOpts.data.expandedKeyList=pers.expandedKeyList.join(",")}if(ajaxOpts.addSelectedKeyList){ajaxOpts.data.selectedKeyList=pers.selectedKeyList.join(",")}if(ajaxOpts.success){this.logWarning("initAjax: success callback is ignored; use onPostInit instead.")}if(ajaxOpts.error){this.logWarning("initAjax: error callback is ignored; use onPostInit instead.")}var isReloading=pers.isReloading();ajaxOpts.success=function(dtnode,data,textStatus){if(opts.selectMode==3){dtnode.tree.tnRoot._updatePartSelectionState()}if(opts.onPostInit){opts.onPostInit.call(dtnode.tree,isReloading,false)}if(callback){callback.call(dtnode.tree,"ok")}};ajaxOpts.error=function(dtnode,XMLHttpRequest,textStatus,errorThrown){if(opts.onPostInit){opts.onPostInit.call(dtnode.tree,isReloading,true,XMLHttpRequest,textStatus,errorThrown)}if(callback){callback.call(dtnode.tree,"error",XMLHttpRequest,textStatus,errorThrown)}};this.logDebug("Dynatree._init(): send Ajax request...");this.tnRoot.appendAjax(ajaxOpts)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(){return this.tnRoot.toDict(true)},serializeArray:function(stopOnParents){var nodeList=this.getSelectedNodes(stopOnParents),name=this.$tree.attr("name")||this.$tree.attr("id"),arr=[];for(var i=0,l=nodeList.length;i<l;i++){arr.push({name:name,value:nodeList[i].data.key})}return arr},getPersistData:function(){return this.persistence.toDict()},logDebug:function(msg){if(this.options.debugLevel>=2){Array.prototype.unshift.apply(arguments,["debug"]);_log.apply(this,arguments)}},logInfo:function(msg){if(this.options.debugLevel>=1){Array.prototype.unshift.apply(arguments,["info"]);_log.apply(this,arguments)}},logWarning:function(msg){Array.prototype.unshift.apply(arguments,["warn"]);_log.apply(this,arguments)},isInitializing:function(){return(this.phase=="init"||this.phase=="postInit")},isReloading:function(){return(this.phase=="init"||this.phase=="postInit")&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return(this.phase=="userEvent")},redraw:function(){this.tnRoot.render(false,false)},renderInvisibleNodes:function(){this.tnRoot.render(false,true)},reload:function(callback){this._load(callback)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(key){if(this.options.generateIds){var el=document.getElementById(this.options.idPrefix+key);if(el){return el.dtnode?el.dtnode:null}}var match=(_keyToNode[key]!==undefined)?_keyToNode[key]:null;return match},getActiveNode:function(){return this.activeNode},reactivate:function(setFocus){var node=this.activeNode;if(node){this.activeNode=null;node.activate();if(setFocus){node.focus()}}},getSelectedNodes:function(stopOnParents){var nodeList=[];this.tnRoot.visit(function(node){if(node.bSelected){nodeList.push(node);if(stopOnParents===true){return"skip"}}});return nodeList},activateKey:function(key){var dtnode=(key===null)?null:this.getNodeByKey(key);if(!dtnode){if(this.activeNode){this.activeNode.deactivate()}this.activeNode=null;return null}dtnode.focus();dtnode.activate();return dtnode},loadKeyPath:function(keyPath,callback){var segList=keyPath.split(this.options.keyPathSeparator);if(segList[0]===""){segList.shift()}if(segList[0]==this.tnRoot.data.key){this.logDebug("Removed leading root key.");segList.shift()}keyPath=segList.join(this.options.keyPathSeparator);return this.tnRoot._loadKeyPath(keyPath,callback)},selectKey:function(key,select){var dtnode=this.getNodeByKey(key);if(!dtnode){return null}dtnode.select(select);return dtnode},enableUpdate:function(bEnable){if(this.bEnableUpdate==bEnable){return bEnable}this.bEnableUpdate=bEnable;if(bEnable){this.redraw()}return !bEnable},count:function(){return this.tnRoot.countChildren()},visit:function(fn,includeRoot){return this.tnRoot.visit(fn,includeRoot)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length){title=$liSpan.html()}else{if($liA.length){title=$liA.html();href=$liA.attr("href");target=$liA.attr("target");tooltip=$liA.attr("title")}else{title=$li.html();var iPos=title.search(/<ul/i);if(iPos>=0){title=$.trim(title.substring(0,iPos))}else{title=$.trim(title)}}}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href){data.href=href;data.target=target}if($li.attr("title")){data.tooltip=$li.attr("title")}if($li.attr("id")){data.key=""+$li.attr("id")}if($li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){if(dataAttr.charAt(0)!="{"){dataAttr="{"+dataAttr+"}"}try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw ("Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'")}}}var childNode=parentTreeNode.addChild(data);var $ul=$li.find(">ul:first");if($ul.length){self._createFromTag(childNode,$ul)}})},_checkConsistency:function(){},_setDndStatus:function(sourceNode,targetNode,helper,hitMode,accept){var $source=sourceNode?$(sourceNode.span):null,$target=$(targetNode.span);if(!this.$dndMarker){this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().css({"z-index":1000}).prependTo($(this.divTree).parent())}if(hitMode==="after"||hitMode==="before"||hitMode==="over"){var markerOffset="0 0";switch(hitMode){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-before");markerOffset="0 -8";break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over");this.$dndMarker.addClass("dynatree-drop-after");markerOffset="0 8";break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before");this.$dndMarker.addClass("dynatree-drop-over");$target.addClass("dynatree-drop-target");markerOffset="8 0"}this.$dndMarker.show().position({my:"left top",at:"left top",of:$target,offset:markerOffset})}else{$target.removeClass("dynatree-drop-target");this.$dndMarker.hide()}if(hitMode==="after"){$target.addClass("dynatree-drop-after")}else{$target.removeClass("dynatree-drop-after")}if(hitMode==="before"){$target.addClass("dynatree-drop-before")}else{$target.removeClass("dynatree-drop-before")}if(accept===true){if($source){$source.addClass("dynatree-drop-accept")}$target.addClass("dynatree-drop-accept");helper.addClass("dynatree-drop-accept")}else{if($source){$source.removeClass("dynatree-drop-accept")}$target.removeClass("dynatree-drop-accept");helper.removeClass("dynatree-drop-accept")}if(accept===false){if($source){$source.addClass("dynatree-drop-reject")}$target.addClass("dynatree-drop-reject");helper.addClass("dynatree-drop-reject")}else{if($source){$source.removeClass("dynatree-drop-reject")}$target.removeClass("dynatree-drop-reject");helper.removeClass("dynatree-drop-reject")}},_onDragEvent:function(eventName,node,otherNode,event,ui,draggable){var opts=this.options,dnd=this.options.dnd,res=null,nodeTag=$(node.span),hitMode,enterResponse;switch(eventName){case"helper":var $helper=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append($(event.target).closest(".dynatree-title").clone());$("ul.dynatree-container",node.tree.divTree).append($helper);$helper.data("dtSourceNode",node);res=$helper;break;case"start":if(node.isStatusNode()){res=false}else{if(dnd.onDragStart){res=dnd.onDragStart(node)}}if(res===false){this.logDebug("tree.onDragStart() cancelled");ui.helper.trigger("mouseup");ui.helper.hide()}else{nodeTag.addClass("dynatree-drag-source")}break;case"enter":res=dnd.onDragEnter?dnd.onDragEnter(node,otherNode):null;if(!res){res=false}else{res={over:((res===true)||(res==="over")||$.inArray("over",res)>=0),before:((res===true)||(res==="before")||$.inArray("before",res)>=0),after:((res===true)||(res==="after")||$.inArray("after",res)>=0)}}ui.helper.data("enterResponse",res);break;case"over":enterResponse=ui.helper.data("enterResponse");hitMode=null;if(enterResponse===false){}else{if(typeof enterResponse==="string"){hitMode=enterResponse}else{var nodeOfs=nodeTag.offset();var relPos={x:event.pageX-nodeOfs.left,y:event.pageY-nodeOfs.top};var relPos2={x:relPos.x/nodeTag.width(),y:relPos.y/nodeTag.height()};if(enterResponse.after&&relPos2.y>0.75){hitMode="after"}else{if(!enterResponse.over&&enterResponse.after&&relPos2.y>0.5){hitMode="after"}else{if(enterResponse.before&&relPos2.y<=0.25){hitMode="before"}else{if(!enterResponse.over&&enterResponse.before&&relPos2.y<=0.5){hitMode="before"}else{if(enterResponse.over){hitMode="over"}}}}}if(dnd.preventVoidMoves){if(node===otherNode){hitMode=null}else{if(hitMode==="before"&&otherNode&&node===otherNode.getNextSibling()){hitMode=null}else{if(hitMode==="after"&&otherNode&&node===otherNode.getPrevSibling()){hitMode=null}else{if(hitMode==="over"&&otherNode&&otherNode.parent===node&&otherNode.isLastSibling()){hitMode=null}}}}}ui.helper.data("hitMode",hitMode)}}if(hitMode==="over"&&dnd.autoExpandMS&&node.hasChildren()!==false&&!node.bExpanded){node.scheduleAction("expand",dnd.autoExpandMS)}if(hitMode&&dnd.onDragOver){res=dnd.onDragOver(node,otherNode,hitMode);if(res==="over"||res==="before"||res==="after"){hitMode=res}}this._setDndStatus(otherNode,node,ui.helper,hitMode,res!==false&&hitMode!==null);break;case"drop":var isForbidden=ui.helper.hasClass("dynatree-drop-reject");hitMode=ui.helper.data("hitMode");if(hitMode&&dnd.onDrop&&!isForbidden){dnd.onDrop(node,otherNode,hitMode,ui,draggable)}break;case"leave":node.scheduleAction("cancel");ui.helper.data("enterResponse",null);ui.helper.data("hitMode",null);this._setDndStatus(otherNode,node,ui.helper,"out",undefined);if(dnd.onDragLeave){dnd.onDragLeave(node,otherNode)}break;case"stop":nodeTag.removeClass("dynatree-drag-source");if(dnd.onDragStop){dnd.onDragStop(node)}break;default:throw"Unsupported drag event: "+eventName}return res},cancelDrag:function(){var dd=$.ui.ddmanager.current;if(dd){dd.cancel()}},lastentry:undefined};$.widget("ui.dynatree",{_init:function(){if(versionCompare($.ui.version,"1.8")<0){if(this.options.debugLevel>=0){_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher.")}return this._create()}if(this.options.debugLevel>=2){_log("debug","ui.dynatree._init() was called; no current default functionality.")}},_create:function(){var opts=this.options;if(opts.debugLevel>=1){logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel)}this.options.event+=".dynatree";var divTree=this.element.get(0);this.tree=new DynaTree(this);this.tree._load();this.tree.logDebug("Dynatree._init(): done.")},bind:function(){this.unbind();var eventNames="click.dynatree dblclick.dynatree";if(this.options.keyboard){eventNames+=" keypress.dynatree keydown.dynatree"}this.element.bind(eventNames,function(event,xtra){var dtnode=$.ui.dynatree.getNode(event.target);if(!dtnode){return true}var tree=dtnode.tree;var o=tree.options;tree.logDebug("event(%s): dtnode: %s",event.type,dtnode);var prevPhase=tree.phase;tree.phase="userEvent";try{switch(event.type){case"click":return(o.onClick&&o.onClick.call(tree,dtnode,event,xtra)===false)?false:dtnode._onClick(event);case"dblclick":return(o.onDblClick&&o.onDblClick.call(tree,dtnode,event,xtra)===false)?false:dtnode._onDblClick(event);case"keydown":return(o.onKeydown&&o.onKeydown.call(tree,dtnode,event,xtra)===false)?false:dtnode._onKeydown(event);case"keypress":return(o.onKeypress&&o.onKeypress.call(tree,dtnode,event,xtra)===false)?false:dtnode._onKeypress(event)}}catch(e){var _=null;tree.logWarning("bind(%o): dtnode: %o, error: %o",event,dtnode,e)}finally{tree.phase=prevPhase}});function __focusHandler(event){event=$.event.fix(event||window.event);var dtnode=$.ui.dynatree.getNode(event.target);return dtnode?dtnode._onFocus(event):false}var div=this.tree.divTree;if(div.addEventListener){div.addEventListener("focus",__focusHandler,true);div.addEventListener("blur",__focusHandler,true)}else{div.onfocusin=div.onfocusout=__focusHandler}},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind();$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind();$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:undefined});if(versionCompare($.ui.version,"1.8")<0){$.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"}$.ui.dynatree.version="$Version: 1.2.4$";$.ui.dynatree.getNode=function(el){if(el instanceof DynaTreeNode){return el}if(el.selector!==undefined){el=el[0]}while(el){if(el.dtnode){return el.dtnode}el=el.parentNode}return null};$.ui.dynatree.getPersistData=DynaTreeStatus._getTreePersistData;$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:true,keyboard:true,persist:false,autoCollapse:false,clickFolderMode:3,activeVisible:true,checkbox:false,selectMode:2,fx:null,noLink:false,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,postProcess:null,dnd:{onDragStart:null,onDragStop:null,autoExpandMS:1000,preventVoidMoves:true,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:false,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:false,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:undefined};if(versionCompare($.ui.version,"1.8")<0){$.ui.dynatree.defaults=$.ui.dynatree.prototype.options}$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:false,isLazy:false,tooltip:null,href:null,icon:null,addClass:null,noLink:false,activate:false,focus:false,expand:false,select:false,hideCheckbox:false,unselectable:false,children:null,lastentry:undefined};function _initDragAndDrop(tree){var dnd=tree.options.dnd||null;if(dnd&&(dnd.onDragStart||dnd.onDrop)){_registerDnd()}if(dnd&&dnd.onDragStart){tree.$tree.draggable({addClasses:false,appendTo:"body",containment:false,delay:0,distance:4,revert:false,scroll:true,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:true,helper:function(event){var sourceNode=$.ui.dynatree.getNode(event.target);if(!sourceNode){return"<div></div>"}return sourceNode.tree._onDragEvent("helper",sourceNode,null,event,null,null)},start:function(event,ui){var sourceNode=ui.helper.data("dtSourceNode");return !!sourceNode},_last:null})}if(dnd&&dnd.onDrop){tree.$tree.droppable({addClasses:false,tolerance:"intersect",greedy:false,_last:null})}}var didRegisterDnd=false;var _registerDnd=function(){if(didRegisterDnd){return}$.ui.plugin.add("draggable","connectToDynatree",{start:function(event,ui){var draggable=$(this).data("ui-draggable")||$(this).data("draggable"),sourceNode=ui.helper.data("dtSourceNode")||null;if(sourceNode){draggable.offset.click.top=-2;draggable.offset.click.left=+16;return sourceNode.tree._onDragEvent("start",sourceNode,null,event,ui,draggable)}},drag:function(event,ui){var draggable=$(this).data("ui-draggable")||$(this).data("draggable"),sourceNode=ui.helper.data("dtSourceNode")||null,prevTargetNode=ui.helper.data("dtTargetNode")||null,targetNode=$.ui.dynatree.getNode(event.target);if(event.target&&!targetNode){var isHelper=$(event.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length>0;if(isHelper){return}}ui.helper.data("dtTargetNode",targetNode);if(prevTargetNode&&prevTargetNode!==targetNode){prevTargetNode.tree._onDragEvent("leave",prevTargetNode,sourceNode,event,ui,draggable)}if(targetNode){if(!targetNode.tree.options.dnd.onDrop){}else{if(targetNode===prevTargetNode){targetNode.tree._onDragEvent("over",targetNode,sourceNode,event,ui,draggable)}else{targetNode.tree._onDragEvent("enter",targetNode,sourceNode,event,ui,draggable)}}}},stop:function(event,ui){var draggable=$(this).data("ui-draggable")||$(this).data("draggable"),sourceNode=ui.helper.data("dtSourceNode")||null,targetNode=ui.helper.data("dtTargetNode")||null,mouseDownEvent=draggable._mouseDownEvent,eventType=event.type,dropped=(eventType=="mouseup"&&event.which==1);logMsg("draggable-connectToDynatree.stop: targetNode(from event): %s, dtTargetNode: %s",targetNode,ui.helper.data("dtTargetNode"));if(!dropped){logMsg("Drag was cancelled")}if(targetNode){if(dropped){targetNode.tree._onDragEvent("drop",targetNode,sourceNode,event,ui,draggable)}targetNode.tree._onDragEvent("leave",targetNode,sourceNode,event,ui,draggable)}if(sourceNode){sourceNode.tree._onDragEvent("stop",sourceNode,null,event,ui,draggable)}}});didRegisterDnd=true}}(jQuery));(function(d,e){d.support.htmlMenuitem=("HTMLMenuItemElement" in window);d.support.htmlCommand=("HTMLCommandElement" in window);d.support.eventSelectstart=("onselectstart" in document.documentElement);if(!d.ui||!d.ui.widget){var s=d.cleanData;d.cleanData=function(u){for(var v=0,x;(x=u[v])!=null;v++){try{d(x).triggerHandler("remove")}catch(y){}}s(u)}}var r=null,c=false,p=d(window),i=0,h={},n={},m={},j={selector:null,appendTo:null,trigger:"right",autoHide:false,delay:200,reposition:true,determinePosition:function(u){if(d.ui&&d.ui.position){u.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var v=this.offset();v.top+=this.outerHeight();v.left+=this.outerWidth()/2-u.outerWidth()/2;u.css(v)}},position:function(z,D,C){var B=this,A;if(!D&&!C){z.determinePosition.call(this,z.$menu);return}else{if(D==="maintain"&&C==="maintain"){A=z.$menu.position()}else{A={top:C,left:D}}}var u=p.scrollTop()+p.height(),E=p.scrollLeft()+p.width(),F=z.$menu.height(),v=z.$menu.width();if(A.top+F>u){A.top-=F}if(A.left+v>E){A.left-=v}z.$menu.css(A)},positionSubmenu:function(u){if(d.ui&&d.ui.position){u.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","")}else{var v={top:0,left:this.outerWidth()};u.css(v)}},zIndex:101,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:d.noop,hide:d.noop},callback:null,items:{}},l={timer:null,pageX:null,pageY:null},f=function(x){var v=0,u=x;while(true){v=Math.max(v,parseInt(u.css("z-index"),10)||0);u=u.parent();if(!u||!u.length||"html body".indexOf(u.prop("nodeName").toLowerCase())>-1){break}}return v},t={abortevent:function(u){u.preventDefault();u.stopImmediatePropagation()},contextmenu:function(B){var D=d(this);if((B.data.ignore)&&(d(B.target).is(B.data.ignore))){return}var H=(B.data.type)?B.data.type:".*";var F=new RegExp("^"+H+"$");var C=B.target;var G=d(B.target).closest(".Plastic")[0];var E=G["plastic"+G.isplastic];var A=(E.getRowObjectFor)?E.getRowObjectFor(B.target):{type:"root"};if((B.data)&&(B.data.prereq)){var x=new RegExp("^"+B.data.prereq+"$");var z=((A)&&(A["#selected"]!==e))?A["#selected"]:null;var u=((D.attr("id"))&&(d(G).attr("id")))?D.attr("id").replace(new RegExp("^"+d(G).attr("id")+"_"),""):null;if(((z)&&(x.test(z)))||((u)&&(x.test(u)))){if((B.data.type)&&(A)&&(A.type)&&(F.test(A.type))){B.stopImmediatePropagation()}else{return}}else{return}}else{if((B.data.type)&&(A)&&(A.type)&&(F.test(A.type))){B.stopImmediatePropagation()}else{return}}if((E)&&(E.activateRow)){E.activateRow(B.target)}B.preventDefault();if(B.data.trigger!="right"&&B.originalEvent){return}if(D.hasClass("context-menu-active")){return}if(!D.hasClass("context-menu-disabled")){r=D;if((B.data.build)||(B.data.builder)){var y=function(I){if(I===false){return}B.data=d.extend(true,{},j,B.data,I||{});if(!B.data.items||d.isEmptyObject(B.data.items)){if(window.console){(console.error||console.log)("No items specified to show in contextMenu")}throw new Error("No Items specified")}B.data.$trigger=r;g.create(B.data);g.show.call(D,B.data,B.pageX,B.pageY)};var v=B.data.build(r,B,(B.data.builder)?y:false);if(!(B.data.builder)){y(v)}}else{g.show.call(D,B.data,B.pageX,B.pageY)}}},click:function(u){u.preventDefault();u.stopImmediatePropagation();d(this).trigger(d.Event("contextmenu",{data:u.data,pageX:u.pageX,pageY:u.pageY}))},mousedown:function(v){var u=d(this);if(r&&r.length&&!r.is(u)){r.data("contextMenu").$menu.trigger("contextmenu:hide")}if(v.button==2){r=u.data("contextMenuActive",true)}},mouseup:function(v){var u=d(this);if(u.data("contextMenuActive")&&r&&r.length&&r.is(u)&&!u.hasClass("context-menu-disabled")){v.preventDefault();v.stopImmediatePropagation();r=u;u.trigger(d.Event("contextmenu",{data:v.data,pageX:v.pageX,pageY:v.pageY}))}u.removeData("contextMenuActive")},mouseenter:function(x){var v=d(this),u=d(x.relatedTarget),y=d(document);if(u.is(".context-menu-list")||u.closest(".context-menu-list").length){return}if(r&&r.length){return}l.pageX=x.pageX;l.pageY=x.pageY;l.data=x.data;y.on("mousemove.contextMenuShow",t.mousemove);l.timer=setTimeout(function(){l.timer=null;y.off("mousemove.contextMenuShow");r=v;v.trigger(d.Event("contextmenu",{data:l.data,pageX:l.pageX,pageY:l.pageY}))},x.data.delay)},mousemove:function(u){l.pageX=u.pageX;l.pageY=u.pageY},mouseleave:function(v){var u=d(v.relatedTarget);if(u.is(".context-menu-list")||u.closest(".context-menu-list").length){return}try{clearTimeout(l.timer)}catch(v){}l.timer=null},layerClick:function(A){var C=d(this),E=C.data("contextMenuRoot"),v=false,z=A.button,F=A.pageX,D=A.pageY,B,u,G;A.preventDefault();A.stopImmediatePropagation();setTimeout(function(){var I,H,y;var x=((E.trigger=="left"&&z===0)||(E.trigger=="right"&&z===2));if(document.elementFromPoint){E.$layer.hide();B=document.elementFromPoint(F-p.scrollLeft(),D-p.scrollTop());E.$layer.show()}if(E.reposition&&x){if(document.elementFromPoint){if(E.$trigger.is(B)||E.$trigger.has(B).length){E.position.call(E.$trigger,E,F,D);return}}else{u=E.$trigger.offset();I=d(window);u.top+=I.scrollTop();if(u.top<=A.pageY){u.left+=I.scrollLeft();if(u.left<=A.pageX){u.bottom=u.top+E.$trigger.outerHeight();if(u.bottom>=A.pageY){u.right=u.left+E.$trigger.outerWidth();if(u.right>=A.pageX){E.position.call(E.$trigger,E,F,D);return}}}}}}if(B&&x){E.$trigger.one("contextmenu:hidden",function(){d(B).contextMenu({x:F,y:D})})}E.$menu.trigger("contextmenu:hide")},50)},keyStop:function(v,u){if(!u.isInput){v.preventDefault()}v.stopPropagation()},key:function(z){var x=r.data("contextMenu")||{};switch(z.keyCode){case 9:case 38:t.keyStop(z,x);if(x.isInput){if(z.keyCode==9&&z.shiftKey){z.preventDefault();x.$selected&&x.$selected.find("input, textarea, select").blur();x.$menu.trigger("prevcommand");return}else{if(z.keyCode==38&&x.$selected.find("input, textarea, select").prop("type")=="checkbox"){z.preventDefault();return}}}else{if(z.keyCode!=9||z.shiftKey){x.$menu.trigger("prevcommand");return}}case 40:t.keyStop(z,x);if(x.isInput){if(z.keyCode==9){z.preventDefault();x.$selected&&x.$selected.find("input, textarea, select").blur();x.$menu.trigger("nextcommand");return}else{if(z.keyCode==40&&x.$selected.find("input, textarea, select").prop("type")=="checkbox"){z.preventDefault();return}}}else{x.$menu.trigger("nextcommand");return}break;case 37:t.keyStop(z,x);if(x.isInput||!x.$selected||!x.$selected.length){break}if(!x.$selected.parent().hasClass("context-menu-root")){var y=x.$selected.parent().parent();x.$selected.trigger("contextmenu:blur");x.$selected=y;return}break;case 39:t.keyStop(z,x);if(x.isInput||!x.$selected||!x.$selected.length){break}var v=x.$selected.data("contextMenu")||{};if(v.$menu&&x.$selected.hasClass("context-menu-submenu")){x.$selected=null;v.$selected=null;v.$menu.trigger("nextcommand");return}break;case 35:case 36:if(x.$selected&&x.$selected.find("input, textarea, select").length){return}else{(x.$selected&&x.$selected.parent()||x.$menu).children(":not(.disabled, .not-selectable)")[z.keyCode==36?"first":"last"]().trigger("contextmenu:focus");z.preventDefault();return}break;case 13:t.keyStop(z,x);if(x.isInput){if(x.$selected&&!x.$selected.is("textarea, select")){z.preventDefault();return}break}x.$selected&&x.$selected.trigger("mouseup");return;case 32:case 33:case 34:t.keyStop(z,x);return;case 27:t.keyStop(z,x);x.$menu.trigger("contextmenu:hide");return;default:var u=(String.fromCharCode(z.keyCode)).toUpperCase();if(x.accesskeys[u]){x.accesskeys[u].$node.trigger(x.accesskeys[u].$menu?"contextmenu:focus":"mouseup");return}break}z.stopPropagation();x.$selected&&x.$selected.trigger(z)},prevItem:function(z){z.stopPropagation();var y=d(this).data("contextMenu")||{};if(y.$selected){var u=y.$selected;y=y.$selected.parent().data("contextMenu")||{};y.$selected=u}var x=y.$menu.children(),v=!y.$selected||!y.$selected.prev().length?x.last():y.$selected.prev(),B=v;while(v.hasClass("disabled")||v.hasClass("not-selectable")){if(v.prev().length){v=v.prev()}else{v=x.last()}if(v.is(B)){return}}if(y.$selected){t.itemMouseleave.call(y.$selected.get(0),z)}t.itemMouseenter.call(v.get(0),z);var A=v.find("input, textarea, select");if(A.length){A.focus()}},nextItem:function(z){z.stopPropagation();var y=d(this).data("contextMenu")||{};if(y.$selected){var u=y.$selected;y=y.$selected.parent().data("contextMenu")||{};y.$selected=u}var x=y.$menu.children(),v=!y.$selected||!y.$selected.next().length?x.first():y.$selected.next(),B=v;while(v.hasClass("disabled")||v.hasClass("not-selectable")){if(v.next().length){v=v.next()}else{v=x.first()}if(v.is(B)){return}}if(y.$selected){t.itemMouseleave.call(y.$selected.get(0),z)}t.itemMouseenter.call(v.get(0),z);var A=v.find("input, textarea, select");if(A.length){A.focus()}},focusInput:function(z){var y=d(this).closest(".context-menu-item"),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;u.$selected=v.$selected=y;u.isInput=v.isInput=true},blurInput:function(z){var y=d(this).closest(".context-menu-item"),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;u.isInput=v.isInput=false},menuMouseenter:function(v){var u=d(this).data().contextMenuRoot;u.hovering=true},menuMouseleave:function(v){var u=d(this).data().contextMenuRoot;if(u.$layer&&u.$layer.is(v.relatedTarget)){u.hovering=false}},itemMouseenter:function(z){var y=d(this),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;u.hovering=true;if(z&&u.$layer&&u.$layer.is(z.relatedTarget)){z.preventDefault();z.stopImmediatePropagation()}(v.$menu?v:u).$menu.children(".hover").trigger("contextmenu:blur");if(y.hasClass("disabled")||y.hasClass("not-selectable")){v.$selected=null;return}y.trigger("contextmenu:focus")},itemMouseleave:function(z){var y=d(this),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;if(u!==v&&u.$layer&&u.$layer.is(z.relatedTarget)){u.$selected&&u.$selected.trigger("contextmenu:blur");z.preventDefault();z.stopImmediatePropagation();u.$selected=v.$selected=v.$node;return}y.trigger("contextmenu:blur")},itemClick:function(A){var z=d(this),y=z.data(),x=y.contextMenu,u=y.contextMenuRoot,v=y.contextMenuKey,B;if(!x.items[v]||z.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){return}A.preventDefault();A.stopImmediatePropagation();if(d.isFunction(u.callbacks[v])&&Object.prototype.hasOwnProperty.call(u.callbacks,v)){B=u.callbacks[v]}else{if(d.isFunction(u.callback)){B=u.callback}else{return}}if(B.call(u.$trigger,v,u)!==false){u.$menu.trigger("contextmenu:hide")}else{if(u.$menu.parent().length){g.update.call(u.$trigger,u)}}},inputClick:function(u){u.stopImmediatePropagation()},hideMenu:function(x,v){var u=d(this).data("contextMenuRoot");g.hide.call(u.$trigger,u,v&&v.force)},focusItem:function(z){z.stopPropagation();var y=d(this),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;y.addClass("hover").siblings(".hover").trigger("contextmenu:blur");v.$selected=u.$selected=y;if(v.$node){u.positionSubmenu.call(v.$node,v.$menu)}},blurItem:function(z){z.stopPropagation();var y=d(this),x=y.data(),v=x.contextMenu,u=x.contextMenuRoot;y.removeClass("hover");v.$selected=null}},g={show:function(A,v,C){var u=d(this),B,z={};d("#context-menu-layer").trigger("mousedown");A.$trigger=u;if(A.events.show.call(u,A)===false){r=null;return}g.update.call(u,A);A.position.call(u,A,v,C);if(A.zIndex){z.zIndex=f(u)+A.zIndex}g.layer.call(A.$menu,A,z.zIndex);A.$menu.find("ul").css("zIndex",z.zIndex+1);A.$menu.css(z)[A.animation.show](A.animation.duration,function(){u.trigger("contextmenu:visible")});u.data("contextMenu",A).addClass("context-menu-active");d(document).off("keydown.contextMenu").on("keydown.contextMenu",t.key);if(A.autoHide){d(document).on("mousemove.contextMenuAutoHide",function(x){var y=u.offset();y.right=y.left+u.outerWidth();y.bottom=y.top+u.outerHeight();if(A.$layer&&!A.hovering&&(!(x.pageX>=y.left&&x.pageX<=y.right)||!(x.pageY>=y.top&&x.pageY<=y.bottom))){A.$menu.trigger("contextmenu:hide")}})}},hide:function(v,x){var u=d(this);if(!v){v=u.data("contextMenu")||{}}if(!x&&v.events&&v.events.hide.call(u,v)===false){return}u.removeData("contextMenu").removeClass("context-menu-active");if(v.$layer){setTimeout((function(z){return function(){z.remove()}})(v.$layer),10);try{delete v.$layer}catch(y){v.$layer=null}}r=null;v.$menu.find(".hover").trigger("contextmenu:blur");v.$selected=null;d(document).off(".contextMenuAutoHide").off("keydown.contextMenu");v.$menu&&v.$menu[v.animation.hide](v.animation.duration,function(){if(v.build){v.$menu.remove();d.each(v,function(z,A){switch(z){case"ns":case"selector":case"build":case"trigger":return true;default:v[z]=e;try{delete v[z]}catch(B){}return true}})}setTimeout(function(){u.trigger("contextmenu:hidden")},10)})},create:function(v,u){if(u===e){u=v}v.$menu=d('<ul class="context-menu-list"></ul>').addClass(v.className||"").data({contextMenu:v,contextMenuRoot:u});d.each(["callbacks","commands","inputs"],function(y,x){v[x]={};if(!u[x]){u[x]={}}});u.accesskeys||(u.accesskeys={});d.each(v.items,function(z,A){var E=d('<li class="context-menu-item"></li>').addClass(A.className||""),x=null,D=null;E.on("click",d.noop);A.$node=E.data({contextMenu:v,contextMenuRoot:u,contextMenuKey:z});if(A.accesskey){var B=o(A.accesskey);for(var y=0,C;C=B[y];y++){if(!u.accesskeys[C]){u.accesskeys[C]=A;A._name=A.name.replace(new RegExp("("+C+")","i"),'<span class="context-menu-accesskey">$1</span>');break}}}if(typeof A=="string"){E.addClass("context-menu-separator not-selectable")}else{if(A.type&&m[A.type]){m[A.type].call(E,A,v,u);d.each([v,u],function(G,F){F.commands[z]=A;if(d.isFunction(A.callback)){F.callbacks[z]=A.callback}})}else{if(A.type=="html"){E.addClass("context-menu-html not-selectable")}else{if(A.type){x=d("<label></label>").appendTo(E);d("<span></span>").html(A._name||A.name).appendTo(x);E.addClass("context-menu-input");v.hasTypes=true;d.each([v,u],function(G,F){F.commands[z]=A;F.inputs[z]=A})}else{if(A.items){A.type="sub"}}}switch(A.type){case"text":D=d('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+z).val(A.value||"").appendTo(x);break;case"textarea":D=d('<textarea name=""></textarea>').attr("name","context-menu-input-"+z).val(A.value||"").appendTo(x);if(A.height){D.height(A.height)}break;case"checkbox":D=d('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+z).val(A.value||"").prop("checked",!!A.selected).prependTo(x);break;case"radio":D=d('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+A.radio).val(A.value||"").prop("checked",!!A.selected).prependTo(x);break;case"select":D=d('<select name="">').attr("name","context-menu-input-"+z).appendTo(x);if(A.options){d.each(A.options,function(F,G){d("<option></option>").val(F).text(G).appendTo(D)});D.val(A.selected)}break;case"sub":d("<span></span>").html(A._name||A.name).appendTo(E);A.appendTo=A.$node;g.create(A,u);E.data("contextMenu",A).addClass("context-menu-submenu");A.callback=null;break;case"html":d(A.html).appendTo(E);break;default:d.each([v,u],function(G,F){F.commands[z]=A;if(d.isFunction(A.callback)){F.callbacks[z]=A.callback}});d("<span></span>").html(A._name||A.name||"").appendTo(E);break}if(A.type&&A.type!="sub"&&A.type!="html"){D.on("focus",t.focusInput).on("blur",t.blurInput);if(A.events){D.on(A.events,v)}}if(A.icon){E.addClass("icon icon-"+A.icon)}}}A.$input=D;A.$label=x;E.appendTo(v.$menu);if(!v.hasTypes&&d.support.eventSelectstart){E.on("selectstart.disableTextSelect",t.abortevent)}});if(!v.$node){v.$menu.css("display","none").addClass("context-menu-root")}v.$menu.appendTo(v.appendTo||document.body)},resize:function(u,v){u.css({position:"absolute",display:"block"});u.data("width",Math.ceil(u.width())+1);u.css({position:"static",minWidth:"0px",maxWidth:"100000px"});u.find("> li > ul").each(function(){g.resize(d(this),true)});if(!v){u.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return d(this).data("width")})}},update:function(x,v){var u=this;if(v===e){v=x;g.resize(x.$menu)}x.$menu.children().each(function(){var y=d(this),z=y.data("contextMenuKey"),B=x.items[z],A=(d.isFunction(B.disabled)&&B.disabled.call(u,z,v))||B.disabled===true;y[A?"addClass":"removeClass"]("disabled");if(B.type){y.find("input, select, textarea").prop("disabled",A);switch(B.type){case"text":case"textarea":B.$input.val(B.value||"");break;case"checkbox":case"radio":B.$input.val(B.value||"").prop("checked",!!B.selected);break;case"select":B.$input.val(B.selected||"");break}}if(B.$menu){g.update.call(u,B,v)}})},layer:function(v,x){var u=v.$layer=d('<div id="context-menu-layer" style="position:fixed; z-index:'+x+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:p.height(),width:p.width(),display:"block"}).data("contextMenuRoot",v).insertBefore(this).on("contextmenu",t.abortevent).on("mousedown",t.layerClick);if(!d.support.fixedPosition){u.css({position:"absolute",height:d(document).height()})}return u}};function o(z){var x=z.split(/\s+/),y=[];for(var v=0,u;u=x[v];v++){u=u[0].toUpperCase();y.push(u)}return y}d.fn.contextMenu=function(u){if(u===e){this.first().trigger("contextmenu")}else{if(u.x&&u.y){this.first().trigger(d.Event("contextmenu",{pageX:u.x,pageY:u.y}))}else{if(u==="hide"){var v=this.data("contextMenu").$menu;v&&v.trigger("contextmenu:hide")}else{if(u==="destroy"){d.contextMenu("destroy",{context:this})}else{if(d.isPlainObject(u)){u.context=this;d.contextMenu("create",u)}else{if(u){this.removeClass("context-menu-disabled")}else{if(!u){this.addClass("context-menu-disabled")}}}}}}}return this};d.contextMenu=function(z,D){if(typeof z!="string"){D=z;z="create"}if(typeof D=="string"){D={selector:D}}else{if(D===e){D={}}}var x=d.extend(true,{},j,D||{});var y=d(document);var B=y;var C=false;if(!x.context||!x.context.length){x.context=document}else{B=d(x.context).first();x.context=B.get(0);C=x.context!==document}switch(z){case"create":if(!x.selector){throw new Error("No selector specified")}if(x.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+x.selector+'" as it contains a reserved className')}if(!x.build&&(!x.items||d.isEmptyObject(x.items))){throw new Error("No Items specified")}i++;x.ns=".contextMenu"+i;if(!C){h[x.selector]=x.ns}n[x.ns]=x;if(!x.trigger){x.trigger="right"}if(!c){y.on({"contextmenu:hide.contextMenu":t.hideMenu,"prevcommand.contextMenu":t.prevItem,"nextcommand.contextMenu":t.nextItem,"contextmenu.contextMenu":t.abortevent,"mouseenter.contextMenu":t.menuMouseenter,"mouseleave.contextMenu":t.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",t.inputClick).on({"mouseup.contextMenu":t.itemClick,"contextmenu:focus.contextMenu":t.focusItem,"contextmenu:blur.contextMenu":t.blurItem,"contextmenu.contextMenu":t.abortevent,"mouseenter.contextMenu":t.itemMouseenter,"mouseleave.contextMenu":t.itemMouseleave},".context-menu-item");c=true}B.on("contextmenu"+x.ns,x.selector,x,t.contextmenu);if(C){B.on("remove"+x.ns,function(){d(this).contextMenu("destroy")})}switch(x.trigger){case"hover":B.on("mouseenter"+x.ns,x.selector,x,t.mouseenter).on("mouseleave"+x.ns,x.selector,x,t.mouseleave);break;case"left":B.on("click"+x.ns,x.selector,x,t.click);break}if(!x.build){g.create(x)}break;case"destroy":var u;if(C){var v=x.context;d.each(n,function(E,G){if(G.context!==v){return true}u=d(".context-menu-list").filter(":visible");if(u.length&&u.data().contextMenuRoot.$trigger.is(d(G.context).find(G.selector))){u.trigger("contextmenu:hide",{force:true})}try{if(n[G.ns].$menu){n[G.ns].$menu.remove()}delete n[G.ns]}catch(F){n[G.ns]=null}d(G.context).off(G.ns);return true})}else{if(!x.selector){y.off(".contextMenu .contextMenuAutoHide");d.each(n,function(E,F){d(F.context).off(F.ns)});h={};n={};i=0;c=false;d("#context-menu-layer, .context-menu-list").remove()}else{if(h[x.selector]){u=d(".context-menu-list").filter(":visible");if(u.length&&u.data().contextMenuRoot.$trigger.is(x.selector)){u.trigger("contextmenu:hide",{force:true})}try{if(n[h[x.selector]].$menu){n[h[x.selector]].$menu.remove()}delete n[h[x.selector]]}catch(A){n[h[x.selector]]=null}y.off(h[x.selector])}}}break;case"html5":if((!d.support.htmlCommand&&!d.support.htmlMenuitem)||(typeof D=="boolean"&&D)){d('menu[type="context"]').each(function(){if(this.id){d.contextMenu({selector:"[contextmenu="+this.id+"]",items:d.contextMenu.fromMenu(this)})}}).css("display","none")}break;default:throw new Error('Unknown operation "'+z+'"')}return this};d.contextMenu.setInputValues=function(u,v){if(v===e){v={}}d.each(u.inputs,function(x,y){switch(y.type){case"text":case"textarea":y.value=v[x]||"";break;case"checkbox":y.selected=v[x]?true:false;break;case"radio":y.selected=(v[y.radio]||"")==y.value?true:false;break;case"select":y.selected=v[x]||"";break}})};d.contextMenu.getInputValues=function(u,v){if(v===e){v={}}d.each(u.inputs,function(x,y){switch(y.type){case"text":case"textarea":case"select":v[x]=y.$input.val();break;case"checkbox":v[x]=y.$input.prop("checked");break;case"radio":if(y.$input.prop("checked")){v[y.radio]=y.value}break}});return v};function q(u){return(u.id&&d('label[for="'+u.id+'"]').val())||u.name}function b(x,v,u){if(!u){u=0}v.each(function(){var y=d(this),B=this,C=this.nodeName.toLowerCase(),z,A;if(C=="label"&&y.find("input, textarea, select").length){z=y.text();y=y.children().first();B=y.get(0);C=B.nodeName.toLowerCase()}switch(C){case"menu":A={name:y.attr("label"),items:{}};u=b(A.items,y.children(),u);break;case"a":case"button":A={name:y.text(),disabled:!!y.attr("disabled"),callback:(function(){return function(){y.click()}})()};break;case"menuitem":case"command":switch(y.attr("type")){case e:case"command":case"menuitem":A={name:y.attr("label"),disabled:!!y.attr("disabled"),callback:(function(){return function(){y.click()}})()};break;case"checkbox":A={type:"checkbox",disabled:!!y.attr("disabled"),name:y.attr("label"),selected:!!y.attr("checked")};break;case"radio":A={type:"radio",disabled:!!y.attr("disabled"),name:y.attr("label"),radio:y.attr("radiogroup"),value:y.attr("id"),selected:!!y.attr("checked")};break;default:A=e}break;case"hr":A="-------";break;case"input":switch(y.attr("type")){case"text":A={type:"text",name:z||q(B),disabled:!!y.attr("disabled"),value:y.val()};break;case"checkbox":A={type:"checkbox",name:z||q(B),disabled:!!y.attr("disabled"),selected:!!y.attr("checked")};break;case"radio":A={type:"radio",name:z||q(B),disabled:!!y.attr("disabled"),radio:!!y.attr("name"),value:y.val(),selected:!!y.attr("checked")};break;default:A=e;break}break;case"select":A={type:"select",name:z||q(B),disabled:!!y.attr("disabled"),selected:y.val(),options:{}};y.children().each(function(){A.options[this.value]=d(this).text()});break;case"textarea":A={type:"textarea",name:z||q(B),disabled:!!y.attr("disabled"),value:y.val()};break;case"label":break;default:A={type:"html",html:y.clone(true)};break}if(A){u++;x["key"+u]=A}});return u}d.contextMenu.fromMenu=function(v){var x=d(v),u={};b(u,x.children());return u};d.contextMenu.defaults=j;d.contextMenu.types=m;d.contextMenu.handle=t;d.contextMenu.op=g;d.contextMenu.menus=n})(jQuery);(function(b){b.BigInt=new function(){var aY=this;var A=0;var av=0;var H=av+1;var a8="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";for(A=0;(1<<(A+1))>(1<<A);A++){}A>>=1;av=(1<<A)-1;H=av+1;var r=aW(1,1,1);var Y=new Array(0);var aQ=Y;var q=Y;var n=Y;var m=Y;var l=Y;var j=Y,i=Y;var h=Y;var g=Y;var aq=Y;var aZ=Y;var aO=Y,I=Y,U=Y;var V=Y,X=Y,aE=Y,aD=Y,aB=Y,az=Y;var aj=Y,ai=Y,ah=Y,aI=Y,R=Y,Q=Y,aF=Y;var P=Y,al=Y,ac=Y,aN=Y,an=Y,ba=Y,W=Y,a4=Y,ag=Y,K=Y,Z=Y,af=Y,ad=Y,O=Y,N=Y,aS=Y;var a3=Y;function a6(bf){var T,bd,be,t;bd=new Array(bf);for(T=0;T<bf;T++){bd[T]=0}bd[0]=2;be=0;for(;bd[be]<bf;){for(T=bd[be]*bd[be];T<bf;T+=bd[be]){bd[T]=1}be++;bd[be]=bd[be-1]+1;for(;bd[be]<bf&&bd[bd[be]];bd[be]++){}}t=new Array(be);for(T=0;T<be;T++){t[T]=bd[T]}return t}aY.findPrimes=a6;function o(T,t){if(aO.length!=T.length){aO=M(T);I=M(T);U=M(T)}B(U,t);return aK(T,U)}aY.millerRabinInt=o;function aK(T,t){var bf,be,bd,bg;if(aO.length!=T.length){aO=M(T);I=M(T);U=M(T)}aw(U,t);aw(I,T);aw(aO,T);ar(I,-1);ar(aO,-1);bd=0;for(bf=0;bf<I.length;bf++){for(be=1;be<av;be<<=1){if(T[bf]&be){bg=(bd<I.length+A?bd:0);bf=I.length;be=av}else{bd++}}}if(bg){J(I,bg)}aP(U,I,T);if(!C(U,1)&&!S(U,aO)){be=1;while(be<=bg-1&&!S(U,aO)){aH(U,T);if(C(U,1)){return 0}be++}if(!S(U,aO)){return 0}}return 1}aY.millerRabin=aK;function ax(t){var bd,be,T;for(bd=t.length-1;(t[bd]==0)&&(bd>0);bd--){}for(be=0,T=t[bd];T;(T>>=1),be++){}be+=A*bd;return be}aY.bitSize=ax;function aC(t,bd){var T=aW(0,(t.length>bd?t.length:bd)*A,0);aw(T,t);return T}aY.expand=aC;function ak(T){var t=aW(0,T,0);ap(t,T);return a0(t,1)}aY.randTruePrime=ak;function G(t){if(t>=600){return u(t,2)}if(t>=550){return u(t,4)}if(t>=500){return u(t,5)}if(t>=400){return u(t,6)}if(t>=350){return u(t,7)}if(t>=300){return u(t,9)}if(t>=250){return u(t,12)}if(t>=200){return u(t,15)}if(t>=150){return u(t,18)}if(t>=100){return u(t,27)}return u(t,40)}aY.randProbPrime=G;function u(bd,bg){var T,be,t,bf;bf=30000;T=aW(0,bd,0);if(P.length==0){P=a6(30000)}if(a3.length!=T.length){a3=M(T)}for(;;){aX(T,bd,0);T[0]|=1;t=0;for(be=0;(be<P.length)&&(P[be]<=bf);be++){if(a9(T,P[be])==0&&!C(T,P[be])){t=1;break}}for(be=0;be<bg&&!t;be++){aX(a3,bd,0);while(!E(T,a3)){aX(a3,bd,0)}if(!aK(T,a3)){t=1}}if(!t){return T}}}aY.randProbPrimeRounds=u;function d(t,bd){var T=M(t);aA(T,bd);return a0(T,1)}aY.mod=d;function s(t,bd){var T=aC(t,t.length+1);ar(T,bd);return a0(T,1)}aY.addInt=s;function f(t,bd){var T=aC(t,t.length+bd.length);aU(T,bd);return a0(T,1)}aY.mult=f;function aM(t,be,bd){var T=aC(t,bd.length);aP(T,a0(be,2),a0(bd,2),0);return a0(T,1)}aY.powMod=aM;function a1(t,bd){var T=aC(t,(t.length>bd.length?t.length+1:bd.length+1));a7(T,bd);return a0(T,1)}aY.sub=a1;function z(t,bd){var T=aC(t,(t.length>bd.length?t.length+1:bd.length+1));aG(T,bd);return a0(T,1)}aY.add=z;function bb(t,be){var T=aC(t,be.length);var bd;bd=ab(T,be);return bd?a0(T,1):null}aY.inverseMod=bb;function am(t,be,bd){var T=aC(t,bd.length);aR(T,be,bd);return a0(T,1)}aY.multMod=am;function ap(bm,bg){var bl,be,bf,bn,bh,t,T,bj,bk,bd,bi;if(P.length==0){P=a6(30000)}if(al.length==0){al=new Array(512);for(bh=0;bh<512;bh++){al[bh]=Math.pow(2,bh/511-1)}}bl=0.1;be=20;recLimit=20;if(aN.length!=bm.length){aN=M(bm);an=M(bm);a4=M(bm);K=M(bm);ad=M(bm);O=M(bm);N=M(bm);af=M(bm);Z=M(bm);ac=M(bm);ba=M(bm);W=M(bm);ag=M(bm);aS=M(bm)}if(bg<=recLimit){bf=(1<<((bg+2)>>1))-1;B(bm,0);for(bn=1;bn;){bn=0;bm[0]=1|(1<<(bg-1))|Math.floor(Math.random()*(1<<bg));for(bh=1;(bh<P.length)&&((P[bh]&bf)==P[bh]);bh++){if(0==(bm[0]%P[bh])){bn=1;break}}}aa(bm);return}T=bl*bg*bg;if(bg>2*be){for(t=1;bg-bg*t<=be;){t=al[Math.floor(Math.random()*512)]}}else{t=0.5}bi=Math.floor(t*bg)+1;ap(W,bi);B(aN,0);aN[Math.floor((bg-2)/A)]|=(1<<((bg-2)%A));e(aN,W,ac,ba);bk=ax(ac);for(;;){for(;;){aX(an,bk,0);if(E(ac,an)){break}}ar(an,1);aG(an,ac);aw(Z,W);aU(Z,an);p(Z,2);ar(Z,1);aw(K,an);p(K,2);for(bj=0,bh=0;(bh<P.length)&&(P[bh]<T);bh++){if(a9(Z,P[bh])==0&&!C(Z,P[bh])){bj=1;break}}if(!bj){if(!o(Z,2)){bj=1}}if(!bj){ar(Z,-3);for(bh=Z.length-1;(Z[bh]==0)&&(bh>0);bh--){}for(bd=0,w=Z[bh];w;(w>>=1),bd++){}bd+=A*bh;for(;;){aX(ag,bd,0);if(E(Z,ag)){break}}ar(Z,3);ar(ag,2);aw(af,ag);aw(a4,Z);ar(a4,-1);aP(af,a4,Z);ar(af,-1);if(aV(af)){aw(af,ag);aP(af,K,Z);ar(af,-1);aw(aS,Z);aw(ad,af);D(ad,Z);if(C(ad,1)){aw(bm,aS);return}}}}}aY.randTruePrime_=ap;function aL(be,bd){var T,t;T=Math.floor((be-1)/A)+2;t=aW(0,0,T);aX(t,be,bd);return t}aY.randBigInt=aL;function aX(t,bf,be){var bd,T;for(bd=0;bd<t.length;bd++){t[bd]=0}T=Math.floor((bf-1)/A)+1;for(bd=0;bd<T;bd++){t[bd]=Math.floor(Math.random()*(1<<(A-1)))}t[T-1]&=(2<<((bf-1)%A))-1;if(be==1){t[T-1]|=(1<<((bf-1)%A))}}aY.randBigInt_=aX;function ao(t,be){var T,bd;T=M(t);bd=M(be);D(T,bd);return T}aY.GCD=ao;function D(bl,bk){var bj,bi,T,bh,bg,bf,t,be,bd;if(aq.length!=bl.length){aq=M(bl)}bd=1;while(bd){bd=0;for(bj=1;bj<bk.length;bj++){if(bk[bj]){bd=1;break}}if(!bd){break}for(bj=bl.length;!bl[bj]&&bj>=0;bj--){}bi=bl[bj];T=bk[bj];bh=1;bg=0;bf=0;t=1;while((T+bf)&&(T+t)){be=Math.floor((bi+bh)/(T+bf));qp=Math.floor((bi+bg)/(T+t));if(be!=qp){break}Y=bh-be*bf;bh=bf;bf=Y;Y=bg-be*t;bg=t;t=Y;Y=bi-be*T;bi=T;T=Y}if(bg){aw(aq,bl);L(bl,bk,bh,bg);L(bk,aq,t,bf)}else{aA(bl,bk);aw(aq,bl);aw(bl,bk);aw(bk,aq)}}if(bk[0]==0){return}Y=a9(bl,bk[0]);B(bl,bk[0]);bk[0]=Y;while(bk[0]){bl[0]%=bk[0];Y=bl[0];bl[0]=bk[0];bk[0]=Y}}aY.GCD_=D;function ab(t,bd){var T=1+2*Math.max(t.length,bd.length);if(!(t[0]&1)&&!(bd[0]&1)){B(t,0);return 0}if(X.length!=T){X=new Array(T);V=new Array(T);aE=new Array(T);aD=new Array(T);aB=new Array(T);az=new Array(T)}aw(X,t);aw(V,bd);B(aE,1);B(aD,0);B(aB,0);B(az,1);for(;;){while(!(X[0]&1)){x(X);if(!(aE[0]&1)&&!(aD[0]&1)){x(aE);x(aD)}else{aG(aE,bd);x(aE);a7(aD,t);x(aD)}}while(!(V[0]&1)){x(V);if(!(aB[0]&1)&&!(az[0]&1)){x(aB);x(az)}else{aG(aB,bd);x(aB);a7(az,t);x(az)}}if(!E(V,X)){a7(X,V);a7(aE,aB);a7(aD,az)}else{a7(V,X);a7(aB,aE);a7(az,aD)}if(C(X,0)){while(v(aB)){aG(aB,bd)}aw(t,aB);if(!C(V,1)){B(t,0);return 0}return 1}}}aY.inverseMod_=ab;function aT(bd,bg){var be=1,T=0,bf;for(;;){if(bd==1){return be}if(bd==0){return 0}T-=be*Math.floor(bg/bd);bg%=bd;if(bg==1){return T}if(bg==0){return 0}be-=T*Math.floor(bd/bg);bd%=bg}}aY.inverseModInt=aT;function F(t,T){return aT(t,T)}aY.inverseModInt_=F;function y(T,bh,bf,bd,t){var bg=0;var be=Math.max(T.length,bh.length);if(X.length!=be){X=new Array(be);aE=new Array(be);aD=new Array(be);aB=new Array(be);az=new Array(be)}while(!(T[0]&1)&&!(bh[0]&1)){x(T);x(bh);bg++}aw(X,T);aw(bf,bh);B(aE,1);B(aD,0);B(aB,0);B(az,1);for(;;){while(!(X[0]&1)){x(X);if(!(aE[0]&1)&&!(aD[0]&1)){x(aE);x(aD)}else{aG(aE,bh);x(aE);a7(aD,T);x(aD)}}while(!(bf[0]&1)){x(bf);if(!(aB[0]&1)&&!(az[0]&1)){x(aB);x(az)}else{aG(aB,bh);x(aB);a7(az,T);x(az)}}if(!E(bf,X)){a7(X,bf);a7(aE,aB);a7(aD,az)}else{a7(bf,X);a7(aB,aE);a7(az,aD)}if(C(X,0)){while(v(aB)){aG(aB,bh);a7(az,T)}p(az,-1);aw(bd,aB);aw(t,az);bc(bf,bg);return}}}aY.eGCD_=y;function v(t){return((t[t.length-1]>>(A-1))&1)}aY.negative=v;function c(t,bg,T){var be,bf=t.length,bd=bg.length;k=((bf+T)<bd)?(bf+T):bd;for(be=bd-1-T;be<bf&&be>=0;be++){if(t[be]>0){return 1}}for(be=bf-1+T;be<bd;be++){if(bg[be]>0){return 0}}for(be=k-1;be>=T;be--){if(t[be-T]>bg[be]){return 1}else{if(t[be-T]<bg[be]){return 0}}}return 0}aY.greaterShift=c;function E(t,be){var bd;var T=(t.length<be.length)?t.length:be.length;for(bd=t.length;bd<be.length;bd++){if(be[bd]){return 0}}for(bd=be.length;bd<t.length;bd++){if(t[bd]){return 1}}for(bd=T-1;bd>=0;bd--){if(t[bd]>be[bd]){return 1}else{if(t[bd]<be[bd]){return 0}}}return 0}aY.greater=E;function e(bn,bk,T,t){var bg,bf;var be,bd,bm,bj,bh,bl,bi;aw(t,bn);for(bf=bk.length;bk[bf-1]==0;bf--){}bi=bk[bf-1];for(bl=0;bi;bl++){bi>>=1}bl=A-bl;bc(bk,bl);bc(t,bl);for(bg=t.length;t[bg-1]==0&&bg>bf;bg--){}B(T,0);while(!c(bk,t,bg-bf)){ay(t,bk,bg-bf);T[bg-bf]++}for(be=bg-1;be>=bf;be--){if(t[be]==bk[bf-1]){T[be-bf]=av}else{T[be-bf]=Math.floor((t[be]*H+t[be-1])/bk[bf-1])}for(;;){bj=(bf>1?bk[bf-2]:0)*T[be-bf];bh=bj>>A;bj=bj&av;bm=bh+T[be-bf]*bk[bf-1];bh=bm>>A;bm=bm&av;if(bh==t[be]?bm==t[be-1]?bj>(be>1?t[be-2]:0):bm>t[be-1]:bh>t[be]){T[be-bf]--}else{break}}au(t,bk,-T[be-bf],be-bf);if(v(t)){a5(t,bk,be-bf);T[be-bf]--}}J(bk,bl);J(t,bl)}aY.divide_=e;function aa(T){var be,bd,bf,t;bd=T.length;bf=0;for(be=0;be<bd;be++){bf+=T[be];t=0;if(bf<0){t=-(bf>>A);bf+=t*H}T[be]=bf&av;bf=(bf>>A)-t}}aY.carry_=aa;function a9(t,be){var T,bd=0;for(T=t.length-1;T>=0;T--){bd=(bd*H+t[T])%be}return bd}aY.modInt=a9;function aW(be,bf,bg){var bd,T;T=Math.ceil(bf/A)+1;T=bg>T?bg:T;buff=new Array(T);B(buff,be);return buff}aY.int2bigInt=aW;function a2(bk,bd,T){var bh,bg,bf,bj,bi,t;var be=bk.length;if(bd==-1){bj=new Array(0);for(;;){bi=new Array(bj.length+1);for(bg=0;bg<bj.length;bg++){bi[bg+1]=bj[bg]}bi[0]=parseInt(bk,10);bj=bi;bh=bk.indexOf(",",0);if(bh<1){break}bk=bk.substring(bh+1);if(bk.length==0){break}}if(bj.length<T){bi=new Array(T);aw(bi,bj);return bi}return bj}bj=aW(0,bd*be,0);for(bg=0;bg<be;bg++){bh=a8.indexOf(bk.substring(bg,bg+1),0);if(bd<=36&&bh>=36){bh-=26}if(bh>=bd||bh<0){break}p(bj,bd);ar(bj,bh)}for(be=bj.length;be>0&&!bj[be-1];be--){}be=T>be+1?T:be+1;bi=new Array(be);t=be<bj.length?be:bj.length;for(bg=0;bg<t;bg++){bi[bg]=bj[bg]}for(;bg<be;bg++){bi[bg]=0}return bi}aY.str2bigInt=a2;function C(t,bd){var T;if(t[0]!=bd){return 0}for(T=1;T<t.length;T++){if(t[T]){return 0}}return 1}aY.equalsInt=C;function S(t,be){var bd;var T=t.length<be.length?t.length:be.length;for(bd=0;bd<T;bd++){if(t[bd]!=be[bd]){return 0}}if(t.length>be.length){for(;bd<t.length;bd++){if(t[bd]){return 0}}}else{for(;bd<be.length;bd++){if(be[bd]){return 0}}}return 1}aY.equals=S;function aV(t){var T;for(T=0;T<t.length;T++){if(t[T]){return 0}}return 1}aY.isZero=aV;function aJ(T,bg){var be,bd,bf="";if(h.length!=T.length){h=M(T)}else{aw(h,T)}if(bg==-1){for(be=T.length-1;be>0;be--){bf+=T[be]+","}bf+=T[0]}else{while(!aV(h)){bd=ae(h,bg);bf=a8.substring(bd,bd+1)+bf}}if(bf.length==0){bf="0"}return bf}aY.bigInt2str=aJ;function M(t){var T;buff=new Array(t.length);aw(buff,t);return buff}aY.dup=M;function aw(t,be){var bd;var T=t.length<be.length?t.length:be.length;for(bd=0;bd<T;bd++){t[bd]=be[bd]}for(bd=T;bd<t.length;bd++){t[bd]=0}}aY.copy_=aw;function B(t,be){var T,bd;for(bd=be,T=0;T<t.length;T++){t[T]=bd&av;bd>>=A}}aY.copyInt_=B;function ar(T,bg){var be,bd,bf,t;T[0]+=bg;bd=T.length;bf=0;for(be=0;be<bd;be++){bf+=T[be];t=0;if(bf<0){t=-(bf>>A);bf+=t*H}T[be]=bf&av;bf=(bf>>A)-t;if(!bf){return}}}aY.addInt_=ar;function J(t,be){var bd;var T=Math.floor(be/A);if(T){for(bd=0;bd<t.length-T;bd++){t[bd]=t[bd+T]}for(;bd<t.length;bd++){t[bd]=0}be%=A}for(bd=0;bd<t.length-1;bd++){t[bd]=av&((t[bd+1]<<(A-be))|(t[bd]>>be))}t[bd]>>=be}aY.rightShift_=J;function x(t){var T;for(T=0;T<t.length-1;T++){t[T]=av&((t[T+1]<<(A-1))|(t[T]>>1))}t[T]=(t[T]>>1)|(t[T]&(H>>1))}aY.halve_=x;function bc(t,be){var bd;var T=Math.floor(be/A);if(T){for(bd=t.length;bd>=T;bd--){t[bd]=t[bd-T]}for(;bd>=0;bd--){t[bd]=0}be%=A}if(!be){return}for(bd=t.length-1;bd>0;bd--){t[bd]=av&((t[bd]<<be)|(t[bd-1]>>(A-be)))}t[bd]=av&(t[bd]<<be)}aY.leftShift_=bc;function p(T,bg){var be,bd,bf,t;if(!bg){return}bd=T.length;bf=0;for(be=0;be<bd;be++){bf+=T[be]*bg;t=0;if(bf<0){t=-(bf>>A);bf+=t*H}T[be]=bf&av;bf=(bf>>A)-t}}aY.multInt_=p;function ae(t,bf){var T,be=0,bd;for(T=t.length-1;T>=0;T--){bd=be*H+t[T];t[T]=Math.floor(bd/bf);be=bd%bf}return be}aY.divInt_=ae;function L(T,bi,bd,t){var bf,bh,be,bg;be=T.length<bi.length?T.length:bi.length;bg=T.length;for(bh=0,bf=0;bf<be;bf++){bh+=bd*T[bf]+t*bi[bf];T[bf]=bh&av;bh>>=A}for(bf=be;bf<bg;bf++){bh+=bd*T[bf];T[bf]=bh&av;bh>>=A}}aY.linComb_=L;function au(T,bi,t,bf){var be,bh,bd,bg;bd=T.length<bf+bi.length?T.length:bf+bi.length;bg=T.length;for(bh=0,be=bf;be<bd;be++){bh+=T[be]+t*bi[be-bf];T[be]=bh&av;bh>>=A}for(be=bd;bh&&be<bg;be++){bh+=T[be];T[be]=bh&av;bh>>=A}}aY.linCombShift_=au;function a5(t,bh,be){var bd,bg,T,bf;T=t.length<be+bh.length?t.length:be+bh.length;bf=t.length;for(bg=0,bd=be;bd<T;bd++){bg+=t[bd]+bh[bd-be];t[bd]=bg&av;bg>>=A}for(bd=T;bg&&bd<bf;bd++){bg+=t[bd];t[bd]=bg&av;bg>>=A}}aY.addShift_=a5;function ay(t,bh,be){var bd,bg,T,bf;T=t.length<be+bh.length?t.length:be+bh.length;bf=t.length;for(bg=0,bd=be;bd<T;bd++){bg+=t[bd]-bh[bd-be];t[bd]=bg&av;bg>>=A}for(bd=T;bg&&bd<bf;bd++){bg+=t[bd];t[bd]=bg&av;bg>>=A}}aY.subShift_=ay;function a7(t,bg){var bd,bf,T,be;T=t.length<bg.length?t.length:bg.length;for(bf=0,bd=0;bd<T;bd++){bf+=t[bd]-bg[bd];t[bd]=bf&av;bf>>=A}for(bd=T;bf&&bd<t.length;bd++){bf+=t[bd];t[bd]=bf&av;bf>>=A}}aY.sub_=a7;function aG(t,bg){var bd,bf,T,be;T=t.length<bg.length?t.length:bg.length;for(bf=0,bd=0;bd<T;bd++){bf+=t[bd]+bg[bd];t[bd]=bf&av;bf>>=A}for(bd=T;bf&&bd<t.length;bd++){bf+=t[bd];t[bd]=bf&av;bf>>=A}}aY.add_=aG;function aU(t,bd){var T;if(aQ.length!=2*t.length){aQ=new Array(2*t.length)}B(aQ,0);for(T=0;T<bd.length;T++){if(bd[T]){au(aQ,t,bd[T],T)}}aw(t,aQ)}aY.mult_=aU;function aA(t,T){if(j.length!=t.length){j=M(t)}else{aw(j,t)}if(i.length!=t.length){i=M(t)}e(j,T,i,t)}aY.mod_=aA;function aR(t,be,bd){var T;if(q.length!=2*t.length){q=new Array(2*t.length)}B(q,0);for(T=0;T<be.length;T++){if(be[T]){au(q,t,be[T],T)}}aA(q,bd);aw(t,q)}aY.multMod_=aR;function aH(bi,t){var be,bd,bg,bh,bf,bj,T;for(bf=bi.length;bf>0&&!bi[bf-1];bf--){}T=bf>t.length?2*bf:2*t.length;if(q.length!=T){q=new Array(T)}B(q,0);for(be=0;be<bf;be++){bh=q[2*be]+bi[be]*bi[be];q[2*be]=bh&av;bh>>=A;for(bd=be+1;bd<bf;bd++){bh=q[be+bd]+2*bi[be]*bi[bd]+bh;q[be+bd]=(bh&av);bh>>=A}q[be+bf]=bh}aA(q,t);aw(bi,q)}aY.squareMod_=aH;function a0(t,T){var bd,be;for(bd=t.length;bd>0&&!t[bd-1];bd--){}be=new Array(bd+T);aw(be,t);return be}aY.trim=a0;function aP(t,bh,bg){var bf,be,T,bd;if(g.length!=bg.length){g=M(bg)}if((bg[0]&1)==0){aw(g,t);B(t,1);while(!C(bh,0)){if(bh[0]&1){aR(t,g,bg)}ae(bh,2);aH(g,bg)}return}B(g,0);for(T=bg.length;T>0&&!bg[T-1];T--){}bd=H-aT(a9(bg,H),H);g[T]=1;aR(t,g,bg);if(l.length!=t.length){l=M(t)}else{aw(l,t)}for(bf=bh.length-1;bf>0&!bh[bf];bf--){}if(bh[bf]==0){B(t,1);return}for(be=1<<(A-1);be&&!(bh[bf]&be);be>>=1){}for(;;){if(!(be>>=1)){bf--;if(bf<0){at(t,r,bg,bd);return}be=1<<(A-1)}at(t,t,bg,bd);if(be&bh[bf]){at(t,l,bg,bd)}}}aY.powMod_=aP;function at(bk,bh,T,bl){var be,bd,bg,bi,bm,bj;var bn=T.length;var bf=bh.length;if(aZ.length!=bn){aZ=new Array(bn)}B(aZ,0);for(;bn>0&&T[bn-1]==0;bn--){}for(;bf>0&&bh[bf-1]==0;bf--){}bj=aZ.length-1;for(be=0;be<bn;be++){bm=aZ[0]+bk[be]*bh[0];bi=((bm&av)*bl)&av;bg=(bm+bi*T[0])>>A;bm=bk[be];bd=1;for(;bd<bf-4;){bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++}for(;bd<bf;){bg+=aZ[bd]+bi*T[bd]+bm*bh[bd];aZ[bd-1]=bg&av;bg>>=A;bd++}for(;bd<bn-4;){bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++;bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++}for(;bd<bn;){bg+=aZ[bd]+bi*T[bd];aZ[bd-1]=bg&av;bg>>=A;bd++}for(;bd<bj;){bg+=aZ[bd];aZ[bd-1]=bg&av;bg>>=A;bd++}aZ[bd-1]=bg&av}if(!E(T,aZ)){a7(aZ,T)}aw(bk,aZ)}aY.mont_=at}})(window);window.rangy=function(){function F(i,f){var c=typeof i[f];return c=="function"||!!(c=="object"&&i[f])||c=="unknown"}function g(f,c){return !!(typeof f[c]=="object"&&f[c])}function o(f,c){return typeof f[c]!="undefined"}function j(c){return function(i,f){for(var l=f.length;l--;){if(!c(i,f[l])){return false}}return true}}function h(c){return c&&D(c,m)&&p(c,s)}function y(c){window.alert("Rangy not supported in your browser. Reason: "+c);P.initialized=true;P.supported=false}function d(){if(!P.initialized){var i,f=false,c=false;if(F(document,"createRange")){i=document.createRange();if(D(i,E)&&p(i,J)){f=true}i.detach()}if((i=g(document,"body")?document.body:document.getElementsByTagName("body")[0])&&F(i,"createTextRange")){i=i.createTextRange();if(h(i)){c=true}}!f&&!c&&y("Neither Range nor TextRange are implemented");P.initialized=true;P.features={implementsDomRange:f,implementsTextRange:c};f=G.concat(M);c=0;for(i=f.length;c<i;++c){try{f[c](P)}catch(l){g(window,"console")&&F(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",l)}}}}function b(c){this.name=c;this.supported=this.initialized=false}var J=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],E=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],m=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],D=j(F),B=j(g),p=j(o),P={version:"1.2.3",initialized:false,supported:true,util:{isHostMethod:F,isHostObject:g,isHostProperty:o,areHostMethods:D,areHostObjects:B,areHostProperties:p,isTextRange:h},features:{},modules:{},config:{alertOnWarn:false,preferTextRange:false}};P.fail=y;P.warn=function(c){c="Rangy warning: "+c;if(P.config.alertOnWarn){window.alert(c)}else{typeof window.console!="undefined"&&typeof window.console.log!="undefined"&&window.console.log(c)}};if({}.hasOwnProperty){P.util.extend=function(i,f){for(var c in f){if(f.hasOwnProperty(c)){i[c]=f[c]}}}}else{y("hasOwnProperty not supported")}var M=[],G=[];P.init=d;P.addInitListener=function(c){P.initialized?c(P):M.push(c)};var u=[];P.addCreateMissingNativeApiListener=function(c){u.push(c)};P.createMissingNativeApi=function(i){i=i||window;d();for(var f=0,c=u.length;f<c;++f){u[f](i)}};b.prototype.fail=function(c){this.initialized=true;this.supported=false;throw Error("Module '"+this.name+"' failed to load: "+c)};b.prototype.warn=function(c){P.warn("Module "+this.name+": "+c)};b.prototype.createError=function(c){return Error("Error in Rangy "+this.name+" module: "+c)};P.createModule=function(i,f){var c=new b(i);P.modules[i]=c;G.push(function(l){f(l,c);c.initialized=true;c.supported=true})};P.requireModules=function(l){for(var i=0,f=l.length,n,c;i<f;++i){c=l[i];n=P.modules[c];if(!n||!(n instanceof b)){throw Error("Module '"+c+"' not found")}if(!n.supported){throw Error("Module '"+c+"' not supported")}}};var e=false;B=function(){if(!e){e=true;P.initialized||d()}};if(typeof window=="undefined"){y("No window found")}else{if(typeof document=="undefined"){y("No document found")}else{F(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",B,false);if(F(window,"addEventListener")){window.addEventListener("load",B,false)}else{F(window,"attachEvent")?window.attachEvent("onload",B):y("Window does not have required addEventListener or attachEvent method")}return P}}}();rangy.createModule("DomUtil",function(f,o){function u(l){for(var i=0;l=l.previousSibling;){i++}return i}function r(q,n){var i=[],l;for(l=q;l;l=l.parentNode){i.push(l)}for(l=n;l;l=l.parentNode){if(s(i,l)){return l}}return null}function m(n,l,i){for(i=i?n:n.parentNode;i;){n=i.parentNode;if(n===l){return i}i=n}return null}function c(i){i=i.nodeType;return i==3||i==4||i==8}function j(q,n){var i=n.nextSibling,l=n.parentNode;i?l.insertBefore(q,i):l.appendChild(q);return q}function h(i){if(i.nodeType==9){return i}else{if(typeof i.ownerDocument!="undefined"){return i.ownerDocument}else{if(typeof i.document!="undefined"){return i.document}else{if(i.parentNode){return h(i.parentNode)}else{throw Error("getDocument: no document found for node")}}}}}function g(i){if(!i){return"[No node]"}return c(i)?'"'+i.data+'"':i.nodeType==1?"<"+i.nodeName+(i.id?' id="'+i.id+'"':"")+">["+i.childNodes.length+"]":i.nodeName}function e(i){this._next=this.root=i}function y(l,i){this.node=l;this.offset=i}function p(i){this.code=this[i];this.codeName=i;this.message="DOMException: "+this.codeName}var d=f.util;d.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||o.fail("document missing a Node creation method");d.isHostMethod(document,"getElementsByTagName")||o.fail("document missing getElementsByTagName method");var b=document.createElement("div");d.areHostMethods(b,["insertBefore","appendChild","cloneNode"])||o.fail("Incomplete Element implementation");d.isHostProperty(b,"innerHTML")||o.fail("Element is missing innerHTML property");b=document.createTextNode("test");d.areHostMethods(b,["splitText","deleteData","insertData","appendData","cloneNode"])||o.fail("Incomplete Text Node implementation");var s=function(n,l){for(var i=n.length;i--;){if(n[i]===l){return true}}return false};e.prototype={_current:null,hasNext:function(){return !!this._next},next:function(){var l=this._current=this._next,i;if(this._current){if(i=l.firstChild){this._next=i}else{for(i=null;l!==this.root&&!(i=l.nextSibling);){l=l.parentNode}this._next=i}}return this._current},detach:function(){this._current=this._next=this.root=null}};y.prototype={equals:function(i){return this.node===i.node&this.offset==i.offset},inspect:function(){return"[DomPosition("+g(this.node)+":"+this.offset+")]"}};p.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};p.prototype.toString=function(){return this.message};f.dom={arrayContains:s,isHtmlNamespace:function(l){var i;return typeof l.namespaceURI=="undefined"||(i=l.namespaceURI)===null||i=="http://www.w3.org/1999/xhtml"},parentElement:function(i){i=i.parentNode;return i.nodeType==1?i:null},getNodeIndex:u,getNodeLength:function(l){var i;return c(l)?l.length:(i=l.childNodes)?i.length:0},getCommonAncestor:r,isAncestorOf:function(n,l,i){for(l=i?l:l.parentNode;l;){if(l===n){return true}else{l=l.parentNode}}return false},getClosestAncestorIn:m,isCharacterDataNode:c,insertAfter:j,splitDataNode:function(n,l){var i=n.cloneNode(false);i.deleteData(0,l);n.deleteData(l,n.length-l);j(i,n);return i},getDocument:h,getWindow:function(i){i=h(i);if(typeof i.defaultView!="undefined"){return i.defaultView}else{if(typeof i.parentWindow!="undefined"){return i.parentWindow}else{throw Error("Cannot get a window object for node")}}},getIframeWindow:function(i){if(typeof i.contentWindow!="undefined"){return i.contentWindow}else{if(typeof i.contentDocument!="undefined"){return i.contentDocument.defaultView}else{throw Error("getIframeWindow: No Window object found for iframe element")}}},getIframeDocument:function(i){if(typeof i.contentDocument!="undefined"){return i.contentDocument}else{if(typeof i.contentWindow!="undefined"){return i.contentWindow.document}else{throw Error("getIframeWindow: No Document object found for iframe element")}}},getBody:function(i){return d.isHostObject(i,"body")?i.body:i.getElementsByTagName("body")[0]},getRootContainer:function(l){for(var i;i=l.parentNode;){l=i}return l},comparePoints:function(t,q,l,n){var i;if(t==l){return q===n?0:q<n?-1:1}else{if(i=m(l,t,true)){return q<=u(i)?-1:1}else{if(i=m(t,l,true)){return u(i)<n?-1:1}else{q=r(t,l);t=t===q?q:m(t,q,true);l=l===q?q:m(l,q,true);if(t===l){throw Error("comparePoints got to case 4 and childA and childB are the same!")}else{for(q=q.firstChild;q;){if(q===t){return -1}else{if(q===l){return 1}}q=q.nextSibling}throw Error("Should not be here!")}}}}},inspectNode:g,fragmentFromNodeChildren:function(n){for(var l=h(n).createDocumentFragment(),i;i=n.firstChild;){l.appendChild(i)}return l},createIterator:function(i){return new e(i)},DomPosition:y};f.DOMException=p});rangy.createModule("DomRange",function(aL){function af(b,c){return b.nodeType!=3&&(aP.isAncestorOf(b,c.startContainer,true)||aP.isAncestorOf(b,c.endContainer,true))}function ai(b){return aP.getDocument(b.startContainer)}function ah(b,f,c){if(f=b._listeners[f]){for(var g=0,d=f.length;g<d;++g){f[g].call(b,{target:b,args:c})}}}function ay(b){return new m(b.parentNode,aP.getNodeIndex(b))}function al(b){return new m(b.parentNode,aP.getNodeIndex(b)+1)}function ac(b,d,c){var f=b.nodeType==11?b.firstChild:b;if(aP.isCharacterDataNode(d)){c==d.length?aP.insertAfter(b,d):d.parentNode.insertBefore(b,c==0?d:aP.splitDataNode(d,c))}else{c>=d.childNodes.length?d.appendChild(b):d.insertBefore(b,d.childNodes[c])}return f}function ab(b){for(var d,c,f=ai(b.range).createDocumentFragment();c=b.next();){d=b.isPartiallySelectedSubtree();c=c.cloneNode(!d);if(d){d=b.getSubtreeIterator();c.appendChild(ab(d));d.detach(true)}if(c.nodeType==10){throw new T("HIERARCHY_REQUEST_ERR")}f.appendChild(c)}return f}function aN(b,f,c){var g,d;for(c=c||{stop:false};g=b.next();){if(b.isPartiallySelectedSubtree()){if(f(g)===false){c.stop=true;return}else{g=b.getSubtreeIterator();aN(g,f,c);g.detach(true);if(c.stop){return}}}else{for(g=aP.createIterator(g);d=g.next();){if(f(d)===false){c.stop=true;return}}}}}function aK(b){for(var c;b.next();){if(b.isPartiallySelectedSubtree()){c=b.getSubtreeIterator();aK(c);c.detach(true)}else{b.remove()}}}function aG(b){for(var d,c=ai(b.range).createDocumentFragment(),f;d=b.next();){if(b.isPartiallySelectedSubtree()){d=d.cloneNode(false);f=b.getSubtreeIterator();d.appendChild(aG(f));f.detach(true)}else{b.remove()}if(d.nodeType==10){throw new T("HIERARCHY_REQUEST_ERR")}c.appendChild(d)}return c}function aA(c,h,f){var i=!!(h&&h.length),g,d=!!f;if(i){g=RegExp("^("+h.join("|")+")$")}var b=[];aN(new aI(c,false),function(l){if((!i||g.test(l.nodeType))&&(!d||f(l))){b.push(l)}});return b}function an(b){return"["+(typeof b.getName=="undefined"?"Range":b.getName())+"("+aP.inspectNode(b.startContainer)+":"+b.startOffset+", "+aP.inspectNode(b.endContainer)+":"+b.endOffset+")]"}function aI(b,d){this.range=b;this.clonePartiallySelectedTextNodes=d;if(!b.collapsed){this.sc=b.startContainer;this.so=b.startOffset;this.ec=b.endContainer;this.eo=b.endOffset;var c=b.commonAncestorContainer;if(this.sc===this.ec&&aP.isCharacterDataNode(this.sc)){this.isSingleCharacterDataNode=true;this._first=this._last=this._next=this.sc}else{this._first=this._next=this.sc===c&&!aP.isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:aP.getClosestAncestorIn(this.sc,c,true);this._last=this.ec===c&&!aP.isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:aP.getClosestAncestorIn(this.ec,c,true)}}}function aD(b){this.code=this[b];this.codeName=b;this.message="RangeException: "+this.codeName}function aS(b,d,c){this.nodes=aA(b,d,c);this._next=this.nodes[0];this._position=0}function aQ(b){return function(f,c){for(var g,d=c?f:f.parentNode;d;){g=d.nodeType;if(aP.arrayContains(b,g)){return d}d=d.parentNode}return null}}function aM(b,c){if(aj(b,c)){throw new aD("INVALID_NODE_TYPE_ERR")}}function aH(b){if(!b.startContainer){throw new T("INVALID_STATE_ERR")}}function ae(b,c){if(!aP.arrayContains(c,b.nodeType)){throw new aD("INVALID_NODE_TYPE_ERR")}}function aJ(b,c){if(c<0||c>(aP.isCharacterDataNode(b)?b.length:b.childNodes.length)){throw new T("INDEX_SIZE_ERR")}}function aE(b,c){if(aO(b,true)!==aO(c,true)){throw new T("WRONG_DOCUMENT_ERR")}}function aB(b){if(ak(b,true)){throw new T("NO_MODIFICATION_ALLOWED_ERR")}}function am(b,c){if(!b){throw new T(c)}}function Q(b){return !!b.startContainer&&!!b.endContainer&&!(!aP.arrayContains(aU,b.startContainer.nodeType)&&!aO(b.startContainer,true))&&!(!aP.arrayContains(aU,b.endContainer.nodeType)&&!aO(b.endContainer,true))&&b.startOffset<=(aP.isCharacterDataNode(b.startContainer)?b.startContainer.length:b.startContainer.childNodes.length)&&b.endOffset<=(aP.isCharacterDataNode(b.endContainer)?b.endContainer.length:b.endContainer.childNodes.length)}function ag(b){aH(b);if(!Q(b)){throw Error("Range error: Range is no longer valid after DOM mutation ("+b.inspect()+")")}}function av(){}function s(b){b.START_TO_START=ax;b.START_TO_END=az;b.END_TO_END=aF;b.END_TO_START=ar;b.NODE_BEFORE=E;b.NODE_AFTER=aC;b.NODE_BEFORE_AND_AFTER=at;b.NODE_INSIDE=aq}function F(b){s(b);s(b.prototype)}function ap(b,c){return function(){ag(this);var f=this.startContainer,h=this.startOffset,g=this.commonAncestorContainer,d=new aI(this,true);if(f!==g){f=aP.getClosestAncestorIn(f,g,true);h=al(f);f=h.node;h=h.offset}aN(d,aB);d.reset();g=b(d);d.detach();c(this,f,h,f,h);return g}}function aw(b,g,d){function h(i,l){return function(n){aH(this);ae(n,au);ae(aR(n),aU);n=(i?ay:al)(n);(l?f:c)(this,n.node,n.offset)}}function f(i,l,q){var p=i.endContainer,n=i.endOffset;if(l!==i.startContainer||q!==i.startOffset){if(aR(l)!=aR(p)||aP.comparePoints(l,q,p,n)==1){p=l;n=q}g(i,l,q,p,n)}}function c(i,l,q){var p=i.startContainer,n=i.startOffset;if(l!==i.endContainer||q!==i.endOffset){if(aR(l)!=aR(p)||aP.comparePoints(l,q,p,n)==-1){p=l;n=q}g(i,p,n,l,q)}}b.prototype=new av;aL.util.extend(b.prototype,{setStart:function(i,l){aH(this);aM(i,true);aJ(i,l);f(this,i,l)},setEnd:function(i,l){aH(this);aM(i,true);aJ(i,l);c(this,i,l)},setStartBefore:h(true,true),setStartAfter:h(false,true),setEndBefore:h(true,false),setEndAfter:h(false,false),collapse:function(i){ag(this);i?g(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):g(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(i){aH(this);aM(i,true);g(this,i,0,i,aP.getNodeLength(i))},selectNode:function(i){aH(this);aM(i,false);ae(i,au);var l=ay(i);i=al(i);g(this,l.node,l.offset,i.node,i.offset)},extractContents:ap(aG,g),deleteContents:ap(aK,g),canSurroundContents:function(){ag(this);aB(this.startContainer);aB(this.endContainer);var i=new aI(this,true),l=i._first&&af(i._first,this)||i._last&&af(i._last,this);i.detach();return !l},detach:function(){d(this)},splitBoundaries:function(){ag(this);var i=this.startContainer,l=this.startOffset,q=this.endContainer,p=this.endOffset,n=i===q;aP.isCharacterDataNode(q)&&p>0&&p<q.length&&aP.splitDataNode(q,p);if(aP.isCharacterDataNode(i)&&l>0&&l<i.length){i=aP.splitDataNode(i,l);if(n){p-=l;q=i}else{q==i.parentNode&&p>=aP.getNodeIndex(i)&&p++}l=0}g(this,i,l,q,p)},normalizeBoundaries:function(){ag(this);var i=this.startContainer,l=this.startOffset,t=this.endContainer,p=this.endOffset,n=function(u){var v=u.nextSibling;if(v&&v.nodeType==u.nodeType){t=u;p=u.length;u.appendData(v.data);v.parentNode.removeChild(v)}},q=function(v){var x=v.previousSibling;if(x&&x.nodeType==v.nodeType){i=v;var u=v.length;l=x.length;v.insertData(0,x.data);x.parentNode.removeChild(x);if(i==t){p+=l;t=i}else{if(t==v.parentNode){x=aP.getNodeIndex(v);if(p==x){t=v;p=u}else{p>x&&p--}}}}},r=true;if(aP.isCharacterDataNode(t)){t.length==p&&n(t)}else{if(p>0){(r=t.childNodes[p-1])&&aP.isCharacterDataNode(r)&&n(r)}r=!this.collapsed}if(r){if(aP.isCharacterDataNode(i)){l==0&&q(i)}else{if(l<i.childNodes.length){(n=i.childNodes[l])&&aP.isCharacterDataNode(n)&&q(n)}}}else{i=t;l=p}g(this,i,l,t,p)},collapseToPoint:function(i,l){aH(this);aM(i,true);aJ(i,l);if(i!==this.startContainer||l!==this.startOffset||i!==this.endContainer||l!==this.endOffset){g(this,i,l,i,l)}}});F(b)}function e(b){b.collapsed=b.startContainer===b.endContainer&&b.startOffset===b.endOffset;b.commonAncestorContainer=b.collapsed?b.startContainer:aP.getCommonAncestor(b.startContainer,b.endContainer)}function j(c,h,f,i,g){var d=c.startContainer!==h||c.startOffset!==f,b=c.endContainer!==i||c.endOffset!==g;c.startContainer=h;c.startOffset=f;c.endContainer=i;c.endOffset=g;e(c);ah(c,"boundarychange",{startMoved:d,endMoved:b})}function ad(b){this.startContainer=b;this.startOffset=0;this.endContainer=b;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};e(this)}aL.requireModules(["DomUtil"]);var aP=aL.dom,m=aP.DomPosition,T=aL.DOMException;aI.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return !!this._next},next:function(){var b=this._current=this._next;if(b){this._next=b!==this._last?b.nextSibling:null;if(aP.isCharacterDataNode(b)&&this.clonePartiallySelectedTextNodes){if(b===this.ec){(b=b.cloneNode(true)).deleteData(this.eo,b.length-this.eo)}if(this._current===this.sc){(b=b.cloneNode(true)).deleteData(0,this.so)}}}return b},remove:function(){var b=this._current,d,c;if(aP.isCharacterDataNode(b)&&(b===this.sc||b===this.ec)){d=b===this.sc?this.so:0;c=b===this.ec?this.eo:b.length;d!=c&&b.deleteData(d,c-d)}else{b.parentNode&&b.parentNode.removeChild(b)}},isPartiallySelectedSubtree:function(){return af(this._current,this.range)},getSubtreeIterator:function(){var b;if(this.isSingleCharacterDataNode){b=this.range.cloneRange();b.collapse()}else{b=new ad(ai(this.range));var g=this._current,d=g,h=0,f=g,c=aP.getNodeLength(g);if(aP.isAncestorOf(g,this.sc,true)){d=this.sc;h=this.so}if(aP.isAncestorOf(g,this.ec,true)){f=this.ec;c=this.eo}j(b,d,h,f,c)}return new aI(b,this.clonePartiallySelectedTextNodes)},detach:function(b){b&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};aD.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};aD.prototype.toString=function(){return this.message};aS.prototype={_current:null,hasNext:function(){return !!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},detach:function(){this._current=this._next=this.nodes=null}};var au=[1,3,4,5,7,8,10],aU=[2,9,11],ao=[1,3,4,5,7,8,10,11],aT=[1,3,4,5,7,8],aR=aP.getRootContainer,aO=aQ([9,11]),ak=aQ([5,6,10,12]),aj=aQ([6,10,12]),U=document.createElement("style"),y=false;try{U.innerHTML="<b>x</b>";y=U.firstChild.nodeType==3}catch(R){}aL.features.htmlParsingConforms=y;var o=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ax=0,az=1,aF=2,ar=3,E=0,aC=1,at=2,aq=3;av.prototype={attachListener:function(b,c){this._listeners[b].push(c)},compareBoundaryPoints:function(b,d){ag(this);aE(this.startContainer,d.startContainer);var c=b==ar||b==ax?"start":"end",f=b==az||b==ax?"start":"end";return aP.comparePoints(this[c+"Container"],this[c+"Offset"],d[f+"Container"],d[f+"Offset"])},insertNode:function(b){ag(this);ae(b,ao);aB(this.startContainer);if(aP.isAncestorOf(b,this.startContainer,true)){throw new T("HIERARCHY_REQUEST_ERR")}this.setStartBefore(ac(b,this.startContainer,this.startOffset))},cloneContents:function(){ag(this);var b,c;if(this.collapsed){return ai(this).createDocumentFragment()}else{if(this.startContainer===this.endContainer&&aP.isCharacterDataNode(this.startContainer)){b=this.startContainer.cloneNode(true);b.data=b.data.slice(this.startOffset,this.endOffset);c=ai(this).createDocumentFragment();c.appendChild(b);return c}else{c=new aI(this,true);b=ab(c);c.detach()}return b}},canSurroundContents:function(){ag(this);aB(this.startContainer);aB(this.endContainer);var b=new aI(this,true),c=b._first&&af(b._first,this)||b._last&&af(b._last,this);b.detach();return !c},surroundContents:function(b){ae(b,aT);if(!this.canSurroundContents()){throw new aD("BAD_BOUNDARYPOINTS_ERR")}var c=this.extractContents();if(b.hasChildNodes()){for(;b.lastChild;){b.removeChild(b.lastChild)}}ac(b,this.startContainer,this.startOffset);b.appendChild(c);this.selectNode(b)},cloneRange:function(){ag(this);for(var b=new ad(ai(this)),d=o.length,c;d--;){c=o[d];b[c]=this[c]}return b},toString:function(){ag(this);var b=this.startContainer;if(b===this.endContainer&&aP.isCharacterDataNode(b)){return b.nodeType==3||b.nodeType==4?b.data.slice(this.startOffset,this.endOffset):""}else{var c=[];b=new aI(this,true);aN(b,function(d){if(d.nodeType==3||d.nodeType==4){c.push(d.data)}});b.detach();return c.join("")}},compareNode:function(b){ag(this);var d=b.parentNode,c=aP.getNodeIndex(b);if(!d){throw new T("NOT_FOUND_ERR")}b=this.comparePoint(d,c);d=this.comparePoint(d,c+1);return b<0?d>0?at:E:d>0?aC:aq},comparePoint:function(b,c){ag(this);am(b,"HIERARCHY_REQUEST_ERR");aE(b,this.startContainer);if(aP.comparePoints(b,c,this.startContainer,this.startOffset)<0){return -1}else{if(aP.comparePoints(b,c,this.endContainer,this.endOffset)>0){return 1}}return 0},createContextualFragment:y?function(b){var d=this.startContainer,c=aP.getDocument(d);if(!d){throw new T("INVALID_STATE_ERR")}var f=null;if(d.nodeType==1){f=d}else{if(aP.isCharacterDataNode(d)){f=aP.parentElement(d)}}f=f===null||f.nodeName=="HTML"&&aP.isHtmlNamespace(aP.getDocument(f).documentElement)&&aP.isHtmlNamespace(f)?c.createElement("body"):f.cloneNode(false);f.innerHTML=b;return aP.fragmentFromNodeChildren(f)}:function(b){aH(this);var c=ai(this).createElement("body");c.innerHTML=b;return aP.fragmentFromNodeChildren(c)},toHtml:function(){ag(this);var b=ai(this).createElement("div");b.appendChild(this.cloneContents());return b.innerHTML},intersectsNode:function(b,f){ag(this);am(b,"NOT_FOUND_ERR");if(aP.getDocument(b)!==ai(this)){return false}var c=b.parentNode,g=aP.getNodeIndex(b);am(c,"NOT_FOUND_ERR");var d=aP.comparePoints(c,g,this.endContainer,this.endOffset);c=aP.comparePoints(c,g+1,this.startContainer,this.startOffset);return f?d<=0&&c>=0:d<0&&c>0},isPointInRange:function(b,c){ag(this);am(b,"HIERARCHY_REQUEST_ERR");aE(b,this.startContainer);return aP.comparePoints(b,c,this.startContainer,this.startOffset)>=0&&aP.comparePoints(b,c,this.endContainer,this.endOffset)<=0},intersectsRange:function(b,d){ag(this);if(ai(b)!=ai(this)){throw new T("WRONG_DOCUMENT_ERR")}var c=aP.comparePoints(this.startContainer,this.startOffset,b.endContainer,b.endOffset),f=aP.comparePoints(this.endContainer,this.endOffset,b.startContainer,b.startOffset);return d?c<=0&&f>=0:c<0&&f>0},intersection:function(b){if(this.intersectsRange(b)){var d=aP.comparePoints(this.startContainer,this.startOffset,b.startContainer,b.startOffset),c=aP.comparePoints(this.endContainer,this.endOffset,b.endContainer,b.endOffset),f=this.cloneRange();d==-1&&f.setStart(b.startContainer,b.startOffset);c==1&&f.setEnd(b.endContainer,b.endOffset);return f}return null},union:function(b){if(this.intersectsRange(b,true)){var c=this.cloneRange();aP.comparePoints(b.startContainer,b.startOffset,this.startContainer,this.startOffset)==-1&&c.setStart(b.startContainer,b.startOffset);aP.comparePoints(b.endContainer,b.endOffset,this.endContainer,this.endOffset)==1&&c.setEnd(b.endContainer,b.endOffset);return c}else{throw new aD("Ranges do not intersect")}},containsNode:function(b,c){return c?this.intersectsNode(b,false):this.compareNode(b)==aq},containsNodeContents:function(b){return this.comparePoint(b,0)>=0&&this.comparePoint(b,aP.getNodeLength(b))<=0},containsRange:function(b){return this.intersection(b).equals(b)},containsNodeText:function(b){var d=this.cloneRange();d.selectNode(b);var c=d.getNodes([3]);if(c.length>0){d.setStart(c[0],0);b=c.pop();d.setEnd(b,b.length);b=this.containsRange(d);d.detach();return b}else{return this.containsNodeContents(b)}},createNodeIterator:function(b,c){ag(this);return new aS(this,b,c)},getNodes:function(b,c){ag(this);return aA(this,b,c)},getDocument:function(){return ai(this)},collapseBefore:function(b){aH(this);this.setEndBefore(b);this.collapse(false)},collapseAfter:function(b){aH(this);this.setStartAfter(b);this.collapse(true)},getName:function(){return"DomRange"},equals:function(b){return ad.rangesEqual(this,b)},isValid:function(){return Q(this)},inspect:function(){return an(this)}};aw(ad,j,function(b){aH(b);b.startContainer=b.startOffset=b.endContainer=b.endOffset=null;b.collapsed=b.commonAncestorContainer=null;ah(b,"detach",null);b._listeners=null});aL.rangePrototype=av.prototype;ad.rangeProperties=o;ad.RangeIterator=aI;ad.copyComparisonConstants=F;ad.createPrototypeRange=aw;ad.inspect=an;ad.getRangeDocument=ai;ad.rangesEqual=function(b,c){return b.startContainer===c.startContainer&&b.startOffset===c.startOffset&&b.endContainer===c.endContainer&&b.endOffset===c.endOffset};aL.DomRange=ad;aL.RangeException=aD});rangy.createModule("WrappedRange",function(c){function b(p,u,o,l){var j=p.duplicate();j.collapse(o);var r=j.parentElement();i.isAncestorOf(u,r,true)||(r=u);if(!r.canHaveHTML){return new h(r.parentNode,i.getNodeIndex(r))}u=i.getDocument(r).createElement("span");var m,s=o?"StartToStart":"StartToEnd";do{r.insertBefore(u,u.previousSibling);j.moveToElementText(u)}while((m=j.compareEndPoints(s,p))>0&&u.previousSibling);s=u.nextSibling;if(m==-1&&s&&i.isCharacterDataNode(s)){j.setEndPoint(o?"EndToStart":"EndToEnd",p);if(/[\r\n]/.test(s.data)){r=j.duplicate();o=r.text.replace(/\r\n/g,"\r").length;for(o=r.moveStart("character",o);r.compareEndPoints("StartToEnd",r)==-1;){o++;r.moveStart("character",1)}}else{o=j.text.length}r=new h(s,o)}else{s=(l||!o)&&u.previousSibling;r=(o=(l||o)&&u.nextSibling)&&i.isCharacterDataNode(o)?new h(o,0):s&&i.isCharacterDataNode(s)?new h(s,s.length):new h(r,i.getNodeIndex(u))}u.parentNode.removeChild(u);return r}function e(p,u){var o,l,j=p.offset,r=i.getDocument(p.node),m=r.body.createTextRange(),s=i.isCharacterDataNode(p.node);if(s){o=p.node;l=o.parentNode}else{o=p.node.childNodes;o=j<o.length?o[j]:null;l=p.node}r=r.createElement("span");r.innerHTML="&#feff;";o?l.insertBefore(r,o):l.appendChild(r);m.moveToElementText(r);m.collapse(!u);l.removeChild(r);if(s){m[u?"moveStart":"moveEnd"]("character",j)}return m}c.requireModules(["DomUtil","DomRange"]);var d,i=c.dom,h=i.DomPosition,g=c.DomRange;if(c.features.implementsDomRange&&(!c.features.implementsTextRange||!c.config.preferTextRange)){(function(){function p(t){for(var n=o.length,q;n--;){q=o[n];t[q]=t.nativeRange[q]}}var u,o=g.rangeProperties,l,j;d=function(n){if(!n){throw Error("Range must be specified")}this.nativeRange=n;p(this)};g.createPrototypeRange(d,function(x,q,v,n,y){var t=x.endContainer!==n||x.endOffset!=y;if(x.startContainer!==q||x.startOffset!=v||t){x.setEnd(n,y);x.setStart(q,v)}},function(t){t.nativeRange.detach();t.detached=true;for(var n=o.length,q;n--;){q=o[n];t[q]=null}});u=d.prototype;u.selectNode=function(n){this.nativeRange.selectNode(n);p(this)};u.deleteContents=function(){this.nativeRange.deleteContents();p(this)};u.extractContents=function(){var n=this.nativeRange.extractContents();p(this);return n};u.cloneContents=function(){return this.nativeRange.cloneContents()};u.surroundContents=function(n){this.nativeRange.surroundContents(n);p(this)};u.collapse=function(n){this.nativeRange.collapse(n);p(this)};u.cloneRange=function(){return new d(this.nativeRange.cloneRange())};u.refresh=function(){p(this)};u.toString=function(){return this.nativeRange.toString()};var r=document.createTextNode("test");i.getBody(document).appendChild(r);var m=document.createRange();m.setStart(r,0);m.setEnd(r,0);try{m.setStart(r,1);l=true;u.setStart=function(q,n){this.nativeRange.setStart(q,n);p(this)};u.setEnd=function(q,n){this.nativeRange.setEnd(q,n);p(this)};j=function(n){return function(q){this.nativeRange[n](q);p(this)}}}catch(s){l=false;u.setStart=function(t,n){try{this.nativeRange.setStart(t,n)}catch(q){this.nativeRange.setEnd(t,n);this.nativeRange.setStart(t,n)}p(this)};u.setEnd=function(t,n){try{this.nativeRange.setEnd(t,n)}catch(q){this.nativeRange.setStart(t,n);this.nativeRange.setEnd(t,n)}p(this)};j=function(q,n){return function(v){try{this.nativeRange[q](v)}catch(t){this.nativeRange[n](v);this.nativeRange[q](v)}p(this)}}}u.setStartBefore=j("setStartBefore","setEndBefore");u.setStartAfter=j("setStartAfter","setEndAfter");u.setEndBefore=j("setEndBefore","setStartBefore");u.setEndAfter=j("setEndAfter","setStartAfter");m.selectNodeContents(r);u.selectNodeContents=m.startContainer==r&&m.endContainer==r&&m.startOffset==0&&m.endOffset==r.length?function(n){this.nativeRange.selectNodeContents(n);p(this)}:function(n){this.setStart(n,0);this.setEnd(n,g.getEndOffset(n))};m.selectNodeContents(r);m.setEnd(r,3);l=document.createRange();l.selectNodeContents(r);l.setEnd(r,4);l.setStart(r,2);u.compareBoundaryPoints=m.compareBoundaryPoints(m.START_TO_END,l)==-1&m.compareBoundaryPoints(m.END_TO_START,l)==1?function(q,n){n=n.nativeRange||n;if(q==n.START_TO_END){q=n.END_TO_START}else{if(q==n.END_TO_START){q=n.START_TO_END}}return this.nativeRange.compareBoundaryPoints(q,n)}:function(q,n){return this.nativeRange.compareBoundaryPoints(q,n.nativeRange||n)};if(c.util.isHostMethod(m,"createContextualFragment")){u.createContextualFragment=function(n){return this.nativeRange.createContextualFragment(n)}}i.getBody(document).removeChild(r);m.detach();l.detach()})();c.createNativeRange=function(j){j=j||document;return j.createRange()}}else{if(c.features.implementsTextRange){d=function(j){this.textRange=j;this.refresh()};d.prototype=new g(document);d.prototype.refresh=function(){var m,o,l=this.textRange;m=l.parentElement();var j=l.duplicate();j.collapse(true);o=j.parentElement();j=l.duplicate();j.collapse(false);l=j.parentElement();o=o==l?o:i.getCommonAncestor(o,l);o=o==m?o:i.getCommonAncestor(m,o);if(this.textRange.compareEndPoints("StartToEnd",this.textRange)==0){o=m=b(this.textRange,o,true,true)}else{m=b(this.textRange,o,true,false);o=b(this.textRange,o,false,false)}this.setStart(m.node,m.offset);this.setEnd(o.node,o.offset)};g.copyComparisonConstants(d);var f=function(){return this}();if(typeof f.Range=="undefined"){f.Range=d}c.createNativeRange=function(j){j=j||document;return j.body.createTextRange()}}}if(c.features.implementsTextRange){d.rangeToTextRange=function(l){if(l.collapsed){return e(new h(l.startContainer,l.startOffset),true)}else{var m=e(new h(l.startContainer,l.startOffset),true),j=e(new h(l.endContainer,l.endOffset),false);l=i.getDocument(l.startContainer).body.createTextRange();l.setEndPoint("StartToStart",m);l.setEndPoint("EndToEnd",j);return l}}}d.prototype.getName=function(){return"WrappedRange"};c.WrappedRange=d;c.createRange=function(j){j=j||document;return new d(c.createNativeRange(j))};c.createRangyRange=function(j){j=j||document;return new g(j)};c.createIframeRange=function(j){return c.createRange(i.getIframeDocument(j))};c.createIframeRangyRange=function(j){return c.createRangyRange(i.getIframeDocument(j))};c.addCreateMissingNativeApiListener(function(j){j=j.document;if(typeof j.createRange=="undefined"){j.createRange=function(){return c.createRange(this)}}j=j=null})});rangy.createModule("WrappedSelection",function(ao,F){function Q(c){return(c||window).getSelection()}function P(c){return(c||window).document.selection}function ae(c,i,f){var g=f?"end":"start";f=f?"start":"end";c.anchorNode=i[g+"Container"];c.anchorOffset=i[g+"Offset"];c.focusNode=i[f+"Container"];c.focusOffset=i[f+"Offset"]}function R(c){c.anchorNode=c.focusNode=null;c.anchorOffset=c.focusOffset=0;c.rangeCount=0;c.isCollapsed=true;c._ranges.length=0}function y(c){var f;if(c instanceof ap){f=c._selectionNativeRange;if(!f){f=ao.createNativeRange(au.getDocument(c.startContainer));f.setEnd(c.endContainer,c.endOffset);f.setStart(c.startContainer,c.startOffset);c._selectionNativeRange=f;c.attachListener("detach",function(){this._selectionNativeRange=null})}}else{if(c instanceof ak){f=c.nativeRange}else{if(ao.features.implementsDomRange&&c instanceof au.getWindow(c.startContainer).Range){f=c}}}return f}function s(c){var i=c.getNodes(),f;a:if(!i.length||i[0].nodeType!=1){f=false}else{f=1;for(var g=i.length;f<g;++f){if(!au.isAncestorOf(i[0],i[f])){f=false;break a}}f=true}if(!f){throw Error("getSingleElementFromRange: range "+c.inspect()+" did not consist of a single element")}return i[0]}function aq(c,g){var f=new ak(g);c._ranges=[f];ae(c,f,false);c.rangeCount=1;c.isCollapsed=f.collapsed}function an(c){c._ranges.length=0;if(c.docSelection.type=="None"){R(c)}else{var l=c.docSelection.createRange();if(l&&typeof l.text!="undefined"){aq(c,l)}else{c.rangeCount=l.length;for(var g,i=au.getDocument(l.item(0)),f=0;f<c.rangeCount;++f){g=ao.createRange(i);g.selectNode(l.item(f));c._ranges.push(g)}c.isCollapsed=c.rangeCount==1&&c._ranges[0].collapsed;ae(c,c._ranges[c.rangeCount-1],false)}}}function aj(c,p){var i=c.docSelection.createRange(),n=s(p),g=au.getDocument(i.item(0));g=au.getBody(g).createControlRange();for(var l=0,q=i.length;l<q;++l){g.add(i.item(l))}try{g.add(n)}catch(f){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}g.select();an(c)}function af(c,g,f){this.nativeSelection=c;this.docSelection=g;this._ranges=[];this.win=f;this.refresh()}function U(c,n){var g=au.getDocument(n[0].startContainer);g=au.getBody(g).createControlRange();for(var l=0,f;l<rangeCount;++l){f=s(n[l]);try{g.add(f)}catch(i){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}g.select();an(c)}function al(c,f){if(c.anchorNode&&au.getDocument(c.anchorNode)!==au.getDocument(f)){throw new E("WRONG_DOCUMENT_ERR")}}function ah(c){var n=[],g=new am(c.anchorNode,c.anchorOffset),l=new am(c.focusNode,c.focusOffset),f=typeof c.getName=="function"?c.getName():"Selection";if(typeof c.rangeCount!="undefined"){for(var i=0,p=c.rangeCount;i<p;++i){n[i]=ap.inspect(c.getRangeAt(i))}}return"["+f+"(Ranges: "+n.join(", ")+")(anchor: "+g.inspect()+", focus: "+l.inspect()+"]"}ao.requireModules(["DomUtil","DomRange","WrappedRange"]);ao.config.checkSelectionRanges=true;var au=ao.dom,at=ao.util,ap=ao.DomRange,ak=ao.WrappedRange,E=ao.DOMException,am=au.DomPosition,ai,ag,T=ao.util.isHostMethod(window,"getSelection"),m=ao.util.isHostObject(document,"selection"),G=m&&(!T||ao.config.preferTextRange);if(G){ai=P;ao.isSelectionValid=function(c){c=(c||window).document;var f=c.selection;return f.type!="None"||au.getDocument(f.createRange().parentElement())==c}}else{if(T){ai=Q;ao.isSelectionValid=function(){return true}}else{F.fail("Neither document.selection or window.getSelection() detected.")}}ao.getNativeSelection=ai;T=ai();var ac=ao.createNativeRange(document),h=au.getBody(document),j=at.areHostObjects(T,at.areHostProperties(T,["anchorOffset","focusOffset"]));ao.features.selectionHasAnchorAndFocus=j;var aa=at.isHostMethod(T,"extend");ao.features.selectionHasExtend=aa;var ad=typeof T.rangeCount=="number";ao.features.selectionHasRangeCount=ad;var b=false,d=true;at.areHostMethods(T,["addRange","getRangeAt","removeAllRanges"])&&typeof T.rangeCount=="number"&&ao.features.implementsDomRange&&function(){var c=document.createElement("iframe");c.frameBorder=0;c.style.position="absolute";c.style.left="-10000px";h.appendChild(c);var l=au.getIframeDocument(c);l.open();l.write("<html><head></head><body>12</body></html>");l.close();var g=au.getIframeWindow(c).getSelection(),i=l.documentElement.lastChild.firstChild;l=l.createRange();l.setStart(i,1);l.collapse(true);g.addRange(l);d=g.rangeCount==1;g.removeAllRanges();var f=l.cloneRange();l.setStart(i,0);f.setEnd(i,2);g.addRange(l);g.addRange(f);b=g.rangeCount==2;l.detach();f.detach();h.removeChild(c)}();ao.features.selectionSupportsMultipleRanges=b;ao.features.collapsedNonEditableSelectionsSupported=d;var D=false,ar;if(h&&at.isHostMethod(h,"createControlRange")){ar=h.createControlRange();if(at.areHostProperties(ar,["item","add"])){D=true}}ao.features.implementsControlRange=D;ag=j?function(c){return c.anchorNode===c.focusNode&&c.anchorOffset===c.focusOffset}:function(c){return c.rangeCount?c.getRangeAt(c.rangeCount-1).collapsed:false};var e;if(at.isHostMethod(T,"getRangeAt")){e=function(c,g){try{return c.getRangeAt(g)}catch(f){return null}}}else{if(j){e=function(c){var f=au.getDocument(c.anchorNode);f=ao.createRange(f);f.setStart(c.anchorNode,c.anchorOffset);f.setEnd(c.focusNode,c.focusOffset);if(f.collapsed!==this.isCollapsed){f.setStart(c.focusNode,c.focusOffset);f.setEnd(c.anchorNode,c.anchorOffset)}return f}}}ao.getSelection=function(c){c=c||window;var i=c._rangySelection,f=ai(c),g=m?P(c):null;if(i){i.nativeSelection=f;i.docSelection=g;i.refresh(c)}else{i=new af(f,g,c);c._rangySelection=i}return i};ao.getIframeSelection=function(c){return ao.getSelection(au.getIframeWindow(c))};ar=af.prototype;if(!G&&j&&at.areHostMethods(T,["removeAllRanges","addRange"])){ar.removeAllRanges=function(){this.nativeSelection.removeAllRanges();R(this)};var o=function(c,g){var f=ap.getRangeDocument(g);f=ao.createRange(f);f.collapseToPoint(g.endContainer,g.endOffset);c.nativeSelection.addRange(y(f));c.nativeSelection.extend(g.startContainer,g.startOffset);c.refresh()};ar.addRange=ad?function(c,g){if(D&&m&&this.docSelection.type=="Control"){aj(this,c)}else{if(g&&aa){o(this,c)}else{var f;if(b){f=this.rangeCount}else{this.removeAllRanges();f=0}this.nativeSelection.addRange(y(c));this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==f+1){if(ao.config.checkSelectionRanges){if((f=e(this.nativeSelection,this.rangeCount-1))&&!ap.rangesEqual(f,c)){c=new ak(f)}}this._ranges[this.rangeCount-1]=c;ae(this,c,X(this.nativeSelection));this.isCollapsed=ag(this)}else{this.refresh()}}}}:function(c,f){if(f&&aa){o(this,c)}else{this.nativeSelection.addRange(y(c));this.refresh()}};ar.setRanges=function(c){if(D&&c.length>1){U(this,c)}else{this.removeAllRanges();for(var g=0,f=c.length;g<f;++g){this.addRange(c[g])}}}}else{if(at.isHostMethod(T,"empty")&&at.isHostMethod(ac,"select")&&D&&G){ar.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var c;if(this.anchorNode){c=au.getDocument(this.anchorNode)}else{if(this.docSelection.type=="Control"){var g=this.docSelection.createRange();if(g.length){c=au.getDocument(g.item(0)).body.createTextRange()}}}if(c){c.body.createTextRange().select();this.docSelection.empty()}}}catch(f){}R(this)};ar.addRange=function(c){if(this.docSelection.type=="Control"){aj(this,c)}else{ak.rangeToTextRange(c).select();this._ranges[0]=c;this.rangeCount=1;this.isCollapsed=this._ranges[0].collapsed;ae(this,c,false)}};ar.setRanges=function(c){this.removeAllRanges();var f=c.length;if(f>1){U(this,c)}else{f&&this.addRange(c[0])}}}else{F.fail("No means of selecting a Range or TextRange was found");return false}}ar.getRangeAt=function(c){if(c<0||c>=this.rangeCount){throw new E("INDEX_SIZE_ERR")}else{return this._ranges[c]}};var ab;if(G){ab=function(c){var f;if(ao.isSelectionValid(c.win)){f=c.docSelection.createRange()}else{f=au.getBody(c.win.document).createTextRange();f.collapse(true)}if(c.docSelection.type=="Control"){an(c)}else{f&&typeof f.text!="undefined"?aq(c,f):R(c)}}}else{if(at.isHostMethod(T,"getRangeAt")&&typeof T.rangeCount=="number"){ab=function(c){if(D&&m&&c.docSelection.type=="Control"){an(c)}else{c._ranges.length=c.rangeCount=c.nativeSelection.rangeCount;if(c.rangeCount){for(var g=0,f=c.rangeCount;g<f;++g){c._ranges[g]=new ao.WrappedRange(c.nativeSelection.getRangeAt(g))}ae(c,c._ranges[c.rangeCount-1],X(c.nativeSelection));c.isCollapsed=ag(c)}else{R(c)}}}}else{if(j&&typeof T.isCollapsed=="boolean"&&typeof ac.collapsed=="boolean"&&ao.features.implementsDomRange){ab=function(c){var f;f=c.nativeSelection;if(f.anchorNode){f=e(f,0);c._ranges=[f];c.rangeCount=1;f=c.nativeSelection;c.anchorNode=f.anchorNode;c.anchorOffset=f.anchorOffset;c.focusNode=f.focusNode;c.focusOffset=f.focusOffset;c.isCollapsed=ag(c)}else{R(c)}}}else{F.fail("No means of obtaining a Range or TextRange from the user's selection was found");return false}}}ar.refresh=function(c){var f=c?this._ranges.slice(0):null;ab(this);if(c){c=f.length;if(c!=this._ranges.length){return false}for(;c--;){if(!ap.rangesEqual(f[c],this._ranges[c])){return false}}return true}};var av=function(c,n){var g=c.getAllRanges(),l=false;c.removeAllRanges();for(var f=0,i=g.length;f<i;++f){if(l||n!==g[f]){c.addRange(g[f])}else{l=true}}c.rangeCount||R(c)};ar.removeRange=D?function(c){if(this.docSelection.type=="Control"){var n=this.docSelection.createRange();c=s(c);var g=au.getDocument(n.item(0));g=au.getBody(g).createControlRange();for(var l,f=false,i=0,p=n.length;i<p;++i){l=n.item(i);if(l!==c||f){g.add(n.item(i))}else{f=true}}g.select();an(this)}else{av(this,c)}}:function(c){av(this,c)};var X;if(!G&&j&&ao.features.implementsDomRange){X=function(c){var f=false;if(c.anchorNode){f=au.comparePoints(c.anchorNode,c.anchorOffset,c.focusNode,c.focusOffset)==1}return f};ar.isBackwards=function(){return X(this)}}else{X=ar.isBackwards=function(){return false}}ar.toString=function(){for(var c=[],g=0,f=this.rangeCount;g<f;++g){c[g]=""+this._ranges[g]}return c.join("")};ar.collapse=function(c,g){al(this,c);var f=ao.createRange(au.getDocument(c));f.collapseToPoint(c,g);this.removeAllRanges();this.addRange(f);this.isCollapsed=true};ar.collapseToStart=function(){if(this.rangeCount){var c=this._ranges[0];this.collapse(c.startContainer,c.startOffset)}else{throw new E("INVALID_STATE_ERR")}};ar.collapseToEnd=function(){if(this.rangeCount){var c=this._ranges[this.rangeCount-1];this.collapse(c.endContainer,c.endOffset)}else{throw new E("INVALID_STATE_ERR")}};ar.selectAllChildren=function(c){al(this,c);var f=ao.createRange(au.getDocument(c));f.selectNodeContents(c);this.removeAllRanges();this.addRange(f)};ar.deleteFromDocument=function(){if(D&&m&&this.docSelection.type=="Control"){for(var c=this.docSelection.createRange(),g;c.length;){g=c.item(0);c.remove(g);g.parentNode.removeChild(g)}this.refresh()}else{if(this.rangeCount){c=this.getAllRanges();this.removeAllRanges();g=0;for(var f=c.length;g<f;++g){c[g].deleteContents()}this.addRange(c[f-1])}}};ar.getAllRanges=function(){return this._ranges.slice(0)};ar.setSingleRange=function(c){this.setRanges([c])};ar.containsNode=function(c,i){for(var f=0,g=this._ranges.length;f<g;++f){if(this._ranges[f].containsNode(c,i)){return true}}return false};ar.toHtml=function(){var c="";if(this.rangeCount){c=ap.getRangeDocument(this._ranges[0]).createElement("div");for(var g=0,f=this._ranges.length;g<f;++g){c.appendChild(this._ranges[g].cloneContents())}c=c.innerHTML}return c};ar.getName=function(){return"WrappedSelection"};ar.inspect=function(){return ah(this)};ar.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null};af.inspect=ah;ao.Selection=af;ao.selectionPrototype=ar;ao.addCreateMissingNativeApiListener(function(c){if(typeof c.getSelection=="undefined"){c.getSelection=function(){return ao.getSelection(this)}}c=null})});(function(b){b.fn.plasticKeyFilter=function(d,c){return this.filter(function(){return((b(this).data("plastic-key")===d)&&(b(this).data("plastic-store")===c))})};b.fn.plasticMax=function(c){return Math.max.apply(null,this.map(function(d,e){return c.apply(e)}).get())};b.fn.plasticMin=function(c){return Math.min.apply(null,this.map(function(d,e){return c.apply(e)}).get())};b.fn.plasticDataSorter=function(c){return this.sort(function(e,d){b(e).data(c)-b(d).data(c)})};b.each(["show","hide"],function(d,c){var e=b.fn[c];b.fn[c]=function(f){return e.apply(this,arguments).trigger(c+".plastic")}});b.each(["post","get","put","delete"],function(d,c){b[c]=function(g,l,m,h){if(b.isFunction(l)){h=h||m;m=l;l=undefined}var j={url:g,type:c.toUpperCase(),dataType:h,data:l,success:function(){Plastic.Authenticated.call(this);if(b.isFunction(m)){m.apply(this,Array.prototype.slice.call(arguments))}}},i=undefined,e=undefined,f=b.Deferred();e=function(){var p=Array.prototype.slice.call(arguments);var n=Plastic.Util("Authentication");if((i.status===401)&&(e.fails++<10)){var o=n.getStatus.call(i,j);var q=n.getChallenge.call(i,j);var r=((j)&&(j.headers)&&(j.headers.Authorization))?((o)&&(o.message))?((q)&&(q.realm))?o.message.replace(/\.$/,"")+": [ "+q.realm+" ]":o.message:((q)&&(q.realm))?"Credentials failed to access resource: [ "+q.realm+" ]":"Credentials failed to access resource.":((q)&&(q.realm))?"Login credentials are requested for this application: [ "+q.realm+" ]":"Login credentials are requested for this application";Plastic.Feedback.call(this,'<span class="plastic-system-feedback-title">'+i.statusText+":</span>"+r,"warning",undefined,undefined,{decay:10,force:true});Plastic.Authenticate.call(i,j,function(s){i=b.ajax(j);i.then(f.resolve,e)})}else{f.rejectWith(i,p)}};e.fails=0;i=b.ajax(j).done(f.resolve).fail(e);return f.promise(i)}})})(jQuery);(function(b,c){b._PlasticRuntime={};b._PlasticPrefs=c.extend({},{BugPriority:0,BugCategory:/^none$/i,AuthUserCookie:"PDMK_USER",AuthUserPattern:/^.{8}.*$/,AuthPassPattern:/^.{8}.*$/,FeedbackIgnoreCookie:"PDMK_FBIGNORE",FeedbackIgnore:/^()$/,FeedbackIconCookie:"PDMK_FBICON",FeedbackIconOnly:/^(information|success)$/},b._PlasticPrefs);b._PlasticBug=function(g,e,f,h){if(_PlasticPrefs){var d=(((e===undefined)&&(f===undefined))||((_PlasticPrefs.BugCategory)&&(_PlasticPrefs.BugCategory.test(f))&&(_PlasticPrefs.BugPriority>-1)&&(e<=_PlasticPrefs.BugPriority))||((_PlasticPrefs.BugCategory===undefined)&&(_PlasticPrefs.BugPriority>-1)&&(e<=_PlasticPrefs.BugPriority)));if((d)&&(window.console)){if((h)&&(/^log|debug|info|warn|error$/.test(h))&&(console[h])){console[h](g)}else{if(console.log){if(h){g=h.toUpperCase()+": "+g}console.log(g)}}}}};b.cl=((b.console)&&(b.console.log))?console.log:function(){};b.module=function(){};b.test=function(){};b.ok=function(){};if(c.error_pre===undefined){c.error_pre=c.error}c.error=function(g,e,d){var i=g,f=e,h=d;if(/plastic/.test(e)){c.get(f,function(l){var j=l.split(/\n/);alert("PDMK INITIALIZATION ERROR:\n\n...\n"+j[h-1].replace(/^\s+/,"")+"\n...\n! "+i+"\n----\n"+f.replace(/^(file|https?):\/\/[^\/]+\//i,"/")+":"+h+"\n----\n")},"text").error(function(j){Plastic.Feedback(j)})}else{return c.error_pre(g,e,d)}};b.onerror=c.error;b.onbeforeunload=function(){};b.Plastic=new function(){var e=[];this.version="1.0.0b1";this.release="Public Beta [Epoxy]";this.ready=function(j){e.push([this,j])};this.Cookie=function(j,q,t,l){var m=undefined;if(j!==null){if(q!==undefined){var p=j+"="+q.replace(/;/g,"%3B");p+=(t!==undefined)?"; Path="+t:(_PlasticPrefs.CookieBase!==undefined)?"; Path="+_PlasticPrefs.CookieBase:"";p+=(l!==undefined)?"; Expires="+new Date(l).toUTCString():"";document.cookie=p}else{var s=document.cookie.split(/;\s+/);for(var n=0;n<s.length;n++){var r=s[n].split(/=/);var o=r.shift();if(o===j){m=r.join("=").replace(/%3B/ig,";")}}}}return m};this.Authenticated=function(l,j){c(".plastic-commit-pane").removeClass("plastic-not-authenticated").hide()};this.Authenticate=function(n,p,l){var m=this;var j=Plastic.Util("Authentication");var o=Plastic.Cookie(_PlasticPrefs.AuthUserCookie);c("#plastic-auth-user").val((o!==undefined)?o:"");c(".plastic-commit-pane").addClass("plastic-not-authenticated").show();c("#plastic-auth-signon").one("click",function(){c(".plastic-commit-pane").removeClass("plastic-not-authenticated");if((p!==undefined)&&(typeof(p)==="function")){var r={};var q=c("#plastic-auth-user").val(),t=c("#plastic-auth-pass").val();Plastic.Cookie(_PlasticPrefs.AuthUserCookie,q);var s=j.getResponse.call(m,n,q,t);n.headers={Authorization:s.header};p.call(m,r)}else{}})};this.RegisterPlaybook=function(l,j){if(_PlasticRuntime.playbook!==undefined){}_PlasticRuntime.playbook=l};this.RegisterDatastore=function(p,l){if(_PlasticRuntime.datastore===undefined){_PlasticRuntime.datastore={}}var q=_PlasticRuntime.datastore;var o={fns:["createRowHandler","readRowHandler","updateRowHandler","deleteRowHandler","commitRowHandler","searchRowHandler","authenticateHandler","securityContextHandler","syntaxRowHandler"],opts:["anchor","commit","rowDefault","includeRoot","trimDelimiter","delimiter","rootRowObject","augment","type","attributes","selected","dateFormat","prettyNames"]};for(var j in p){if(j.substr(0,1)==="_"){continue}if(q[j]===undefined){q[j]=new PlasticDatastore(j,{data:p[j].data});for(var m=0;m<o.fns.length;m++){if(typeof(p[j][o.fns[m]])==="function"){q[j][o.fns[m]]=p[j][o.fns[m]]}else{if(("_default" in p)&&(o.fns[m] in p._default)&&(typeof(p._default[o.fns[m]])==="function")){q[j][o.fns[m]]=p._default[o.fns[m]]}}}for(var n=0;n<o.opts.length;n++){if(o.opts[n] in p[j]){q[j].option(o.opts[n],p[j][o.opts[n]])}else{if(("_default" in p)&&(o.opts[n] in p._default)){q[j].option(o.opts[n],p._default[o.opts[n]])}}}}else{}}};var h=0;this.BuildPlaybook=function(r,s){if(_PlasticRuntime.root===undefined){_PlasticRuntime.root=s;if(c("#qunit").length===0){c("body").append(c('<div id="qunit" /><div id="qunit-fixture" />'))}c(_PlasticRuntime.root).addClass("plastic-root plastic-loading");if((document.all)||(/rv:11\./.test(navigator.userAgent))){c(_PlasticRuntime.root).addClass("plastic-browser-msie")}_PlasticRuntime.imgbase=c(".plastic-root").css("background-image").replace(/^[^(]*\("|[^/]*$/g,"")}var n=[];for(var j in r){n[n.length]=j}for(var u=0;u<n.length;u++){var o=r[n[u]].type.split("-")[0];var q=r[n[u]].type.split("-")[1];if(_PlasticRuntime.inventory[n[u]]!==undefined){throw new Error("Duplicate id found in playbook for: "+n[u])}else{if(/^Plastic/i.test(n[u])){throw new Error("Reserved id found in playbook for: "+n[u])}else{_PlasticRuntime.inventory[n[u]]=r[n[u]];_PlasticRuntime.domnode[n[u]]=c(s).append(c('<div id="'+n[u]+'" class="Plastic '+r[n[u]].type+" pre-init build-"+(++h)+'" />'))}}if(r[n[u]].children){var t=r[n[u]].children;var m="#"+n[u];Plastic.BuildPlaybook(t,m)}r.parent=s;var m=c("#"+n[u])["plastic"+o](q,c.extend(r[n[u]].options,{index:r[n[u]].index,parent:s}));if((r[n[u]])&&(r[n[u]].options)&&(r[n[u]].options.datastore)){var p=_PlasticRuntime.datastore;if(p[r[n[u]].options.datastore]!==undefined){if(typeof(m.bindDatastore)==="function"){var l=(r[n[u]].options.namespace!==undefined)?r[n[u]].options.namespace:"default";m.bindDatastore(p[r[n[u]].options.datastore],l)}else{if((m.length)&&(typeof(m[0].bindDatastore)==="function")){var l=(r[n[u]].options.namespace!==undefined)?r[n[u]].options.namespace:"default";m[0].bindDatastore(p[r[n[u]].options.datastore],l)}else{}}}}}};this.Util=function(j){var l=undefined;switch(j){case"Authentication":l={_field_values:function(o,n,t){var r={};r[o]={};for(var p=0;p<n.length;p++){if(/^[A-Za-z0-9!#$%&'*+.^_`|~-]+=\1$/.test(n[p])){r[o][n[p].replace(/=.*$/,"")]=t.shift().replace(/\1/g,'"')}else{if(/^[A-Za-z0-9!#$%&'*+.^_`|~-]+=[A-Za-z0-9!#$%&'*+.^_`|~-]+$/.test(n[p])){r[o][n[p].replace(/=.*$/,"")]=n[p].replace(/^.*=/,"")}else{if((n.length===1)&&(/^[A-Za-z0-9!#$%&'*+.^_`|~-]+$/.test(n[p]))){r[o][">"]=n[p]}else{}}}}if("data" in r[o]){try{var m=atob(r[o].data);m=JSON.parse(m);delete (r[o].data);for(var q in m){r[o][q]=m[q]}}catch(s){}}return r},_field_parser:function(r,s){var p=undefined,o=[],q=undefined;while(r.length){var m=r.shift();if(p===undefined){p=m}else{if((o.length===0)||(r.length===0)||(/(,$|=)/.test(m))){o[o.length]=m.replace(/,$/,"")}else{var n=l._field_values(p,o,s);if(p==="|pdmk|"){q=n;break}p=m;o=[]}}}if((p==="|pdmk|")&&(o.length)){q=l._field_values(p,o,s)}return q},_hash:function(n,p,o){var m=c.extend({},{shakeLen:p});var q=new jsSHA(n,"TEXT");q.update(o);return q.getHash("HEX",m)},getChallenge:function(p){var o=this;var n=undefined;var q=[];var m=o.getResponseHeader("WWW-Authenticate");m=m.replace(/\1/g,"").replace(/\\\"/g,"\1").replace(/"[^"]*"/g,function(r){q[q.length]=r.replace(/^"|"$/g,"");return"\1"}).split(/[\s]+/);m=l._field_parser(m,q);n=((m)&&(m["|pdmk|"]))?m["|pdmk|"]:{};return n},getResponse:function(p,r,y){var v=this;var q=undefined;var x=l.getChallenge.call(v,p);var m={};m.user=r;m.nonce=x.nonce;m.opaque=x.opaque;m.type=x.type;var t=(typeof(x.algorithms)==="string")?x.algorithms.split("|"):[];m.aweight=-1;while(t.length){var u=t.shift().toUpperCase();var s=0;switch(u){case"SHAKE256":s+=1;case"SHAKE128":s+=1;m.bitLength=1024;case"SHA3-512":s+=1;case"SHA-512":s+=1;case"SHA3-384":s+=1;case"SHA-384":s+=1;case"SHA3-256":s+=1;case"SHA-256":s+=1;case"SHA3-224":s+=1;case"SHA-224":s+=1;case"SHA-1":s+=1;if((s>0)&&(s>m.aweight)){m.algorithm=u;m.aweight=s}break;default:m.error="Unable to negotiate a secure algorithm for authenticating against server"}}if("algorithm" in m){delete (m.aweight);m.tokenRaw=[m.algorithm,m.bitLength,m.user,m.nonce,m.algorithm,m.bitLength,y];m.token=l._hash(m.algorithm,m.bitLength,m.user+":"+m.nonce+":"+l._hash(m.algorithm,m.bitLength,y));try{var n=JSON.stringify(m);n=btoa(n);q={data:m,header:'|pdmk| data="'+n+'"'}}catch(o){}}else{}return q},getStatus:function(q){var p=this;var n=undefined;try{var m=JSON.parse(p.responseText);n=m.status}catch(o){}return n}};break;default:l={}}return l};this.SizeFrame=function(j){var l=parseInt(c(this).height());c(this).css("top",-(l));c(this).closest(".stack-tab-wrap").css("border-top-width",l)};this.Action=function(t,r,m){var l;var v=this["plastic"+this.isplastic];var o=((this.plasticopts)&&(this.plasticopts.datastore))?_PlasticRuntime.datastore[this.plasticopts.datastore]:null;var q=((this.plasticopts)&&(this.plasticopts.namespace))?this.plasticopts.namespace:"default";var z=((m)&&(m.path))?m.path:null;var n=((m)&&(m.against))?m.against:null;switch(r){case"create":if(o){o.createRow(t.key,v.rowsCreated,c.extend({},m,{namespace:q}))}else{throw new Error("Unable to locate datastore for to create row")}break;case"delete":if(o){o.deleteRow(t.key,v.rowsDeleted,c.extend({},m,{namespace:q}))}else{throw new Error("Unable to locate datastore for to delete key: "+t.key)}break;case"cut":if(o){if(!(o.clipboard)){o.clipboard=[]}if(o.clipboard.length){var x=o.clipboard[o.clipboard.length-1];o.clipboard.splice(o.clipboard.length-1,1);o.updateRow(x.key,[{status:"deleting",id:o.nextSequence()},{deleted:null}],v.rowsUpdated,c.extend({},m,{namespace:q}))}o.clipboard[o.clipboard.length]=t;o.deleteRow(t.key,v.rowsDeleted,c.extend({},m,{namespace:q}))}break;case"copy":if(o){if(!(o.clipboard)){o.clipboard=[]}o.clipboard[o.clipboard.length]=t}break;case"paste":if((o)&&(o.clipboard)&&(o.clipboard.length)){o.createRow(t.key,function(G,B){var E=((G.length>1)&&(G[1].isolated))?G[1].isolated:null;var D=((G.length>1)&&(G[1].key))?G[1].key:null;var C=((G.length>1)&&(G[1].parentKey))?G[1].parentKey:null;var A=((G.length>1)&&(G[1].attributes))?G[1].attributes:{};var F=((G.length>1)&&(G[1].clipboard))?G[1].clipboard:{};G[1]=c.extend(true,{},o.clipboard[o.clipboard.length-1]);G[1].isolated=E;G[1].key=D;G[1].parentKey=C;G[1].attributes=c.extend({},G[1].attributes,F);o.clipboard.splice(o.clipboard.length-1,1);v.rowsCreated(G,B)},m)}break;case"prev":case"reverse":if((o)&&(z)&&(z==="-")){var j=function(A){var B=null;A=o.readCache(A.prev,m);if((A!==null)&&(A.firstChild)){while(A.firstChild){A=o.readCache(A.firstChild,m);var C=((A.siblings)&&(typeof(A.siblings)==="function"))?A.siblings(true):null;if(C!==null){B=(C.length===0)?A.key:C[C.length-1];A=o.readCache(B,c.extend({},m,{namespace:q}))}else{B=null}}}else{if(A!==null){B=A.key}}return B};var s=(n==="-")?(t.prev!==null)?(t.firstChild)?j(t):t.prev:t.parentKey:t.prev;if(s!==null){c(this).trigger("rowactivate.plastic",{key:s})}}else{}break;case"next":case"forward":if((o)&&(z)&&(z==="-")){var y=function(A){var B=null;while(B===null){if(A===null){break}else{B=A.next;A=o.readCache(A.parentKey,c.extend({},m,{namespace:q}))}}return B};var u=(n==="-")?(t.firstChild)?t.firstChild:(t.next!==null)?t.next:y(t):t.next;if(u!==null){c(this).trigger("rowactivate.plastic",{key:u})}}else{}break;case"security":break;case"undo":break;case"reload":if(o){o.readRows(t.key,function(B,A){v.reloadChildren(t.key,A)},c.extend({},m,{namespace:q}))}else{throw new Error("Unable to locate datastore to reload key: "+t.key)}break;case"clear":case"cancel":if(o){o.forgetRow(t.key,c.extend({},m,{namespace:q}));o.updateRow(t.key,[{status:"clear",id:o.nextSequence()},{}],v.rowsUpdated,c.extend({},m,{namespace:q}))}else{throw new Error("Unable to locate datastore to cancel key: "+t.key)}break;case"close":break;case"commit":if(o){var p=((m)&&(m.keyset))?m.keyset:{};p[t.key]=t.key;_PlasticRuntime.system.commitpane.show();o.commitRow([{status:"commit",id:o.nextSequence()},t],v.rowsCommitted,c.extend({},m,{keyset:p,namespace:q}))}else{throw new Error("Unable to locate datastore to commit key: "+t.key)}break;default:break}return l};this.ActionTests=function(q,p,l){var j=[];var r=this["plastic"+this.isplastic];var n=((this.plasticopts)&&(this.plasticopts.datastore))?_PlasticRuntime.datastore[this.plasticopts.datastore]:null;var o=((this.plasticopts)&&(this.plasticopts.namespace))?this.plasticopts.namespace:"default";var s=((l)&&(l.path))?l.path:null;var m=((l)&&(l.against))?l.against:null;l=c.extend({},l,{namespace:o});switch(p){case"create":j[j.length]=((s)||(m))?["cancreate",s,m,l]:"cancreate";break;case"read":j[j.length]=((s)||(m))?["canread",s,m,l]:"canread";break;case"update":j[j.length]=((s)||(m))?["canupdate",s,m,l]:"canupdate";break;case"delete":j[j.length]=((s)||(m))?["candelete",s,m,l]:"candelete";break;case"edit":j[j.length]=((s)||(m))?["canupdate",s,m,l]:"canupdate";break;case"branch":break;case"hyperlink":break;case"less":j[j.length]=((s)||(m))?["isless",s,m,l]:"isless";break;case"greater":j[j.length]=((s)||(m))?["isgreater",s,m,l]:"isgreater";break;case"like":j[j.length]=((s)||(m))?["islike",s,m,l]:"islike";break;case"equal":j[j.length]=((s)||(m))?["isequal",s,m,l]:"isequal";break;case"cut":j[j.length]="candelete";break;case"copy":j[j.length]="canread";break;case"paste":j[j.length]="not-ancestor";j[j.length]="cancreate";j[j.length]="canpaste";break;case"reverse":case"prev":j[j.length]="canreverse";break;case"forward":case"next":j[j.length]="canforward";break;case"reload":j[j.length]="canreload";break;case"clear":case"cancel":j[j.length]="dirty";break;case"clearall":break;case"reset":break;case"close":break;case"commit":j[j.length]="dirty";j[j.length]="not-error";break;case"commitblock":break;case"commitall":break;case"security":break;case"undo":break;case"undoall":break;case"redo":break;case"redoall":break;case"ping":j[j.length]="cancreate";break}return j};this.Test=function(t,D,r){var F=false;var q=this["plastic"+this.isplastic];var p=((t)&&(t.actions))?t.actions:{};var l=((t)&&(t.flags))?t.flags:{};var z=((this.plasticopts)&&(this.plasticopts.datastore))?_PlasticRuntime.datastore[this.plasticopts.datastore]:null;var u=((this.plasticopts)&&(this.plasticopts.namespace))?this.plasticopts.namespace:"default";r=c.extend({},r,{namespace:u});if((D instanceof Array)&&(D.length>=2)){r=c.extend({},r,(D.length>2)?{path:D[1],against:D[2]}:{path:D[1]});D=D[0]}var A=undefined;var x=((r)&&(r.path))?r.path:null;var m=((r)&&(r.against))?r.against:null;switch((typeof D==="string")?D.replace(/^(!|not-)/,""):"default"){case"cancreate":A="create";if(typeof(p)==="function"){F=((p.call(z,t,x,m)[A]===undefined)||(p.call(z,t,x,m)[A]))}else{F=((p[A]===undefined)||(p[A]))}F=((F)&&(!(t.deleted))&&(!(t.ancestorFlag("deleted"))));break;case"canread":A="read";if(typeof(p)==="function"){F=((p.call(z,t,x,m)[A]===undefined)||(p.call(z,t,x,m)[A]))}else{F=((p[A]===undefined)||(p[A]))}break;case"canupdate":A="update";if(typeof(p)==="function"){F=((p.call(z,t,x,m)[A]===undefined)||(p.call(z,t,x,m)[A]))}else{F=((p[A]===undefined)||(p[A]))}break;case"candelete":A="delete";if(typeof(p)==="function"){F=((p.call(z,t,x,m)[A]===undefined)||(p.call(z,t,x,m)[A]))}else{F=((p[A]===undefined)||(p[A]))}F=((F)&&(!(t.deleted))&&(!((t.ancestorFlag)&&(t.ancestorFlag("deleted")))));break;case"canclose":break;case"isancestor":break;case"isdescendant":break;case"isless":if((t)&&(x)&&(m)){var y=((t.attributes)&&(t.attributes[x]))?t.attributes[x]:t[x]?t[x]:null;F=((y!==null)&&(y<m))}else{F=false}break;case"isgreater":if((t)&&(x)&&(m)){var y=((t.attributes)&&(t.attributes[x]))?t.attributes[x]:t[x]?t[x]:null;F=((y!==null)&&(y>m))}else{F=false}break;case"islike":m=new RegExp(m);case"isequal":if((t)&&(x)&&(m)){var y=((t.attributes)&&(t.attributes[x]))?t.attributes[x]:t[x]?t[x]:null;F=(y===null)?false:(m instanceof RegExp)?(m.test(y)):(y===m)}else{F=false}break;case"doesexist":F=((t)&&(t[x]!==undefined));break;case"hasselection":var B=(x)?x.replace(/^@/,"")+"#selected":null;F=((B)&&(t)&&(t.attributes)&&(t.attributes[B]));break;case"selectionhas":var B=(x)?x.replace(/^@/,"")+"#selected":null;if((B)&&(t)&&(t.attributes)&&(t.attributes[B])){for(var v in t.attributes[B]){var C=c.extend({},t);if(F=Plastic.Test(C,m,{path:x,against:v})){break}}}break;case"type":break;case"dirty":F=((t)&&(t.dirty));break;case"deleted":F=((t)&&(t.deleted));break;case"error":F=((t)&&(t.error));break;case"isolated":F=((t)&&(t.isolated));break;case"disabled":F=((t)&&((t.disabled)||((t.ancestorFlag)&&(t.ancestorFlag("disabled")))));break;case"canpaste":F=((z)&&(z.clipboard)&&(z.clipboard.length)&&(z.clipboard[z.clipboard.length-1].parentKey)&&(t)&&(t.key)&&(t.key!==z.clipboard[z.clipboard.length-1].parentKey));break;case"canreload":F=true;break;case"canforward":if((z)&&(x)&&(x==="-")){var j=function(H){var I=null;while(I===null){if(H===null){break}else{I=H.next;H=z.readCache(H.parentKey,r)}}return I};var o=((m==="-")||((m)&&(t[m])))?(t.firstChild)?t.firstChild:(t.next!==null)?t.next:j(t):t.next;if(o!==null){if((m)&&(t[m])){var G=z.readCache(o,r)[m];F=(G===t[m])}else{F=true}}else{F=false}}else{}break;case"canreverse":if((z)&&(x)&&(x==="-")){var E=function(H){var I=null;H=z.readCache(H.prev,r);if((H!==null)&&(H.firstChild)){while(H.firstChild){H=z.readCache(H.firstChild,r);var J=((H.siblings)&&(typeof(H.siblings)==="function"))?H.siblings(true):null;if(J!==null){I=(J.length===0)?H.key:J[J.length-1];H=z.readCache(I,r)}else{I=null}}}else{if(H!==null){I=H.key}}return I};var n=((m==="-")||((m)&&(t[m])))?(t.prev!==null)?(t.firstChild)?E(t):t.prev:t.parentKey:t.prev;if(n!==null){if((m)&&(t[m])){var s=z.readCache(n,r)[m];F=(s===t[m])}else{F=true}}else{F=false}}else{}break;case"canredo":break;case"canundo":break;case"cancommit":break;default:break}return((typeof(D)==="string")&&(/^(!|not-)/.test(D)))?!F:F};this.Tests=function(r,o,n){var s,l;var q=false;var p=this;var u=r;var t=o;var m=n;var j=function(){for(var v=0;v<o.length;v++){q=Plastic.Test.call(p,u,t[v],m);if(!(q)){break}}if(q){(typeof(s)==="function")&&s()}else{(typeof(l)==="function")&&l()}};setTimeout(j,0);this.pass=function(v){s=v;return this};this.fail=function(v){l=v;return this};return this};var f={};this.LossyFormUpdate=function(n){var j=n,l=this,m;n.stopPropagation();if(f[n.target.id]){clearTimeout(f[n.target.id]);delete (f[n.target.id])}m=c(this).closest(".widget-form");f[n.target.id]=setTimeout(function(){Plastic.FormUpdate.call(l,j,m)},300)};this.FormUpdate=function(A,j,q){A.stopPropagation();if(!j){j=c(this).closest(".widget-form")}var m=new RegExp("^"+j.attr("id")+"_");var C=c("#"+j.attr("id")).data("plastic-key");var v=((j)&&(j.length>0)&&(j[0].source)&&(j[0].source.length>0))?j[0].source[0]:undefined;var z=((v)&&(v.plasticopts)&&(v.plasticopts.datastore))?v.plasticopts.datastore:((j)&&(j.length>0)&&(j[0].datastore))?j[0].datastore:undefined;var r=((v)&&(v.plasticopts)&&(v.plasticopts.namespace))?v.plasticopts.namespace:((v)&&(v.namespace))?v.namespace:"default";var s=((j)&&(j.length>0)&&(j[0].path))?j[0].path:undefined;var t=A.target.id;var l=t.replace(m,"");var y=(A.target.type==="checkbox")?A.target.checked:(A.target.type==="number")?parseFloat(A.target.value):A.target.value;var o=_PlasticRuntime.datastore[z];var p={};if(/^_GROUP__/.test(l)){l=l.replace(/^_GROUP__/,"").replace(m,"");var x=l.replace(/^.*__/,"");l=l.replace(/__.*$/,"");var B=y;y={};y[x]=B}p[l]=y;if(!((A.type==="keyup")&&(c(A.target).prop("readonly")))){var n=(v)?v["plastic"+v.isplastic].rowsRead:function(E){var D=((j)&&(j.length>0)&&(j[0]));D.update.call(D,[{datastore:z,path:s},E[1]])};if((q)&&(q.item)){p[l]=q.item.value}var u=(A.type==="autocompleteselect")?"selectionupdate":"update";o.updateRow(C,[{status:u,id:o.nextSequence()},p],n,{namespace:r})}};this.AutoComplete=function(t,j){var s=((this.element)&&(this.element.closest(".Plastic")))?this.element.closest(".Plastic"):null;var v=((s)&&(s.length)&&(s[0].plasticopts))?s[0].plasticopts:null;var m=(s)?this.element.attr("id").replace(new RegExp("^"+s.attr("id")+"_"),""):null;var x=[{value:"[No Options Available]","class":"plastic-autofill-empty"}];if((v)&&(v.fulfill)&&(v.fulfill[m])){var n=v.fulfill[m];if(n instanceof Array){var q=[];for(var o=0;o<n.length;o++){q[q.length]={"class":(n[o]===this.term)?"plastic-autofill-selected":"plastic-autofill-item",value:n[o]}}j((q.length)?q:x)}else{if((typeof(n)==="string")&&(c("#"+n).length)&&(c("#"+n)[0].fulfillList)&&(typeof(c("#"+n)[0].fulfillList)==="function")){var u=((v.prettyNames)&&(v.prettyNames[n]))?v.prettyNames[n]:n;x[0].tooltip="Adjust available items in ["+u+"] to resolve";var r=c("#"+n)[0].fulfillList(this.term);j((r.length)?r:x)}}}else{var p=[];for(var l=0;l<200;l++){p[p.length]=""+l}j(p)}};this.SplitDown=function(j){j.preventDefault();c("#plastic-split-wrap").css({left:(j.pageX-100)+"px",top:(j.pageY-100),"z-index":"100000"});c("#plastic-split-wrap").data({"for":c(this).attr("id"),direction:(c(j.target).hasClass("plastic-hsplit"))?"H":"V"})};this.SplitUp=function(j){if(Plastic.SplitUpdate.call(this,c(this).data("direction"),j,c(this).data("for"))){c(this).css({left:(j.pageX-100)+"px",top:(j.pageY-100),"z-index":"-1"});c(this).removeData()}};this.SplitMove=function(j){if(Plastic.SplitUpdate.call(this,c(this).data("direction"),j,c(this).data("for"))){c(this).css({left:(j.pageX-100)+"px",top:(j.pageY-100)})}};this.SplitUpdate=function(r,q,n){var p=false;q.preventDefault();if(n!==undefined){p=true;var m=c("#"+n);switch(r){case"H":var o=q.pageX-m.offset().left;var j=m.parent();var l=m.next();j.css("border-left-width",(parseInt(l.outerWidth()+m.outerWidth())+o)+"px");l.outerWidth(l.outerWidth()+o);break;case"V":var o=q.pageY-m.offset().top;var j=m.parent();var l=m.next();j.css("border-top-width",(parseInt(l.outerHeight()+m.outerHeight())+o)+"px");l.outerHeight(l.outerHeight()+o);break}}return p};var g={};this.CartUpdate=function(){var j=this.dirtyCount();if(j){g[this.name]=j;j=0}else{delete (g[this.name])}for(var l in g){j+=g[l]}if(j){j+=(j===1)?" item in cart":" items in cart";c(".plastic-system-cart").removeClass("plastic-system-cart-empty").attr("title","["+j+"] Click to continue.")}else{c(".plastic-system-cart").addClass("plastic-system-cart-empty").attr("title","[Empty]")}};var d=0;var i={};this.FeedbackActivate=function(l,j){var m=((j)||(j===undefined))?"active":"active.noclose";c(".plastic-system-feedback-iconwrap",_PlasticRuntime.system.feedback).each(function(){var n=c(this).attr("id").replace(/^plastic-feedback-/,"");if(!(/all$/.test(n))){if(_PlasticPrefs.FeedbackIgnore.test(n)){c(".plastic-system-feedback-icon-tattoo",this).addClass("ui-icon ui-icon-volume-off")}else{if(_PlasticPrefs.FeedbackIconOnly.test(n)){c(".plastic-system-feedback-icon-tattoo",this).addClass("ui-icon ui-icon-minusthick")}else{c(".plastic-system-feedback-icon-tattoo",this).removeClass("ui-icon ui-icon-volume-off ui-icon-minusthick")}}}});if((l)||(l===undefined)){c(".plastic-system-feedback-frame").css({display:"block"}).scrollTop(0);c(".plastic-system-feedback").animate({height:"80%"},400,"swing",function(){c(".plastic-system-feedback-control").css({display:"block"});c(".plastic-system-feedback").trigger(m)})}else{if(d){clearTimeout(d);d=0}c(".plastic-system-feedback-control").css({display:"none"});c(".plastic-system-feedback").animate({height:0},400,"swing",function(){c(".plastic-system-feedback-frame").css({display:"none"});c(".plastic-system-feedback").trigger("inactive")})}};b._PlasticPrefs=c.extend({},b._PlasticPrefs,{FeedbackIgnore:(this.Cookie(b._PlasticPrefs.FeedbackIgnoreCookie))?new RegExp(this.Cookie(b._PlasticPrefs.FeedbackIgnoreCookie)):undefined,FeedbackIconOnly:(this.Cookie(b._PlasticPrefs.FeedbackIconCookie))?new RegExp(this.Cookie(b._PlasticPrefs.FeedbackIconCookie)):undefined});this.Feedback=function(z,u,y,l,m){var q={error:5,warning:4,question:3,success:2,information:1,clear:0};var r={error:300,warning:60,question:0,success:30,information:15,clear:0};var x=(this.name)?this.name:"undefined";if(u===undefined){u="information"}l=(l)?l:"undefined";y=(y)?y:"undefined";var p=((m)&&(m.decay!==undefined))?m.decay:r[u];if(typeof(z)==="string"){z={name:z}}var s=(new Date()).toString();for(var j in z){if(_PlasticPrefs.FeedbackIgnore instanceof RegExp){if(_PlasticPrefs.FeedbackIgnore.test(u)){if(!((m)&&((m.breach)||(m.force)))){continue}}}var n=((m)&&(m.identifier))?m.identifier:"PDMKFB_"+x+"_"+y.replace(/[^A-Z0-9]/ig,"_")+"_"+l.replace(/[^A-Z0-9]/i,"_")+"_"+u+j;if(i[n]){clearTimeout(i[n]);delete (i[n])}if(c("#"+n).length){c("#"+n).remove()}c(".plastic-system-feedback-icontab").html('<img style="width:100%;height:100%;" src="'+_PlasticRuntime.imgbase+"plastic-"+u+'.png" />');c(".plastic-system-feedback-icontab").addClass("plastic-system-feedback-waiting");c(".plastic-system-feedback-frame").prepend(c('<div class="plastic-system-feedback-message plastic-system-feedback-'+u+'" id="'+n+'" title="Click to confirm and remove this message"><div class="plastic-system-feedback-timestamp">'+s+'</div><img class="plastic-message-icon-medium" src="'+_PlasticRuntime.imgbase+"plastic-"+u+'.png" />'+z[j].replace(/\n/g,"<br>").replace(/  /g,"&nbsp;&nbsp;")+"</div>"));if(u==="question"){var o='<div class="plastic-system-feedback-buttonbar">';if((m)&&(m.buttons)){for(var v=0;v<m.buttons.length;v++){o+="<button title=\"Click to answer '"+m.buttons[v]+"'\">"+m.buttons[v]+"</button>"}}o+="</div>";c("#"+n).append(c(o));c("#"+n).find(".plastic-system-feedback-buttonbar button").button()}if((_PlasticPrefs.FeedbackIconOnly instanceof RegExp)&&(_PlasticPrefs.FeedbackIconOnly.test(u))){if((m)&&(m.force)){Plastic.FeedbackActivate(true)}else{var t={big:{height:48,width:48},small:{height:24,width:24}};if(!(c(".plastic-system-feedback-icontab").hasClass("plastic-system-feedback-icontab-throbbing"))){c(".plastic-system-feedback-icontab").addClass("plastic-system-feedback-icontab-throbbing");c(".plastic-system-feedback-icontab").animate(t.big,600,function(){c(".plastic-system-feedback-icontab").animate(t.small);c(".plastic-system-feedback-icontab").removeClass("plastic-system-feedback-icontab-throbbing")})}}}else{Plastic.FeedbackActivate(true)}if(p){i[n]=setTimeout(function(){c("#"+n).click()},(p*1000))}}};this.ResizeHandler=function(){var j={};if(_PlasticRuntime.root==="body"){j={width:c(window).width()-(parseInt(c("body").css("margin-left"))+parseInt(c("body").css("margin-right"))),height:c(window).height()-(parseInt(c("body").css("margin-top"))+parseInt(c("body").css("margin-bottom")))};c("body").css(j)}c(".plastic-pliable:visible",c(_PlasticRuntime.root)).each(function(){if((c(this).hasClass("plastic-width-auto"))||(c(this).hasClass("plastic-height-auto"))){c(this).resize()}});for(var l in _PlasticRuntime.inventory){break}c(".Plastic").removeClass("pre-init");c(".plastic-loading").removeClass("plastic-loading")};this.VarExpand=function(o,n){var m=o;var l=this;var j=function(p){var q;if(n){if(/^[^ \}]+!/.test(p)){q=p.replace(/^[^ \}]+!/,"");p=p.replace(/!.*$/,"")}if((/^:[^:]+:$/.test(p))&&(l)&&(l.length)&&(l[0][p.replace(/^:|:$/g,"")])&&(typeof(l[0][p.replace(/^:|:$/g,"")])==="string")){return(q!==undefined)?"":l[0][p.replace(/^:|:$/g,"")]}else{if((n.attributes!==undefined)&&(n.attributes[p]!==undefined)){return(q!==undefined)?"":n.attributes[p]}else{if(n[p]!==undefined){return(q!==undefined)?"":n[p]}else{if(q!==undefined){return q}}}}}return""};while(/%\{([^\{\}]+)\}/.test(m)){m=m.replace(/%\{([^\{\}]+)\}/g,function(p,q){return j(q)})}return m};this.Init=function(){if(_PlasticRuntime.datastore===undefined){_PlasticRuntime.datastore={}}if(_PlasticRuntime.inventory===undefined){_PlasticRuntime.inventory={}}if(_PlasticRuntime.domnode===undefined){_PlasticRuntime.domnode={}}if(_PlasticRuntime.todostack===undefined){_PlasticRuntime.todostack=[0]}if(_PlasticRuntime.system===undefined){_PlasticRuntime.system={}}if(_PlasticRuntime.isInitialized===undefined){var m=function(){c("body").addClass("plastic-loading");Plastic.BuildPlaybook(_PlasticRuntime.playbook,"body");c(".Plastic").on("activate.plastic",{active:50},function(s,q){if(!((q)&&(q.start!==undefined))){q={start:50}}var r=c(this).data("plastic-active");c(this).parents(".Plastic:first").children(".Plastic").removeData("plastic-active").removeClass("plastic-stack-active").filter(".plastic-stack-child").not(".plastic-visible-inactive").addClass("plastic-stack-hidden");c(this).data("plastic-active",(r!==undefined)?r:q.start--).addClass("plastic-stack-active");if((s.target!==this)&&(this.activate)&&(typeof(this.activate)==="function")){this.activate(s.target,{active:r})}});c(_PlasticRuntime.root).on("contextmenu",".ui-widget-overlay",function(q){if(this===q.target){q.preventDefault()}});c(_PlasticRuntime.root).on("click","span[activate]",function(){var r=c(this).attr("activate");var s=c(this).closest(".Plastic");var q=c(s).data("plastic-key");var t=((s)&&(s.length)&&(s[0].source))?s[0].source:null;c(t).trigger("rowactivate.plastic",{key:r,caller:q})});if(_PlasticRuntime.system.cart===undefined){_PlasticRuntime.system.cart=c('<div class="plastic-system-cart plastic-system-cart-empty" id="PlasticDefaultSysCart" title="[Empty]"><span class="ui-icon ui-icon-cart" /></div>');c(_PlasticRuntime.root).append(_PlasticRuntime.system.cart);c(".plastic-system-cart-icontab, .plastic-system-cart").addClass("plastic-system-cart-topright")}_PlasticRuntime.system.cart.on("click",function(){if(!(c(this).hasClass("plastic-system-cart-empty"))){_PlasticRuntime.system.cart.list=c('<div class="plastic-system-cart-list" ">');c(_PlasticRuntime.root).prepend(_PlasticRuntime.system.cart.list);c(_PlasticRuntime.system.cart.list).on("click",".plastic-actionable",function(L){if(c(this).attr("plastic-action")==="commit"){var J=c(this).closest(".plastic-commitgroup-wrap").find(".plastic-commitgroup-datastore").data("plastic-datastore");var K=(J)?_PlasticRuntime.datastore[J]:null;var M=[];c(this).closest(".plastic-field-group").find(".plastic-commitgroup-item").each(function(){M[M.length]=K.readCache(c(this).data("plastic-key"))});_PlasticRuntime.system.commitpane.show();var I=function(){_PlasticRuntime.system.commitpane.hide();c(_PlasticRuntime.system.cart.list).remove()};K.commitRow([{status:"commit",id:K.nextSequence()},M],I,{})}});var u=0;var E='<button onClick="$(this).parent().remove();">Close</button>';E+='<button class="plastic-actionable" plastic-action="commitall">Save All</button>';for(var D in _PlasticRuntime.datastore){if(_PlasticRuntime.datastore[D].dirtyCount()){var H=_PlasticRuntime.datastore[D].option("prettyNames");E+='<div class="plastic-commitgroup-wrap">';E+='<label class="plastic-commitgroup-datastore" data-plastic-datastore="'+D+'"><b>Item Category:</b> '+D+"</label>";var C=_PlasticRuntime.datastore[D].dirtyList();for(var x=0;x<C.length;x++){u++;E+='<fieldset class="plastic-field-group"><legend class="plastic-field-group-legend">  <input class="plastic-commitgroup-include" type="checkbox"       name="_Plastic_Commit__'+u+'"       id="_Plastic_Commit__'+u+'" checked>  <label for="_Plastic_Commit__'+u+'"       class="plastic-legend-label">Include These Items (Set #'+u+')?</label>  <button class="plastic-actionable" plastic-action="commit">Save Now</button></legend><div class="plastic-commitgroup">';for(var B in C[x]){if(JSON.stringify(C[x][B][0])===undefined){}else{var t=(_PlasticRuntime.datastore[D])?_PlasticRuntime.datastore[D].option("dateFormat"):"yy-mm-dd";var G=C[x][B][0];var z=C[x][B][1];for(var s in G){var F=(G[s].qualifiedTitle)?G[s].qualifiedTitle:z[s].qualifiedTitle;if(G[s].deleted){E+='<div class="plastic-commitgroup-title">Deleted Item: <span class="plastic-commitgroup-item plastic-deleted" data-plastic-key="'+s+'">'+F+"</span></div>"}else{if((z[s].isolated)||(G[s].isolated)){E+='<div class="plastic-commitgroup-title">New Item: '+F+"</div>"}else{E+='<div class="plastic-commitgroup-title">Item: '+F+"</div>"}E+="<table><tr><th>Selection Name</th><th>Original Value</th><th>New Value</th></tr>";for(var q in G[s].attributes){var v=((H)&&(H[q]))?H[q]:q;var r=(G[s].attributes[q] instanceof Date)?c.datepicker.formatDate(t,z[s].attributes[q]):z[s].attributes[q];var A=(G[s].attributes[q] instanceof Date)?c.datepicker.formatDate(t,G[s].attributes[q]):G[s].attributes[q];if(A instanceof Object){if(r===undefined){r={}}for(var y in A){E+='<tr class="plastic-commitgroup-item" data-plastic-key="'+s+'"><td class="plastic-commitgroup-item-name">'+v+"["+y+']:</td><td class="plastic-commitgroup-item-before">'+r[y]+'</td><td class="plastic-commitgroup-item-after">'+A[y]+"</td></tr>"}}else{E+='<tr class="plastic-commitgroup-item" data-plastic-key="'+s+'"><td class="plastic-commitgroup-item-name">'+v+':</td><td class="plastic-commitgroup-item-before">'+r+'</td><td class="plastic-commitgroup-item-after">'+A+"</td></tr>"}}for(var q in G[s]){if((q!==undefined)&&(q!=="attributes")){var v=((H)&&(H[q]))?H[q]:q;var r=z[s][q];var A=G[s][q];E+='<tr class="plastic-commitgroup-item" data-plastic-key="'+s+'"><td class="plastic-commitgroup-item-name">'+v+':</td><td class="plastic-commitgroup-item-before">'+r+'</td><td class="plastic-commitgroup-item-after">'+A+"</td></tr>"}}E+="</table>"}}}}E+="</div></fieldset>"}E+="</div>"}}_PlasticRuntime.system.cart.list.html(E);c(".plastic-commitgroup-wrap button, .plastic-system-cart-list>button").button()}});if(_PlasticRuntime.system.feedback===undefined){_PlasticRuntime.system.feedback=c('<div class="plastic-system-feedback" id="PlasticDefaultSysFeedback"><div class="plastic-system-feedback-control"><span class="plastic-system-feedback-control-title">- System Messages -</span><div class="plastic-system-feedback-iconbar"><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-silenceall" title="Click to toggle silence for all messages"><img class="plastic-system-feedback-icon" src="images/plastic-all.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-error" title="Click to iconize error messages"><img class="plastic-system-feedback-icon" src="images/plastic-error.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-warning" title="Click to iconize warning messages"><img class="plastic-system-feedback-icon" src="images/plastic-warning.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-question" title="Click to iconize question messages"><img class="plastic-system-feedback-icon" src="images/plastic-question.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-information" title="Click to iconize information messages"><img class="plastic-system-feedback-icon" src="images/plastic-information.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-success" title="Click to iconize success messages"><img class="plastic-system-feedback-icon" src="images/plastic-success.png"><div class="plastic-system-feedback-icon-tattoo" /></div><div class="plastic-system-feedback-iconwrap" id="plastic-feedback-iconall" title="Click to toggle iconize for all messages"><img class="plastic-system-feedback-icon" src="images/plastic-icon.png"><div class="plastic-system-feedback-icon-tattoo" /></div></div><span class="plastic-system-feedback-control-button" title="Check to confirm and remove all messages">Confirm All Messages</span></div><div class="plastic-system-feedback-icontab" title="Click to view waiting messages" /><div class="plastic-system-feedback-frame" /></div>');c(_PlasticRuntime.root).append(_PlasticRuntime.system.feedback);c(".plastic-system-feedback-icontab, .plastic-system-feedback").addClass("plastic-system-feedback-bottomright")}if(_PlasticRuntime.system.commitpane===undefined){var n='<div class="plastic-commit-pane plastic-not-authenticated">  <div class="plastic-commit-bgimage" />  <em>Please Wait...</em>  <div class="plastic-login-frame">    <div class="plastic-login-icon"><img src="images/plastic-lock.png"></div>    <div class="plastic-login-title">System Login</div>    <div class="plastic-login-capslock">      <img src="images/plastic-warning.png" width="24" height="24">WARNING: Caps Lock on    </div>    <table width="490"><tbody>      <tr><td><label for="plastic-auth-user">Login Name:</label></td>      <td><input type="text" name="plastic-auth-user" id="plastic-auth-user"></td></tr>      <tr><td><label for="plastic-auth-pass">Password:</label></td>      <td><input type="password" name="plastic-auth-pass" id="plastic-auth-pass"></td></tr>      <tr><td colspan="2"><button id="plastic-auth-abort">Cancel</button>        <button id="plastic-auth-signon" disabled>Sign On</button></td></tr>    </tbody></table>  </div>  <div class="plastic-error-frame" /></div>';_PlasticRuntime.system.commitpane=c(n);c(_PlasticRuntime.root).append(_PlasticRuntime.system.commitpane);c("#plastic-auth-abort").button().on("click",function(){c(".plastic-commit-pane").removeClass("plastic-not-authenticated").addClass("plastic-login-error");if(_PlasticPrefs.HttpError401){c(".plastic-error-frame").load(_PlasticPrefs.HttpError401)}c(".plastic-error-frame").animate({height:"90%",width:"90%"},1200)});c("#plastic-auth-signon").button();var p='<center><h1>Authentication Canceled</h1><p>This application requires the user to be authenticated for access but the authentication request was canceled.<br><br><a href="javascript:window.history.go(0)">Click Here</a> to attempt authentication again<br><br>Or<br><br><a href="javascript:window.close()">Close this page</a> to cancel the application login.</p></center>';c(".plastic-error-frame:first").html(p);_PlasticRuntime.system.commitpane.bind("keydown.plastic-commitpane",function(s){if(s.keyCode!==c.ui.keyCode.TAB){return}var r=c(":tabbable",this),t=r.filter(":first"),q=r.filter(":last");if(s.target===q[0]&&!s.shiftKey){t.focus(1);return false}else{if(s.target===t[0]&&s.shiftKey){q.focus(1);return false}}});_PlasticRuntime.system.commitpane.bind("keyup.plastic-commitpane",function(q){if((_PlasticPrefs.AuthUserPattern)&&(_PlasticPrefs.AuthUserPattern.test(c("#plastic-auth-user").val()))&&(_PlasticPrefs.AuthPassPattern)&&(_PlasticPrefs.AuthPassPattern.test(c("#plastic-auth-pass").val()))){c("#plastic-auth-signon").button("option","disabled",false)}else{c("#plastic-auth-signon").button("option","disabled",true)}if(q.keyCode===c.ui.keyCode.ENTER){if(c(q.target).attr("id")==="plastic-auth-user"){c("#plastic-auth-pass").focus()}else{if(c(q.target).attr("id")==="plastic-auth-pass"){c("#plastic-auth-signon").click();c("#plastic-auth-pass").focus()}}}else{if(q.keyCode===c.ui.keyCode.ESCAPE){c("#plastic-auth-abort").click()}else{if(q.keyCode===c.ui.keyCode.CAPS_LOCK){c(".plastic-login-capslock").toggleClass("plastic-capslock-on")}else{if(/^[A-Za-z]$/.test(q.key)){var r=(/^[A-Z]$/.test(q.key))?(q.shiftKey)?"removeClass":"addClass":(q.shiftKey)?"addClass":"removeClass";c(".plastic-login-capslock")[r]("plastic-capslock-on")}}}}});_PlasticRuntime.system.commitpane.on("show.plastic",function(){c("#plastic-auth-user").focus()});_PlasticRuntime.system.commitpane.on("hide.plastic",function(){_PlasticRuntime.system.commitpane.unbind("keypress.plastic-commitpane")})}c(_PlasticRuntime.root).on("keyup",function(q){if((q.shiftKey)&&(q.ctrlKey)&&(q.keyCode==70)){Plastic.FeedbackActivate(!(c(".plastic-system-feedback").hasClass("plastic-system-feedback-active")),false)}});c(_PlasticRuntime.root).on("mouseout",".plastic-system-feedback-frame, .plastic-system-feedback-control",function(q){if((d)&&(d<0)){d=0;d=setTimeout(function(){Plastic.FeedbackActivate(false)},1500)}});c(_PlasticRuntime.root).on("mouseover mousemove",".plastic-system-feedback-frame, .plastic-system-feedback-control",function(q){if((d)&&(d>0)){clearTimeout(d);d=-d}});c(_PlasticRuntime.system.feedback).on("mousedown",".plastic-system-feedback-message",function(){_PlasticRuntime.system.feedback[0].preFeedback=c(":focus")});c(_PlasticRuntime.system.feedback).on("click",".plastic-system-feedback-message",function(){if(!(c(this).hasClass("plastic-system-feedback-question"))){var q=c(this).attr("id");if(i[q]){clearTimeout(i[q]);delete (i[q])}c(this).animate({height:0},function(){c(this).remove();if(!(c(".plastic-system-feedback-message").length)){c(".plastic-system-feedback-icontab").removeClass("plastic-system-feedback-waiting");Plastic.FeedbackActivate(false)}});if(_PlasticRuntime.system.feedback[0].preFeedback){_PlasticRuntime.system.feedback[0].preFeedback.focus();delete (_PlasticRuntime.system.feedback[0].preFeedback)}}});c(_PlasticRuntime.root).on("click",".plastic-system-feedback-icontab",function(){Plastic.FeedbackActivate(true)});c(_PlasticRuntime.system.feedback).on("click",".plastic-system-feedback-iconwrap",function(x){var u=c(".plastic-system-feedback-icon-tattoo",this);var t=c(this).attr("id").replace(/^plastic-feedback-/,"");if((t==="silenceall")||(t==="iconall")){var y=(t==="silenceall")?c(".plastic-system-feedback-icon-tattoo",c(this).parent()).is(".ui-icon-volume-off"):c(".plastic-system-feedback-icon-tattoo",c(this).parent()).is(".ui-icon-minusthick");var s=(t==="silenceall")?c(this).nextAll(".plastic-system-feedback-iconwrap:not(:last)"):c(this).prevAll(".plastic-system-feedback-iconwrap:not(:last)");s.each(function(){var A=c(".plastic-system-feedback-icon-tattoo",this);var z=c(this).attr("id").replace(/^plastic-feedback-/,"");if(y){A.removeClass("ui-icon ui-icon-volume-off ui-icon-minusthick")}else{A.removeClass("ui-icon-volume-off ui-icon-minusthick").addClass((t==="silenceall")?"ui-icon ui-icon-volume-off":"ui-icon ui-icon-minusthick")}})}else{if(!(u.hasClass("ui-icon"))){u.addClass("ui-icon ui-icon-minusthick");c(this).attr("title","Click to silence "+t+" messages")}else{if(u.hasClass("ui-icon-minusthick")){u.removeClass("ui-icon-minusthick").addClass("ui-icon-volume-off");c(this).attr("title","Click to enable "+t+" messages")}else{if(u.hasClass("ui-icon-volume-off")){u.removeClass("ui-icon ui-icon-minusthick ui-icon-volume-off");c(this).attr("title","Click to iconize "+t+" messages")}}}}var v=[],q=[];c(".ui-icon-volume-off",c(this).parent()).closest(".plastic-system-feedback-iconwrap").each(function(){v[v.length]=c(this).attr("id").replace(/^plastic-feedback-/,"")});c(".ui-icon-minusthick",c(this).parent()).closest(".plastic-system-feedback-iconwrap").each(function(){q[q.length]=c(this).attr("id").replace(/^plastic-feedback-/,"")});_PlasticPrefs.FeedbackIgnore=new RegExp("^("+v.join("|")+")$");_PlasticPrefs.FeedbackIconOnly=new RegExp("^("+q.join("|")+")$");var r=new Date();r.setYear(r.getYear()+1901);Plastic.Cookie(_PlasticPrefs.FeedbackIgnoreCookie,_PlasticPrefs.FeedbackIgnore.source,undefined,r);Plastic.Cookie(_PlasticPrefs.FeedbackIconCookie,_PlasticPrefs.FeedbackIconOnly.source,undefined,r)});c(_PlasticRuntime.system.feedback).on("click",".plastic-system-feedback-control-button",function(q){c(".plastic-system-feedback-message:not(.plastic-system-feedback-question)").each(function(){var r=c(this).attr("id");if(i[r]){clearTimeout(i[r]);delete (i[r])}});c(".plastic-system-feedback-message:not(.plastic-system-feedback-question)").fadeOut(400,function(){c(".plastic-system-feedback-message").remove();c(".plastic-system-feedback-icontab").removeClass("plastic-system-feedback-waiting");Plastic.FeedbackActivate(false)})});c(_PlasticRuntime.root).on("click",".plastic-system-feedback-control span",function(q){if(q.target.nodeName!=="INPUT"){c(this).find("input").trigger("click")}});c(_PlasticRuntime.root).on("active.noclose",".plastic-system-feedback",function(q){c(".plastic-system-feedback").addClass("plastic-system-feedback-active")});c(_PlasticRuntime.root).on("active",".plastic-system-feedback",function(q){c(".plastic-system-feedback").addClass("plastic-system-feedback-active");if(d){clearTimeout(d)}d=setTimeout(function(){Plastic.FeedbackActivate(false)},5000)});c(_PlasticRuntime.root).on("inactive",".plastic-system-feedback",function(q){c(".plastic-system-feedback").removeClass("plastic-system-feedback-active")});c(".stack-tab-sizer").each(function(){var r=this;var q=c(this).find(".stack-tab-sizeframe")[0];(q.contentWindow||q).onresize=function(s){Plastic.SizeFrame.call(r,s)};Plastic.SizeFrame.call(r)});c(window).resize(Plastic.ResizeHandler);setTimeout(Plastic.ResizeHandler,1000);c(".plastic-view").each(function(){var q=c(this).attr("id");c("a.plastic-stack-status[href=#"+q+"]").addClass("plastic-component-loading")});c(".Plastic",_PlasticRuntime.root).trigger("initialize.plastic");var o=function(){if(c(".plastic-loading").length){setTimeout(o,300)}else{c.each(e,function(q,r){if((r)&&(r.length>1)&&(typeof(r[1])==="function")){r[1].call(r[0])}})}};setTimeout(o,0)};var l,j=function(){if(_PlasticRuntime.playbook!==undefined){m()}else{l=setTimeout(j,300)}};l=setTimeout(j,0)}else{throw new Error("Plastic already initialized")}}}})(window,jQuery);jQuery(window).load(function(){Plastic.Init()});var _cache;function PlasticDatastore(v,L){var p=this;p.name=(v)?v:"unnamed";var aa=((L)&&(L.data))?L.data:null;var Z=0;var u={};var A={};var s;var F={};var y={};var af={};var z={};var h=0;var f=[null,null];var V=null;var t=null;var U={crud:["c","r","u","d"]};var O="parentKey,key,title,qualifiedTitle,tooltip,type,deleted,dirty,disabled,error,hidden,isolated,next,prev";var T=["actions","ancestorFlag","attributes","deleted","dirty","disabled","selected","error","firstChild","isolated","lastChild","key","next","parentKey","prev","qualifiedTitle","sortIndex","title","tooltip","type","hidden"];var l={actions:1,parent:1,children:1,siblings:1,ancestorFlag:1,sortIndex:1,next:1,prev:1,firstChild:1,lastChild:1};var q=null;var j={};var G={"default":{m_currentIndex:0},rowDefault:null,augment:null,dateFormat:"yy-mm-dd",commit:U,attributes:O,selected:O,securityContext:q,rootAnchor:null,rootTitle:"Root",rootRowObject:null,anchor:"left",delimiter:"/",trimDelimiter:false,includeRoot:false,prettyNames:null};var g={"default":[]};this.version="1.0.0b1";this.release="Public Beta [Epoxy]";this.option=function C(ay,ap,ak){var av;if(typeof(ay)==="string"){if(ap===undefined){switch(ay){case"securityContext":av=(ay in G)?JSON.parse(G[ay]):undefined;break;case"rowDefault":if(G[ay]!==undefined){av=(typeof(G[ay])==="function")?G[ay].call(p,ak):G[ay]}else{av=undefined}break;case"prettyNames":av=(ay in G)?G[ay]:{};break;default:av=(G[ay]!==undefined)?G[ay]:undefined;break}}else{switch(ay){case"type":switch(ap){case undefined:break;case"array":V=(G.rootRowObject)?G.rootRowObject.key:(V)?V:"_FAUXROOT_";if(G.rootRowObject){var al={parentKey:null,type:"root",prev:null,next:null,children:null,firstChild:null,lastChild:null,actions:null,ancestorFlag:p._ancestorFlag,parent:p._parent,siblings:p._siblings,dirty:null,error:null,deleted:null,disabled:false,selected:null,hidden:null,isolated:null,sortIndex:{}};u[V]=$.extend({},al,{qualifiedTitle:G.rootRowObject.title},G.rootRowObject,{attributes:$.extend({},p.option("rowDefault",undefined,G.rootRowObject.attributes),G.rootRowObject.attributes)})}else{u[V]={key:V,parentKey:null,title:G.rootTitle,qualifiedTitle:(G.includeRoot===false)?G.delimiter:(G.anchor==="left")?G.delimiter+G.rootTitle:G.rootTitle+G.delimiter,tooltip:(G.includeRoot==false)?G.delimiter:(G.anchor==="left")?G.delimiter+G.rootTitle:G.rootTitle+G.delimiter,type:"root",prev:null,next:null,children:null,firstChild:null,lastChild:null,actions:null,ancestorFlag:p._ancestorFlag,parent:p._parent,siblings:p._siblings,dirty:null,error:null,deleted:null,disabled:false,selected:null,hidden:null,isolated:null,sortIndex:{},attributes:$.extend({},p.option("rowDefault",undefined,ak))}}var am=function(aE,aB){var aD=null;var aF=(u[aB].qualifiedTitle===G.delimiter)?"":u[aB].qualifiedTitle;for(var aC=0;aC<aE.length;aC++){if(aE[aC] instanceof Array){am(aE[aC],aD)}else{var az={key:(aE[aC].key!==undefined)?aE[aC].key:(G.anchor==="left")?aB+G.delimiter+aE[aC]:aE[aC]+G.delimiter+aB,parentKey:aB,title:aE[aC],qualifiedTitle:(G.anchor==="left")?aF+G.delimiter+aE[aC]:aE[aC]+G.delimiter+aF,tooltip:(G.anchor==="left")?aF+G.delimiter+aE[aC]:aE[aC]+G.delimiter+aF,type:"folder",prev:aD,next:null,children:null,firstChild:null,lastChild:null,actions:null,ancestorFlag:p._ancestorFlag,parent:p._parent,siblings:p._siblings,dirty:null,error:null,deleted:null,disabled:false,selected:null,hidden:null,isolated:null,sortIndex:{},attributes:$.extend({},p.option("rowDefault",undefined,aE[aC].attributes))};if(typeof(aE[aC])==="object"){var aA=aE[aC].attributes;if(aE[aC].title===undefined){throw new Error("Missing required object key 'title'.")}else{az.key=(aE[aC].key!==undefined)?aE[aC].key:(G.anchor==="left")?aB+G.delimiter+aE[aC].title:aE[aC].title+G.delimiter+aB;az.title=aE[aC].title;az.qualifiedTitle=(aE[aC].qualifiedTitle===undefined)?(G.anchor==="left")?aF+G.delimiter+aE[aC].title:aE[aC].title+G.delimiter+aF:aE[aC].qualifiedTitle;az.tooltip=(aE[aC].tooltip===undefined)?(G.anchor==="left")?aF+G.delimiter+aE[aC].title:aE[aC].title+G.delimiter+aF:aE[aC].tooltip;az.type=(aE[aC].type===undefined)?"folder":aE[aC].type;$.extend(az.attributes,aA)}}u[az.key]=az;if((aB)&&(!(u[aB].firstChild))){u[aB].firstChild=az.key;u[aB].children=[]}if(aD){u[aD].next=az.key}aD=az.key}}};am(aa,V);break;case"augment":V=(V)?V:"_FAUXROOT_";break;case"query":V=(V)?V:"_FAUXROOT_";this.query=function ax(){var az=new Date();var aA="PDMK_"+az.getTime()+"."+az.getMilliseconds()};break}break;case"attributes":var at=O.split(",");var ai={};for(var an=0;an<at.length;an++){ai[at[an]]=an}var aw=ap.split(",");var aq=at;for(var ag=0;ag<aw.length;ag++){if(ai[aw[ag]]===undefined){aq[aq.length]=aw[ag]}}G[ay]=aq.join(",");break;case"securityContext":var ah=JSON.stringify(ap);if(ah!==G[ay]){var au={cache:{},dirty:{}};var ar=0;for(var ao in A){ar+=1;break}if(ar){if((j[G[ay]]!==undefined)&&(j[G[ay]]!==null)){jQuery.extend(au.cache,j[G[ay]].cache);jQuery.extend(au.dirty,j[G[ay]].dirty)}for(var ao in A){au.dirty[ao]=A[ao];au.cache[ao]=u[ao]}j[G[ay]]=au}if(j[ah]===undefined){u={},A={};j[ah]={cache:{},dirty:{}}}else{u=jQuery.extend({},j[ah].cache);A=jQuery.extend({},j[ah].dirty)}G[ay]=ah}break;case"anchor":G[ay]=((ap==="left")||(ap==="right"))?ap:"left";break;case"commit":G[ay]=jQuery.extend({},U,ap);break;case"delimiter":G[ay]=(typeof(ap)==="string")?ap.substr(0,1):"/";break;case"rowDefault":G[ay]=ap;break;case"rootTitle":var aj=new RegExp(G.delimiter.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"));if(G.rootRowObject){ap=G.rootRowObject.title}G[ay]=((typeof(ap)==="string")&&(!(aj.test(ap))))?ap:G[ay];break;case"rootRowObject":G[ay]=ap;G.rootTitle=G[ay].title;break;case"includeRoot":G[ay]=((ap===true)||(ap===false))?ap:false;break;case"prettyNames":G[ay]=(typeof(ap)==="object")?ap:null;default:G[ay]=ap}}}return av};_cache=u;this.root=function S(){return V};this.namespaces=function b(){var ah=[];for(var ag in g){ah[ah.length]=ag}return ah};this.bindView=function i(){if((arguments.length==0)||(!(arguments[0] instanceof Object))){}var ag=(arguments.length==2)?arguments[1]:"default";if(g[ag]===undefined){g[ag]=[]}g[ag][g[ag].length]=arguments[0]};this.authenticateHandler=null;this.authenticate=function R(aj,ai,ak,ah){var ag=function(al){if((ak)&&(typeof(ak)==="function")){ak.call(this,al)}else{}};if((this.authenicateHandler)&&(typeof(this.authenicateHandler)==="function")){this.authenicateHandler.call(this,ag)}else{ag.call(this,{})}};this.securityContextHandler=null;this.securityContext=function W(ah){var ag=function(ai){if((ah)&&(typeof(ah)==="function")){p.option.call(this,"securityContext",ai);ah.call(this,ai)}else{}};if((this.securityContextHandler)&&(typeof(this.securityContextHandler)==="function")){this.securityContextHandler.call(this,ag)}else{ag.call(this,{})}};this.nextSequence=function x(){return ++Z};this.getGenericRowObject=function P(ao,aq,al,ai){var ak=new Date();var ag=(ao)?ao:null;var aj=(this.name)?this.name:p.name;var an=(aq)?aq:"PDMK-"+this.name+"-"+ak.getTime()+"."+ak.getMilliseconds();var ap={disabled:false,hidden:false,type:"folder",key:an,parentKey:ag,title:undefined,qualifiedTitle:undefined,tooltip:undefined,dirty:null,error:null,deleted:null,selected:null,isolated:true,children:null,ancestorFlag:this._ancestorFlag,parent:this._parent,siblings:this._siblings,prev:undefined,next:undefined,firstChild:undefined,lastChild:undefined,actions:this._actions,sortIndex:{},attributes:{}};if(al){var am=null;for(var ah in al){if(ah in ap){if((ai)&&(ai.merge)){ap[ah]=al[ah]}else{if(am===null){am={}}am[ah]=al[ah]}}else{if((ai)&&(ai.merge)){ap.attributes[ah]=al[ah]}else{if(am===null){am={}}if(!(am.attributes)){am.attributes={}}ap.attributes[ah]=undefined;am.attributes[ah]=al[ah]}}}if((ap.dirty)||(am)){ap.dirty=$.extend({},ap.dirty,am)}}return ap};this._safeRowReturn=function I(ag){return((ag)&&(ag.length===2)&&(ag[1]===null))?[jQuery.extend(ag[0],{status:"empty"})]:ag};this.readRowHandler=null;this.readRow=function e(){var am=((arguments.length>2)&&(typeof(arguments[2])==="function"));var an=(am)?arguments[0]:null;var ao=(am)?arguments[1]:arguments[0];var ag=(am)?arguments[2]:arguments[1];var ai=(am)?arguments[3]:arguments[2];var ak=this;var ah=0;if((ao)||(ao===null)){var ap=(an===null)?(ao===null)?((G)&&(G.rootAnchor))?G.rootAnchor:V:ao:(ao===null)?(this.readCache(an,ai).firstChild)?this.readCache(an,ai).firstChild:null:ao;var aj=(ap)?this.readCache(ap,ai):undefined;if(aj){if((ag)&&(typeof(ag)=="function")){ag([jQuery.extend({},ai,{status:"cached",id:this.nextSequence()}),aj],ai)}else{}}else{ao=((ao===null)&&(ap))?ap:ao;var al=undefined;al=function(aq){if(aq===q){p.securityContext.call(this,al)}else{if(this.readRowHandler){this.readRowHandler.call(ak,an,ao,function(av,ar){var au=ao;if((av.length===0)||(av[0].status==="empty")){ag([jQuery.extend(av[0],{id:p.nextSequence()})],ar)}else{if((av.length===0)||(av[0].status==="error")){}else{if(au===null){au=av[1].key}if((an===null)&&(V===null)){V=au}for(var at=1;at<av.length;at++){p.cacheRow(av[at].key,$.extend(p.getGenericRowObject(an,av[at].key),av[at]),ar)}ag(p._safeRowReturn([jQuery.extend({},ar,{status:"live",id:p.nextSequence()}),p.readCache(au,ar)]),ar)}}},ai)}}};al.call(this,G.securityContext)}}else{}return ah};this.createRowHandler=null;this.createRow=function c(ar,ag,ak){var am=this;var ao=((ak)&&(ak.namespace))?ak.namespace:"default";var aj=0;if((ar===null)&&(V!==null)){ar=V}var an=new Date();var au="PDMK-"+this.name+"-"+an.getTime()+"."+an.getMilliseconds();var ai=this.readCache(ar,ak);var ah=(ai.qualifiedTitle===G.delimiter)?"":ai.qualifiedTitle;var at=this.getGenericRowObject(ar,au,$.extend({},{title:"(New)",qualifiedTitle:(ar===null)?(G.includeRoot===false)?G.delimiter:(G.anchor==="left")?G.delimiter+G.rootTitle:G.rootTitle+G.delimiter:(G.anchor==="left")?ah+G.delimiter+"(New)":"(New)"+G.delimiter+ah,tooltip:(ar===null)?(G.includeRoot==false)?G.delimiter:(G.anchor==="left")?G.delimiter+G.rootTitle:G.rootTitle+G.delimiter:(G.anchor==="left")?ah+G.delimiter+"(New)":"(New)"+G.delimiter+ah},am.option("rowDefault",undefined,ak)));var aq=[{status:"creating",id:p.nextSequence()},at,ak];if((this.readCache(ar,ak))&&(this.readCache(ar,ak).lastChild)){var ap=this.readCache(ar,ak).lastChild;if(y[ao]===undefined){y[ao]={}}if(y[ao][ap]===undefined){y[ao][ap]={}}if(y[ao][ar]===undefined){y[ao][ar]={}}y[ao][ap].next=au;y[ao][ar].lastChild=au;at.prev=ap;at.next=null}var al=function(ay,av){if(u[au]){}else{if(ay.length<2){}else{p.cacheRow(au,at,av);if(u[au].dirty){A[au]=u[au].dirty;u[au].dirty=null}}}var aB={};var ax=this.option("attributes").split(/,/);var aA={};if(ay[0].initial){var az=ay[0].initial.split(/,/);for(var aC=0;aC<az.length;aC++){aA[az[aC]]=1}}for(var aw=0;aw<ax.length;aw++){var aD=ax[aw];if(l[aD]){continue}if((ay[1].attributes)&&(ay[1].attributes[aD]!==undefined)){aB[aD]=ay[1].attributes[aD];if(at.attributes[aD]===undefined){at.attributes[aD]=(aA[aD]!==undefined)?aB[aD]:undefined}}else{if(ay[1][aD]!==undefined){aB[aD]=ay[1][aD]}}}this.updateRow(au,[{status:"creating",id:p.nextSequence()},aB],ag,av)};if(this.createRowHandler){aj=this.createRowHandler.call(am,p.readCache(ar,ak),aq,al,ak)}else{aj=al.call(this,aq,ak)}return aj};this.updateRowHandler=null;this.updateRow=function N(aO,ap,an,ay){var aL=0;var aF=this;var aC=(u[aO])?[{status:"update",id:aF.nextSequence()},jQuery.extend({},u[aO])]:null;var av=(A[aO])?jQuery.extend({},A[aO]):{};var aK=(F[aO])?jQuery.extend({},F[aO]):{};var aN=function(a0,aX,a7,aU,aZ){var a8,aW,a1;var aV=undefined;if((a0)&&(a0.length>0)){delete (A[aO]);delete (F[aO]);aV=(aX.attributes)?aX.attributes:null;delete (aX.attributes);if((aU)&&(aU.length>1)){if(aU[0].status==="augmenting"){jQuery.extend(u[aO].attributes,aU[1])}else{if(aU[0].status==="metadataupdate"){for(var a8 in aU[1]){if(/#selected/.test(a8)){if(aU[1][a8]===null){delete (a0[1].attributes[a8])}else{a0[1].attributes[a8]=aU[1][a8]}delete (aU[1][a8])}else{if(/#deleted/.test(a8)){if(aU[1][a8]===null){delete (a0[1].attributes[a8])}else{var a3=new RegExp(a8.replace(/#deleted/,"_"));if(!(a0[1].attributes[a8])){a0[1].attributes[a8]={}}for(var a1 in aU[1][a8]){if(aU[1][a8][a1]===null){for(var aW in a0[1].attributes){if(a3.test(aW)){delete (aU[1][a8][a1]);delete (aV[a8][a1]);var aQ=aV[a8];delete (aV[a8]);for(var a2 in aQ){aV[a8]=aQ;break}break}}}else{if(aU[1][a8][a1]){for(var aW in a0[1].attributes){if(a3.test(aW)){if((u[aO])&&(u[aO].attributes)&&(u[aO].attributes[aW])&&(u[aO].attributes[aW][a1]===undefined)&&(aV)&&(aV[aW]!==undefined)){var a4=aV[aW];delete (aU[1][a8][a1]);delete (a0[1].attributes[a8.replace(/#deleted$/,"#selected")][a1]);delete (aV[aW]);delete (a4[a1]);for(var a6 in a4){aV[aW]=a4;break}}}}}}}}}}}}for(var a8 in a0[1].attributes){if((aU[1][a8]!==undefined)&&(aU[1][a8]!==a0[1].attributes[a8])){if(!(aV)){aV={}}if((a0[1].attributes[a8]!==null)&&(a0[1].attributes[a8] instanceof Date)){if(jQuery.datepicker.formatDate(G.dateFormat,a0[1].attributes[a8])!==aU[1][a8]){aV[a8]=$.datepicker.parseDate(G.dateFormat,aU[1][a8])}else{if(aU[1][a8]!==undefined){if(aV){delete (aV[a8])}}}}else{if((a0[1].attributes[a8]!==null)&&(typeof(a0[1].attributes[a8])==="object")&&(typeof(aU[1][a8])==="object")){var a5=false;for(var aT in aU[1][a8]){if(aU[1][a8][aT]!==undefined){a5=false;if((aU[1][a8][aT]===null)&&(a0[1].attributes[a8][aT]===undefined)){a5=true}else{if(aU[1][a8][aT]!==a0[1].attributes[a8][aT]){if(aV[a8]===undefined){aV[a8]={}}aV[a8][aT]=aU[1][a8][aT]}else{a5=true}}if((a5)&&(aV[a8])){delete (aV[a8][aT]);var aS=aV[a8];delete (aV[a8]);for(var aY in aS){aV[a8]=aS;break}}}}}else{aV[a8]=((typeof(aU[1][a8])==="object")&&(!(aU[1][a8] instanceof Date)))?jQuery.extend({},aV[a8],aU[1][a8]):aU[1][a8]}}}else{if(aU[1][a8]!==undefined){if(aV){delete (aV[a8])}}}}}for(var aW=0;aW<T.length;aW++){a8=T[aW];if((a8==="dirty")||(a8==="error")||(a8==="attributes")||(l[a8])){continue}if(a0[1][a8]!==undefined){if((aU[1][a8]!==undefined)&&(aU[1][a8]===a0[1][a8])){if(aX[a8]!==undefined){delete (aX[a8])}}else{if(aU[1][a8]!==undefined){aX[a8]=aU[1][a8]}}}else{if(aU[1][a8]!==undefined){aX[a8]=aU[1][a8]}}}}for(var a8 in a7){if(a7[a8]===null){delete (a7[a8]);continue}F[aO]=a7;for(var a8 in a7){Plastic.Feedback.call(this,a7[a8],"warning",aO,a8,aZ)}}for(var a8 in aX){if((a8==="dirty")||(a8==="error")||(a8==="attributes")||(l[a8])){continue}A[aO]=aX;break}if(aV){for(var a8 in aV){if(!(A[aO])){A[aO]={}}A[aO].attributes=aV;break}}if((an)&&(typeof(an)=="function")){var aP=[{status:(aU[0].status==="clear")?aU[0].status:"updated",id:p.nextSequence()},p.readCache(aO,aZ)];var aR=_PlasticRuntime.todostack[0];_PlasticRuntime.todostack[_PlasticRuntime.todostack.length]=[aP,aF,aZ];if((a0.length>1)&&(a0[1].isolated)&&(aU)&&(aU.length>1)&&(aU[1].deleted)){delete (u[aO]);delete (A[aO]);delete (F[aO])}an(aP,aZ)}Plastic.CartUpdate.call(this)}else{}return aL};if(ap[0].status==="creategrouprow"){var aB={};var ao=((ap.length>1)&&(ap[1].groupname))?ap[1].groupname:null;var aM=((ap.length>1)&&(ap[1].groupindex!==undefined))?ap[1].groupindex:null;var ag=new RegExp("^"+ao+"_");if((aC)&&(aC.length>1)&&(aC[1].attributes)){for(var aH in aC[1].attributes){if(ag.test(aH)){aB[aH]={};aB[aH][aM]="(NEW)"}}ap[1]=aB}}else{if(ap[0].status==="selectionupdate"){if(ap.length>1){var ak={};$(".Plastic").plasticKeyFilter(aO).each(function(){ak[$(this).attr("id")]+=1});for(var aE in _PlasticRuntime.inventory){if((aE in ak)&&("options" in _PlasticRuntime.inventory[aE])){if("fulfill" in _PlasticRuntime.inventory[aE].options){for(var am in _PlasticRuntime.inventory[aE].options.fulfill){var aA=false;var au=_PlasticRuntime.inventory[aE].options.fulfill[am];var aJ=((ap)&&(ap.length>1)&&(am in ap[1]))?ap[1][am]:$("#"+aE+"_"+am).val();if(au instanceof Array){for(var aD=0;aD<au.length;aD++){if(au[aD]===aJ){aA=true;break}}if(aA){delete (aK[am])}else{var aG=((ax)&&("prettyNames" in ax)&&(am in ax.prettyNames))?ax.prettyNames[am]:(am in aF.option("prettyNames"))?aF.option("prettyNames")[am]:am;aK[am]='<span class="plastic-system-feedback-title">Validation Error:</span>Specified ['+aG+"] '"+aJ+"' not an allowed option, please select another from its dropdown list."}}else{if((!(au instanceof Array))&&($("#"+au).length)){var ax=$("#"+aE)[0].plasticopts;var aj=$("#"+au)[0].plasticopts;var aI=((aj)&&(aj.selected))?aj.selected:null;var az=(aI)?((aC[1].attributes)&&(aI in aC[1].attributes))?aC[1].attributes[aI]:(aI in aC[1])?aC[1][aI]:{}:{};var aw=(av)?((av.attributes)&&(aI in av.attributes))?av.attributes[aI]:(aI in av)?av[aI]:{}:{};var at=((ap)&&(ap.length>1))?(aI in ap[1])?ap[1][aI]:{}:{};var al=$.extend({},az,aw,at);for(var ai in al){if(al[ai]===aJ){aA=true;break}}if(aA){delete (aK[am])}else{var aG=((ax)&&("prettyNames" in ax)&&(am in ax.prettyNames))?ax.prettyNames[am]:(am in aF.option("prettyNames"))?aF.option("prettyNames")[am]:am;var ar=((ax)&&("prettyNames" in ax)&&(au in ax.prettyNames))?ax.prettyNames[au]:(au in aF.option("prettyNames"))?aF.option("prettyNames")[au]:au;var ah=(aj.filterTitle===undefined)?"Selected: "+ar:aj.filterTitle;aK[am]='<span class="plastic-system-feedback-title">Validation Error:</span>Specified ['+aG+"] '"+aJ+"' not found in the <nobr>["+ah+"]</nobr> list, please modify your selection."}}}}}}}for(var aq in ap[1]){}}}}if(this.updateRowHandler){aL=this.updateRowHandler.call(aF,aC,av,aK,ap,aN,ay)}else{aL=aN.call(this,aC,av,aK,ap,ay)}return aL};this.deleteRowHandler=null;this.deleteRow=function(ah,aj,ag){var ai=0;if(u[ah]){this.updateRow(ah,[{status:"deleting",id:p.nextSequence()},{deleted:true}],aj,ag)}else{}return ai};this.parent=function ae(ag){if(arguments.length){t=ag}return t};this.readRows=function D(){var aj=((arguments.length>2)&&(typeof(arguments[2])==="function"));var am=(aj)?arguments[0]:null;var al=(aj)?arguments[1]:arguments[0];var an=(aj)?arguments[2]:arguments[1];var ai=(aj)?arguments[3]:arguments[2];var ak=[jQuery.extend({},ai,{status:"cached",id:this.nextSequence()})];var ag=0;var ah=function(aq,ao){ag++;if((aq)&&(aq.length===2)){ak[ak.length]=aq[1];var ap=aq[1].next;if(ap===null){if((an)&&(typeof(an)==="function")){an(ak,ao)}else{}}else{if((ag%500)===0){setTimeout(function(){p.readRow(am,ap,ah,ao)},0)}else{p.readRow(am,ap,ah,ao)}}}else{if((aq.length===0)||(aq[0].status==="empty")){an(aq,ao)}else{throw new Error("Bad rowObjects[] found in datastore.readRows.")}}};this.readRow(am,al,ah,ai)};this.createRows=function B(ag,ah){};this.updateRows=function(ag){};this.deleteRows=function(ag){};this.commitRowHandler=null;this.commitRow=function n(aj,ak,ah){var ai=this;var ag=function(ap,am){var an=((am)&&(am.keyset))?am.keyset:{};for(var al=1;al<ap.length;al++){if(an[ap[al].key]){delete (an[ap[al].key]);if(u[ap[al].key]){if(ap[al].error){}else{if(ap[al].deleted){delete (ap[al].dirty);ap[al].deleted=true;ap[al].isolated=true;delete (u[ap[al].key]);delete (A[ap[al].key])}else{delete (A[ap[al].key]);for(var ao in ap[al].dirty){if((ap[al].attributes)&&(ao in ap[al].attributes)){ap[al].attributes[ao]=ap[al].dirty[ao]}else{if((!(ao in l))&&(ao in ap[al])){ap[al][ao]=ap[al].dirty[ao]}}}delete (ap[al].dirty);for(var ao in ap[al].attributes){if((u[ap[al].key])&&(u[ap[al].key].attributes)&&(ao in ap[al].attributes)){u[ap[al].key].attributes[ao]=ap[al].attributes[ao]}}for(var ao in ap[al]){if(ao==="attributes"){continue}if((u[ap[al].key])&&(!(ao in l))&&(ao in u[ap[al].key])){u[ap[al].key][ao]=ap[al][ao]}}u[ap[al].key].isolated=null;ap[al].isolated=null;ap[al].dirty=null}}}}}ak.call(ai,ap,am);Plastic.CartUpdate.call(ai)};if((this.commitRowHandler)&&(typeof(this.commitRowHandler)==="function")){this.commitRowHandler.call(ai,aj,ag,ah)}else{ag.call(ai,aj,ah)}};this.forgetRow=function(ah,ag){delete (A[ah]);Plastic.CartUpdate.call(this)};this.readCache=function(au,al){var ap=((al)&&(al.namespace))?al.namespace:"default";var at=((u[au])&&("parentKey" in u[au]))?u[au].parentKey:undefined;var ak=((at)&&(u[at]))?this.readCache(at,al):{};var ah=(ak.qualifiedTitle===G.delimiter)?"":ak.qualifiedTitle;var ao=(u[au])?((A[au])&&(A[au].title))?A[au].title:u[au].title:"(New)";var am={};var aq=jQuery.extend({},A[au]);var an=(aq.attributes)?jQuery.extend({},aq.attributes):{};delete (aq.attributes);delete (aq.key);var aj=((y[ap])&&(y[ap][au]))?y[ap][au]:{};if((al)&&(al.flatten)){aj={next:(aj.firstChild)?aj.firstChild:(aj.next)?aj.next:((u[au])&&("parentKey" in u[au]))?((y[ap])&&(y[ap][u[au].parentKey]))?(y[ap][u[au].parentKey].next)?y[ap][u[au].parentKey].next:null:null:null,prev:(aj.prev)?((y[ap])&&(y[ap][aj.prev]))?(y[ap][aj.prev].lastChild)?y[ap][aj.prev].lastChild:aj.prev:aj.prev:((u[au])&&("parentKey" in u[au]))?u[au].parentKey:null,parentKey:this.root(),firstChild:null,lastChild:null}}var ai=(u[au])?jQuery.extend({},u[au],aq,am,aj):((al)&&(al.safe))?{}:null;if(ai){ai.attributes=((u[au])&&(u[au].attributes))?jQuery.extend({},u[au].attributes,an):jQuery.extend({},an);for(var ar in ai.attributes){if((u[au])&&(u[au].attributes)&&(u[au].attributes[ar]!==undefined)&&(typeof(u[au].attributes[ar])==="object")&&(an[ar]!==undefined)){ai.attributes[ar]=((u[au].attributes[ar] instanceof Date)||(an[ar] instanceof Date))?an[ar]:jQuery.extend({},u[au].attributes[ar],an[ar])}}ai.error=(F[au])?F[au]:null;var av=jQuery.extend({},aq,an);if(av){for(var ag in av){ai.dirty=av;break}}}return ai};this.cacheRow=function ac(ai,am,ah){var aj=((ah)&&(ah.namespace))?ah.namespace:"default";am._owner=this;am._updated=new Date();var ak=("parentKey" in am)?am.parentKey:undefined;var al=((ak)&&(u[ak]))?this.readCache(ak,ah):{};if(u[ai]){jQuery.extend(u[ai],am)}else{if(!(am.ancestorFlag)){am.ancestorFlag=this._ancestorFlag}if(!(am.children)){am.children=this._children}if(!(am.parent)){am.parent=this._parent}if(!(am.siblings)){am.siblings=this._siblings}if((G.augment)&&(am.augment===undefined)){var ag=false;am.augment=function(ao,ap,an){if(ag){ap(ao,an)}else{ag=true;if(_PlasticRuntime.datastore[G.augment[0]]){_PlasticRuntime.datastore[G.augment[0]].readRow(ao[1].key,function(ar,aq){if((ar)&&(ar.length>1)){p.updateRow(ao[1].key,[{status:"augmenting",id:p.nextSequence()},ar[1].attributes],ap,aq)}else{ap(ao,aq)}},{namespace:"default"})}}}}h+=1;u[ai]=am}if(!(y[aj])){y[aj]={}}if(!(y[aj][ai])){y[aj][ai]={}}$.each(["firstChild","prev","next","lastChild"],function(ao,an){if((an in u[ai])&&(u[ai][an]!==undefined)){y[aj][ai][an]=u[ai][an];delete (u[ai][an])}else{var ap=((al)&&(al.lastChild))?al.lastChild:undefined;switch(an){case"firstChild":case"lastChild":y[aj][ai][an]=null;break;case"prev":case"next":if(ak===null){y[aj][ai].prev=null;y[aj][ai].next=null}else{if((ap)&&(y[aj])&&(y[aj][ap])){y[aj][ai].prev=ap;y[aj][ai].next=null;y[aj][ap].next=ai;y[aj][ak].lastChild=ai}else{if((al)&&(y[aj])&&(y[aj][ak])){y[aj][ai].prev=null;y[aj][ai].next=null;y[aj][ak].firstChild=ai;y[aj][ak].lastChild=ai}}}break}}})};this._actions=function ad(ak,aj,ag){var ai={};if(aj){if(/^@/.test(aj)){var ah=aj.replace(/^@/,"")+"#deleted";if(ak){if((ak.deleted)||((ak.attributes)&&(ak.attributes[ah])&&(ak.attributes[ah][ag]))){ai["delete"]=false}}}else{if((ak)&&(ak.deleted)){ai["delete"]=false}}}return ai};this._ancestorFlag=function r(ag,ah){var ai=(this.parentKey)?p.readCache(this.parentKey,ah):null;return((!this[ag])&&(ai))?ai.ancestorFlag(ag,ah):!!this[ag]};this._children=function Q(aj,ah){var ag;var ak=[];var ai=((ah)&&(ah.namespace))?ah.namespace:"default";ah=$.extend({},ah,{namespace:ai});if(this.firstChild){ag=p.readCache(this.firstChild,ah);if(ag===null){ak[ak.length]=undefined}else{ak[ak.length]=(aj)?ag.key:ag;while(ag.next!==null){ag=p.readCache(ag.next,ah);ak[ak.length]=(aj)?ag.key:ag}}}return(ak.length)?ak:null};this._parent=function K(ah,ag){return(!(this.parentKey))?null:(ah)?p.readCache(this.parentKey,ag).key:p.readCache(this.parentKey,ag)};this._siblings=function m(ai,ah){var ag=this;var aj=[];while(ag.prev!==null){ag=p.readCache(ag.prev,ah);aj[aj.length]=(ai)?ag.key:ag}aj=aj.reverse();ag=this;while(ag.next!==null){ag=p.readCache(ag.next,ah);aj[aj.length]=(ai)?ag.key:ag}return aj};this._cacheShow=function E(ag){for(var ah in u){var aj=(u[ah]["prev"])?u[ah]["prev"]:"null";var ai=(u[ah]["next"])?u[ah]["next"]:"null"}};this.dirtyCount=function X(){var ah=0;for(var ag in A){ah++}for(var ag in u){if(u[ag].isolated){ah++}}return ah};this.dirtyList=function d(){var ak=[];var aC=((this.option("commit"))&&(this.option("commit").compatible))?this.option("commit").compatible:null;var ar=((this.option("commit"))&&(this.option("commit").crud))?this.option("commit").crud:null;if(aC){var am=function(aF){var aH=[];if(aF instanceof Array){for(var aG=0;aG<aF.length;aG++){for(var aD in aF[aG][0]){var aE=((aF[aG][0][aD].deleted)||(aF[aG][1][aD].deleted))?"d":((aF[aG][0][aD].isolated)||(aF[aG][1][aD].isolated))?"c":"u";aH[aG]=aE;break}}}else{}return aH};var aB=function(){var aF={deleted:[],isolated:[]};for(var aD=0;aD<=1;aD++){for(var aH in aF){for(var aE in arguments[aD][0]){aF[aH][aD]=(arguments[aD][0][aE][aH])?arguments[aD][0][aE][aH]:(arguments[aD][1][aE][aH])?arguments[aD][1][aE][aH]:null;break}}}var aG=(aF.deleted[0])?(aF.deleted[1])?0:-1:(aF.isolated[0])?(aF.deleted[1])?+1:(aF.isolated[1])?0:-1:((aF.deleted[1])||(aF.isolated[1]))?+1:0;return aG};var ax={},ag={};for(var ay in A){for(var at=0;at<aC.length;at++){var av=((u)&&(u[ay]))?((A[ay].attributes)&&(A[ay].attributes[aC[at]]!==undefined))?A[ay].attributes[aC[at]]:(A[ay][aC[at]]!==undefined)?A[ay][aC[at]]:((u[ay].attributes)&&(u[ay].attributes[aC[at]]!==undefined))?u[ay].attributes[aC[at]]:(u[ay][aC[at]]!==undefined)?u[ay][aC[at]]:null:null;if(av){if(ax[aC[at]]===undefined){ax[aC[at]]={}}if(ax[aC[at]][av]===undefined){ax[aC[at]][av]=[]}ax[aC[at]][av][ax[aC[at]][av].length]=ay;if(ag[ay]===undefined){ag[ay]=[]}ag[ay][ag[ay].length]=[ax[aC[at]][av],aC[at],av]}}}var aq={},ao=[];for(var ay in A){if(aq[ay]){continue}if(ag[ay]!==undefined){var ah=-1,aA=-1;for(var aw=0;aw<ag[ay].length;aw++){if(ag[ay][aw][0].length>ah){ah=ag[ay][aw][0].length;aA=aw}}if(ah>=0){for(var aj=0;aj<ag[ay][aA][0].length;aj++){var ai=ag[ay][aA][0][aj];if(aq[ai]){continue}aq[ai]=true;var al={};al[ai]=jQuery.extend({},u[ai]);var az={};az[ai]=jQuery.extend({},A[ai]);ao[ao.length]=[az,al]}ao.sort(aB);if((0)&&(ar)){var an=undefined;var ap=am(ao);var au=[];for(var aj=0;aj<ao.length;aj++){if(((an===undefined)||(ap[aj]===an))&&(aj<(ao.length-1))){au[au.length]=ao[aj]}else{if(au.length){ak[ak.length]=au}au=[];au[au.length]=ao[aj];if(aj===(ao.length-1)){if(au.length){ak[ak.length]=au}}}an=ap[aj]}}else{ak[ak.length]=ao}ao=[]}}else{if(aq[ay]){continue}aq[ay]=true;var al={};al[ai]=jQuery.extend({},u[ai]);var az={};az[ai]=jQuery.extend({},A[ai]);ak[ak.length]=[[az,al]]}}}else{for(var ay in A){var al={};al[ay]=jQuery.extend({},u[ay]);var az={};az[ay]=jQuery.extend({},A[ay]);ak[ak.length]=[[az,al]]}}return ak};this._loadedAttrs=function J(ai){var aj=[],ag={};for(var ah in u){for(var ak in u[ah]){if(typeof(u[ah][ak])!=="function"){ag["+"+ak]=(ag["+"+ak]===undefined)?1:ag[ak]+1}}if(u[ah].attributes){for(var ak in u[ah].attributes){ag[ak]=(ag[ak]===undefined)?1:ag[ak]+1}}}for(var ak in ag){aj[aj.length]=ak}aj.sort();return(ai)?aj.join(","):aj};this._dirtyObj=function ab(){};this._errorObj=function H(){};this._cacheObj=function o(){};this._lruShow=function Y(){for(var ah in u){if(ah!=="null"){var ag=((u[ah]["_lru"])&&(u[ah]["_lru"][0]))?u[ah]["_lru"][0]:"null";var ai=((u[ah]["_lru"])&&(u[ah]["_lru"][1]))?u[ah]["_lru"][1]:"null"}}};this._lruBottom=function M(ah){var ag=(f[0])?f[0]:null;var ai=(f[1])?f[1]:null;if((ah!==null)&&(u[ah])){if(u[ah]["_lru"]===undefined){u[ah]["_lru"]=[]}if((u[ah]["_lru"])&&(u[ah]["_lru"].length)){if((u[ah]["_lru"][0])&&(u[u[ah]["_lru"][0]])){if((u[ah]["_lru"][1])&&(u[u[ah]["_lru"][1]])){u[u[ah]["_lru"][0]]["_lru"][1]=u[u[ah]["_lru"][1]];u[u[ah]["_lru"][1]]["_lru"][0]=u[u[ah]["_lru"][0]]}else{f[1]=u[ah]["_lru"][0]}}else{if((u[ah]["_lru"][1])&&(u[u[ah]["_lru"][1]])){}}}if((ag)&&(u[ag])){u[ag]["_lru"][0]=ah;u[ah]["_lru"]=[];u[ah]["_lru"][1]=ag}u[ah]["_lru"][0]=null;f[0]=ah}else{}}}(function(b){b.fn.plasticstack=function(d){var m=this;var c=arguments;var h={};var j={};var e=0;this._make={tab:function n(p){var o="";var q=this;q.activate=function r(t,s){b(this).tabs("select",b(t).closest(".plastic-tab-child",m).attr("id"))};b(this).children().each(function(){this.parent=q;var s=(b(this).hasClass("plastic-layout"))?b(this).attr("for")||b(this).attr("id"):b(this).attr("id");var t=((p)&&(p.prettyNames)&&(p.prettyNames[s]))?p.prettyNames[s]:s;o+='<li><a class="plastic-stack-status" href="#'+s+'">'+t+"</a></li>";b(this).addClass("plastic-tab-child")});b(this).prepend(b('<div class="stack-tab-sizer"><iframe class="stack-tab-sizeframe plastic-sizeframe" /><ul>'+o+"</ul></div>"));b(this).children().wrapAll('<div class="stack-tab-wrap" />');b(this).resize(function(s){s.stopPropagation();b(this).outerHeight(((arguments.length>1)&&(arguments[1].height))?arguments[1].height:b(this).parent().height());b(this).children(".Plastic").each(function(){b(this).triggerHandler("resize")})});return b(this).tabs({title:"PlasticTabStack",beforeLoad:function(s,t){t.jqXHR.error(function(){t.panel.html("Couldn't load this tab. We'll try to fix this as soon as possible. If this wouldn't be a demo.")})},show:function(s,t){b(t.panel).trigger("activated.plastic")}})},hsplit:function f(p){var o=b(this).attr("id");b(this).children().addClass("plastic-visible-inactive");b(this).on("mousedown",".plastic-hsplit",Plastic.SplitDown);if(!(b("#plastic-split-wrap").length)){b("body").prepend(b('<div id="plastic-split-wrap" class="Plastic plastic-hsplit-wrap plastic-vsplit-wrap pre-init" />'));b("#plastic-split-wrap").on("mousemove",Plastic.SplitMove);b("#plastic-split-wrap").on("mouseup",Plastic.SplitUp)}b(this).addClass("plastic-split-horizontal");var q=b(this).children(".Plastic:first");var r=q.nextAll(".Plastic");while(r.length){var s="100%";if(q.hasClass("plastic-width-fixed")){s=parseInt(q.outerWidth())+"px"}else{if(q.hasClass("plastic-width-manual")){q.parent().prepend('<div id="psplit_'+q.attr("id")+'" class="plastic-hsplit" />');q.css("margin-right",parseInt(q.prev().outerWidth())+"px");s=parseInt(q.outerWidth()+q.prev().outerWidth())+"px"}}q.css({left:"unset",right:"100%"});q.parent().css("border-left","solid transparent "+s);b('<div class="plastic-hsplit-child" data-level="'+e+'">').appendTo(q.parent()).append(r);q=q.next().children(".Plastic:first");r=q.nextAll(".Plastic")}b(this).resize(function(t){t.stopPropagation();b(this).parent().triggerHandler("resize")});b(this).parent().resize(function(t){return true;t.stopPropagation();if(t.target===this){var v=b(this).outerWidth();var u=0;b(this).children(".stack-hsplit").children("div.plastic-hsplit").each(function(){v-=b(this).outerWidth()});b(this).children(".stack-hsplit").children("div.plastic-width-fixed").each(function(){v-=b(this).outerWidth()});b(this).children(".stack-hsplit").children("div.plastic-width-manual").each(function(){v-=b(this).outerWidth()});if(v>0){u=(v/b(this).children(".stack-hsplit").children("div.plastic-width-auto").length);b(this).children(".stack-hsplit").children("div.plastic-width-auto").each(function(){b(this).outerWidth(u)});if(b(this).parent()[0].tagName=="BODY"){b(this).height(b(window).height()-(parseInt(b("body").css("margin-top"))+parseInt(b("body").css("margin-bottom"))))}else{b(this).height(parseInt(b(this).parent().css("margin-top"))+parseInt(b(this).parent().css("margin-bottom")))}}b(this).children(".stack-hsplit").each(function(){b(this).children(".plastic-hsplit, .plastic-hsplit-child").each(function(){var y=(b(this).hasClass("plastic-hsplit-child"))?b(this).prevAll(".plastic-hsplit:first"):b(this).prevAll(".plastic-hsplit-child:first");if(y.length){var x=parseInt(y.css("margin-left"))+y.outerWidth();b(this).css("margin-left",x+"px")}if((b(this).hasClass("plastic-hsplit-child"))){b(this).triggerHandler("resize")}})})}});return b(this)},vsplit:function i(p){var o=b(this).attr("id");b(this).children().addClass("plastic-visible-inactive");b(this).on("mousedown",".plastic-vsplit",Plastic.SplitDown);if(!(b("#plastic-split-wrap").length)){b("body").prepend(b('<div id="plastic-split-wrap" class="Plastic plastic-hsplit-wrap plastic-vsplit-wrap pre-init" />'));b("#plastic-split-wrap").on("mousemove",Plastic.SplitMove);b("#plastic-split-wrap").on("mouseup",Plastic.SplitUp)}b(this).addClass("plastic-split-vertical");var r=b(this).children(".Plastic:first");var s=r.nextAll(".Plastic");while(s.length){var q="100%";if(r.hasClass("plastic-height-fixed")){q=parseInt(r.outerHeight())+"px"}else{if(r.hasClass("plastic-height-manual")){r.parent().prepend('<div id="psplit_'+r.attr("id")+'" class="plastic-vsplit" />');r.css("margin-bottom",parseInt(r.prev().outerHeight())+"px");q=parseInt(r.outerHeight()+r.prev().outerHeight())+"px"}}r.css({top:"unset",bottom:"100%"});r.parent().css("border-top","solid transparent "+q);b('<div class="plastic-vsplit-child" data-level="'+e+'">').appendTo(r.parent()).append(s);r=r.next().children(".Plastic:first");s=r.nextAll(".Plastic")}b(this).resize(function(t){t.stopPropagation();b(this).parent().triggerHandler("resize")});b(this).parent().resize(function(t){return true;t.stopPropagation();if(t.target===this){var v=b(this).outerWidth();var u=0;b(this).children(".stack-hsplit").children("div.plastic-hsplit").each(function(){v-=b(this).outerWidth()});b(this).children(".stack-hsplit").children("div.plastic-width-fixed").each(function(){v-=b(this).outerWidth()});b(this).children(".stack-hsplit").children("div.plastic-width-manual").each(function(){v-=b(this).outerWidth()});if(v>0){u=(v/b(this).children(".stack-hsplit").children("div.plastic-width-auto").length);b(this).children(".stack-hsplit").children("div.plastic-width-auto").each(function(){b(this).outerWidth(u)});if(b(this).parent()[0].tagName=="BODY"){b(this).height(b(window).height()-(parseInt(b("body").css("margin-top"))+parseInt(b("body").css("margin-bottom"))))}else{b(this).height(parseInt(b(this).parent().css("margin-top"))+parseInt(b(this).parent().css("margin-bottom")))}}b(this).children(".stack-hsplit").each(function(){b(this).children(".plastic-hsplit, .plastic-hsplit-child").each(function(){var y=(b(this).hasClass("plastic-hsplit-child"))?b(this).prevAll(".plastic-hsplit:first"):b(this).prevAll(".plastic-hsplit-child:first");if(y.length){var x=parseInt(y.css("margin-left"))+y.outerWidth();b(this).css("margin-left",x+"px")}if((b(this).hasClass("plastic-hsplit-child"))){b(this).triggerHandler("resize")}})})}});return b(this)},stack:function g(o){var p=this;b(this).children().each(function(r){this.parent=p;if(r){b(this).addClass("plastic-stack-hidden")}else{var q=b(".plastic-stack-active").plasticDataSorter("plastic-active").last().data("plastic-active");if(q===undefined){q=49}b(this).addClass("plastic-stack-active").data("plastic-active",++q)}});b(this).resize(function(q){q.stopPropagation();b(this).outerHeight(b(this).parent().height());b(this).children(".Plastic").each(function(){b(this).triggerHandler("resize")})});return b(this)}};this._appendFramework=function l(){};return this.each(function(p){var o=b(this).attr("id");e++;var q=(c.length>=2)?c[1]:{};if((c[0])&&(m._make[c[0]]!==undefined)){j[o]=m._make[c[0]].call(this,q);j[o][0].plasticopts=q;j[o][0].plasticstack=m;j[o][0].plasticcomponent=c[0];j[o][0].isplastic="stack";if((q)&&(q.defaultwidth)){j[o].outerWidth(q.defaultwidth);j[o].addClass("plastic-width-manual")}else{if((q)&&(q.fixedwidth)){j[o].outerWidth(q.fixedwidth);j[o].addClass("plastic-width-fixed")}else{j[o].addClass("plastic-width-auto")}}if((q)&&(q.defaultheight)){j[o].outerHeight(q.defaultheight);j[o].addClass("plastic-height-manual")}else{if((q)&&(q.fixedheight)){j[o].outerHeight(q.fixedheight);j[o].addClass("plastic-height-fixed")}else{j[o].addClass("plastic-height-auto")}}}else{j[o]=b(this).append(b('<div class="plastic-undefined-component">Undefined Stack: '+c[0]+"</div>"))}j[o].addClass("plastic-stack").children(".Plastic").addClass("plastic-stack-child")})};b.fn.plasticstack.tabstack=function(){}})(jQuery);(function(c){c.fn.plasticview=function(){var t=this;var d=arguments;var n={};var p={};var h={};this.bindDatastore=function j(){var u=(arguments.length==2)?arguments[1]:"default";h[u]=arguments[0];h[u].bindView(this,u);if((this[0])&&(this[0].initialize)&&(typeof(this[0].initialize)==="function")){this[0].initialize(h[u],{namespace:u})}};if(d[0]=="tree"){this.views=function(){for(var u in n){}}}this.rowsCreated=function(v,u){v[0]=c.extend(v[0],{status:"created"});return t.rowsRead(v,u)};this.rowsRead=function e(u,D){for(var M in n){switch(n[M][0].plasticcomponent){case"tree":var B=n[M].dynatree("getTree");var L=B.$tree.attr("id");var J=n[M].dynatree("getRoot");var C=B.enableUpdate(false);var z=[];if((u.length===0)||(u[0].status==="empty")){if((u.length)&&(u[0].parentKey)){var y=B.getNodeByKey(u[0].parentKey);y.data.isLazy=false;y.setLazyNodeStatus(DTNodeStatus_Ok)}}else{for(var K=1;K<u.length;K++){var E=u[K];var y=B.getNodeByKey(E.parentKey);y=(y)?y:J;var x={title:E.title,key:E.key,tooltip:E.tooltip,isFolder:true,isLazy:true};if((E.children===null)||((typeof(E.children)==="function")&&(E.children()===null))){x.isLazy=false}if((t[0].plasticopts)&&(t[0].plasticopts.types)&&(E.type)&&(t[0].plasticopts.types[E.type])&&(t[0].plasticopts.types[E.type].length)){x.isFolder=(t[0].plasticopts.types[E.type][0]==="folder")}var I=B.getNodeByKey(E.key);if(I){if((u[K].isolated)&&(u[K].deleted)){I.remove();if((u[K].key)&&(c(".Plastic").plasticKeyFilter(u[K].key).length)){var v=c(".Plastic").plasticKeyFilter(u[K].key);if((v)&&(v.length)&&(v[0].disable)&&(typeof(v[0].disable)==="function")){v[0].disable(true)}}}else{I.data.rowObject=u[K];I.data.title=I.data.rowObject.title;I.data.tooltip=I.data.rowObject.tooltip;if((u[0].status)&&((u[0].status==="updated")||(u[0].status==="clear")||(u[0].status==="commit"))){var H=(u[0].status==="clear")?"render":"update";if((u[K].key)&&(c(".Plastic").plasticKeyFilter(u[K].key).length)){var v=c(".Plastic").plasticKeyFilter(u[K].key);if((v)&&(v.length)&&(v[0][H])&&(typeof(v[0][H])==="function")){v[0][H]([{source:t,status:u[0].status},u[K]])}}}if(L in p){clearTimeout(p[L]);delete (p[L])}var G=function(){y.sortChildren();I.render();var N=I.span;n[M].animate({scrollTop:c(N).offset().top-n[M].offset().top+n[M].scrollTop()-20},"slow")};p[L]=setTimeout(G,50)}}else{if(u[0].status==="created"){if(!(y.isExpanded())){y.expand()}I=y.addChild(x);I.data.rowObject=u[K];y.sortChildren();I.activate();var A=I.span;if(L in p){clearTimeout(p[L]);delete (p[L])}var G=function(){n[M].animate({scrollTop:c(A).offset().top-n[M].offset().top+n[M].scrollTop()-20},"slow")};p[L]=setTimeout(G,50)}else{I=y.addChild(x);if((u[K].firstChild!==null)&&(u[K].firstChild===u[K].lastChild)){z[z.length]=I}I.data.rowObject=u[K]}}if((n[M][0].plasticopts)&&(n[M][0].plasticopts._hasDefault)){var F=n[M][0].plasticopts._hasDefault;if((typeof(F)==="string")&&(E.key===n[M][0].plasticopts._hasDefault)){delete (n[M][0].plasticopts._hasDefault);c(t).trigger("rowactivate.plastic",{key:F})}}}}B.enableUpdate(C);if(z.length){c.each(z,function(){this.expand()})}t.trigger("expanded.plastic");if(!(n[M].find(".dynatree-loading").length)){c("a.plastic-stack-status[href=#"+M+"]").removeClass("plastic-component-loading")}break;case"list":t[0].PlasticAjaxProc(u,D);c("a.plastic-stack-status[href=#"+M+"]").removeClass("plastic-component-loading");break;default:break}}};this.rowsUpdated=function(v,u){return t.rowsRead(v,u)};this.rowsDeleted=function(v,u){return t.rowsRead(v,u)};this.rowsCommitted=function(v,u){_PlasticRuntime.system.commitpane.hide();return t.rowsRead(v,u)};this.reloadChildren=function(v,u){c(this).dynatree("getTree").getNodeByKey(v).reloadChildren()};this.activateRow=function(A,v){var u=c(this).attr("id");var x=((t)&&(t.length)&&(t[0].plasticcomponent))?t[0].plasticcomponent:undefined;switch(x){case"tree":var z=c.ui.dynatree.getNode(A);if(z){z.activateSilently()}break;case"list":var y=c("#"+u+"_list").DataTable();c(A.closest("tr")).find("input:first").trigger("click",{silent:true});break;default:break}};this.getRowObjectFor=function(B,x){var v=undefined;var z=c(this).attr("id");var u=((t)&&(t.length)&&(t[0].plasticcomponent))?t[0].plasticcomponent:undefined;switch(u){case"tree":var y=c.ui.dynatree.getNode(B);v=((y)&&(y.data)&&(y.data.rowObject))?y.data.rowObject:{};break;case"list":var D=c("#"+z+"_list").DataTable();var C=(B.closest("td"))?D.cell(B.closest("td")):undefined;var E=(C)?C.index().row:undefined;var A=((C)&&(C.settings()))?C.settings()[0].aoColumns[C.index().column].data:undefined;v=(E!==undefined)?c.extend({},D.row(E).data().rowObject,{"#selected":A}):{};break;default:v={};break}return v};this._make={tree:function l(x){var u=c(this).attr("id");var B=((x)&&(x.forceRootExpanded))?2:null;var v=((x)&&(x.datastore))?x.datastore:null;var z=((x)&&(x.namespace))?x.namespace:"default";var A=((v)&&(_PlasticRuntime.datastore[v]))?_PlasticRuntime.datastore[v]:null;var y=((x)&&(A))?c.extend({},A.option("prettyNames"),x.prettyNames):{};c(this).resize(function(C){C.stopPropagation();c(this).outerHeight(c(this).parent().height()-c(this).parent().children("ul:first").outerHeight())});c(this).on("initialize.plastic",function(G){if(G.target===this){G.stopPropagation();var E=((this)&&(this.plasticopts))?this.plasticopts:{};var C=(E.datastore)?E.datastore:null;var F=((C)&&(_PlasticRuntime.datastore[C]))?_PlasticRuntime.datastore[C]:null;var D=function(){t.rowsRead.apply(t,arguments);if((t.length)&&(t[0].plasticopts)){if(t[0].plasticopts.autoExpand){t.dynatree("getRoot").visit(function(H){H.expand(true)})}}};if((E)&&(E.defaultTarget)&&(_PlasticRuntime.inventory[E.defaultTarget])&&(_PlasticRuntime.inventory[E.defaultTarget].options)&&(_PlasticRuntime.inventory[E.defaultTarget].options.isDefault)){E._hasDefault=_PlasticRuntime.inventory[E.defaultTarget].options.isDefault}if(F){F.readRows(null,null,D,E)}}});c(this).addClass("plastic-scroll-container");c(this).on("click",".plastic-treenode-state.plastic-disabled",function(C){if(C.clientX<(c(this).offset().left+20)){c(this).parent().children(":first").trigger("click")}});c(this).on("activated.plastic expanded.plastic",function(){c(".plastic-treenode-summary.plastic-unpainted:visible").each(function(){var D=c(this).data("node");var C=this;setTimeout(function(){c(C).sparkline(c(D).data("sparkvalues"),c(D).data("sparkopts")).removeClass("plastic-unpainted");var E=c(".plastic-treenode-summary",D.span).children("canvas");if(E.length){c(D).data("canvas",E)}},Math.floor((Math.random()*500)+501))})});c(this).on("rowactivate.plastic",function(E,F){var C=c(this).dynatree("getTree");var D=((F)&&(F.key))?C.getNodeByKey(F.key):c.ui.dynatree.getNode(E.target);t._activateFramework.call(D,E,F)});return c(this).dynatree({title:"TreeRoot_"+u,key:"TreeRoot_"+u,clickFolderMode:1,minExpandLevel:B,onExpand:function(C,D){if(C){t.trigger("expanded.plastic")}else{if(t[0].plasticopts.resetOnCollapse){D.removeChildren()}}},onLazyRead:function(C){c("a.plastic-stack-status[href=#"+u+"]").addClass("plastic-component-loading");t._appendFramework.call(C)},onDblClick:function(C,D,E){t._activateFramework.call(C,D,E)},onClick:function(C,D,E){if(C.isActive()){if(C.getEventTargetType(D)==="title"){if((d)&&(d.length>1)&&(d[1].activateOnClick!==undefined)){if(d[1].activateOnClick){t._activateFramework.call(C,D,E);return false}else{return true}}else{t._activateFramework.call(C,D,E);return false}}else{return true}}else{return true}},onActivate:function(C,D,E){if((d)&&(d.length>1)&&(d[1].activateOnClick!==undefined)){if(d[1].activateOnClick){t._activateFramework.call(C,D,E)}}else{t._activateFramework.call(C,D,E)}},onSelect:function(C){t._selectFramework.call(C)},onCreate:function(D){if((D)&&(D.data)&&(D.data.rowObject)){if((x)&&(x.summary)&&(x.summary.map)){var K={names:{}};var H=[];var J={type:"pie",tooltipChartTitle:x.summary.map.title,sliceColors:H,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> {{color:names}} ({{percent.1}}%)',tooltipValueLookups:K};var C=0,I=[];for(var G in x.summary.map){if(typeof(x.summary.map[G])==="string"){K.names[x.summary.map[G]]=(y[G])?y[G]:G;H[C]=x.summary.map[G]}else{for(var E in x.summary.map[G]){K.names[E]=x.summary.map[G][E];H[C]=E}}I[C]=D.data.rowObject.attributes[G];C++}var F=c('<span class="plastic-treenode-summary" />');F.data("node",D);c(D).data({sparkvalues:I,sparkopts:J,status:F})}}},onRender:function(H){if((H)&&(H.data)&&(H.data.rowObject)){if((H.data.rowObject.deleted)||(H.data.rowObject.ancestorFlag("deleted"))){c(H.span).addClass("plastic-deleted").find("a").addClass("plastic-deleted")}if(H.data.rowObject.dirty){c(H.span).addClass("plastic-dirty")}if(H.data.rowObject.error){c(H.span).addClass("plastic-error")}if(H.data.rowObject.isolated){c(H.span).addClass("plastic-isolated")}if((H.data.rowObject.disabled)||(H.data.rowObject.ancestorFlag("disabled"))){c(H.span).addClass("plastic-disabled");c(H.span).append('<div class="plastic-treenode-state plastic-disabled" />')}if((x)&&(x.types)&&(H.data.rowObject.type)&&(x.types[H.data.rowObject.type])&&(x.types[H.data.rowObject.type].length>1)){c(H.span).addClass(x.types[H.data.rowObject.type][1])}if(c(H).data("status")){var C=c(H).data("status");var F=c(H).data("canvas");var E=c(H).data("shapegroup");c(".dynatree-icon",c(H.span)).after(C);if(F){if(c("canvas",C).length===0){c(C).append(F)}}else{if(E){if(c("shapegroup",C).length===0){c(H.span).append(E)}}else{C.addClass("plastic-unpainted")}}}if((x)&&(x.renderAppend)){var D=[];for(var I=0;I<x.renderAppend.length;I++){for(var G in x.renderAppend[I]){if((H.data.rowObject.attributes)&&(H.data.rowObject.attributes[G])){var J=c(H.span).find("a:first");J.text(J.text()+Plastic.VarExpand(x.renderAppend[I][G],H.data.rowObject))}}}}}}})},list:function g(G){var D=c(this).attr("id");var C=null;var I={};var v={};c(this).children(".Plastic").each(function(){if(this.plasticopts){this.plasticopts._=c.extend({},this.plasticopts._,{flatten:true})}});var B=((G)&&(G.datastore))?G.datastore:null;var H=((G)&&(G.namespace))?G.namespace:"default";var L=((B)&&_PlasticRuntime.datastore[B])?_PlasticRuntime.datastore[B]:null;c(this).on("draw.dt",function(){var U=c(this).find(".dataTables_scrollHead:first");var T=(parseInt(U.outerHeight()))?parseInt(U.outerHeight()):25;c(this).find(".dataTables_scroll:first").css("border-top-width",T+"px");U.css("top","-"+T+"px")});c(this).resize(function(T){T.stopPropagation();c(this).outerHeight(c(this).parent().height()-c(this).parent().children("ul:first").outerHeight())});this.PlasticAjaxProc=function z(U,ad){var ak=((U)&&(U.length)&&U[0].ajaxid)?U[0].ajaxid:0;if((ak)&&(I)&&(I[ak])){var X=0,ab=0;if((I[ak].retFunction)&&(typeof(I[ak].retFunction)==="function")){if(U.length>1){var ao=[],ai={};if(L){var T=L.option("attributes").split(",");var W=0;for(var ae=0;ae<(U.length-1);ae++){X++;if(U[ae+1].hidden){continue}ab++;if((ae>=I[ak].data.start)&&(ae<I[ak].data.start+45)){ao[W]={};ao[W].rowObject=c.extend({},U[ae+1]);for(var aj=0;aj<T.length;aj++){if((U[ae+1])&&(U[ae+1].attributes)){var an=T[aj];ao[W][an]=(U[ae+1].attributes[an]!==undefined)?U[ae+1].attributes[an]:U[ae+1][an]}}v[U[ae+1]["key"]]=W;W++}}ai.draw=ak;ai.recordsTotal=U.length;ai.recordsFiltered=U.length;ai.data=ao;I[ak].retFunction(ai)}}}}else{if((U)&&(U.length>1)){if(L){var T=L.option("attributes").split(",");var al=c(this).find(".plastic-scroll-container .dataTable:first").DataTable();var ag=0;var Z=-1;var ac=undefined;for(var am=1;am<U.length;am++){if(U[0].status==="created"){var ah={};for(var aj=0;aj<T.length;aj++){if((U[am])&&(U[am].attributes)){var an=T[aj];ah[an]=(U[am].attributes[an]!==undefined)?U[am].attributes[an]:U[am][an]}}ah.rowObject=U[am];v[ah.key]=al.row()[0].length;al.row.add(ah);ag+=1}else{var aa=v[U[am].key];if(aa!==undefined){var ao=al.row(aa).data();for(var aj=0;aj<T.length;aj++){if((U[am])&&(U[am].attributes)){var an=T[aj];ao[an]=(U[am].attributes[an]!==undefined)?U[am].attributes[an]:U[am][an]}}ao.rowObject=U[am];al.row(aa);ag+=1;if((C)&&(U[am].key===C)){Z=am;ac=aa}}}}if(ag){var Y=this.plasticview.getScrollDetails();al.draw();this.plasticview.setScrollDetails(Y)}if(Z>=0){c(al.row(ac).node()).addClass("plastic-view-list-selected").find("td:first input:first").prop("checked",true);var af="update";if((U[Z].key)&&(c(".Plastic").plasticKeyFilter(U[Z].key).length)){var V=c(".Plastic").plasticKeyFilter(U[Z].key);if((V)&&(V.length)&&(V[0][af])&&(typeof(V[0][af])==="function")){V[0][af]([{source:t,status:U[0].status},U[Z]])}}}}}}};this.PlasticAjax=function u(W,Y,V){var X={};var T=G;var U=parseInt(W.draw);if(I[U]===undefined){I[U]={};I[U].data=W;I[U].retFunction=Y;I[U].settings=V;if(L){L.readRows(null,null,t.rowsRead,{namespace:H,ajaxid:U,flatten:true})}else{}}return X};this._getRowData=function M(){var T=c(this).closest(".plastic-view-list-base").dataTable();var U=T.fnGetPosition(c(this).parent()[0])[0];return T.api().row(U).data()};c(this).on("click",".plastic-view-list-selector",function(aa,Y){aa.stopPropagation();var X=(aa.originalEvent)?(c(this).prop("checked"))?true:false:(c(this).prop("checked"))?false:true;if(c(this).attr("type")==="radio"){c(this).closest("tr").siblings().removeClass("plastic-view-list-selected");X=true}if(X){c(this).closest("tr").addClass("plastic-view-list-selected");C=((t.length)&&(t[0]._getRowData))?t[0]._getRowData.call(this).key:null}else{c(this).closest("tr").removeClass("plastic-view-list-selected")}var U=c(this).closest(".Plastic.view-list");var V=(U)?U.attr("id"):null;var T=((U)&&(U.length)&&(U[0].plasticopts))?U[0].plasticopts.datastore:null;var W=((U)&&(U.length)&&(U[0].plasticopts))?U[0].plasticopts.namespace:"default";var Z=((U)&&(_PlasticRuntime.datastore[T]))?_PlasticRuntime.datastore[T]:null;this.data=t[0]._getRowData;if((Y)&&(Y.silent)){}else{c(this).closest(".Plastic.view-list")[0].plasticview._activateFramework.call(this,undefined,{target:c(this).closest(".Plastic.plastic-view")})}});c(this).on("mouseup",".plastic-view-list-base.dataTable td.plastic-list-flagbox",function(T){if(T.target===this){c(this).children(".plastic-view-list-selector").click()}});c(this).on("mouseover",".plastic-view-list-base.dataTable td:not(.plastic-list-flagbox):not(.dataTables_empty)",function(X){var W=c(this).closest(".plastic-view-list-base").DataTable();var T=W.cell(c(this).closest("td"));var Z=(T)?T.index().row:undefined;var Y=(Z!==undefined)?W.row(Z).data().rowObject:{};var U=(T)?T.index().column:undefined;var aa=((T)&&(T.settings()))?T.settings()[0].aoColumns[T.index().column].data:undefined;if(T){var V=(Plastic.Test.call(t,Y,"canupdate",{path:aa}))?"removeClass":"addClass";c(c(this).closest("td"))[V]("plastic-disabled")}});c(this).on("mouseup",".plastic-view-list-base.dataTable td:not(.plastic-list-flagbox):not(.dataTables_empty)",function(X){if((X.button!==2)&&(!(c(this).find(".plastic-view-list-edit").length))&&(!(c(this).closest("tr").hasClass("plastic-deleted")))){var Z=c(this).closest(".Plastic.view-list").attr("id");var aa=c(this).closest(".plastic-view-list-base").DataTable();var Y=aa.cell(this.closest("td"));var ab=(Y)?Y.index().row:undefined;var V=(ab!==undefined)?aa.row(ab).data().rowObject:{};var T=(Y)?Y.index().column:undefined;var U=((Y)&&(Y.settings()))?Y.settings()[0].aoColumns[Y.index().column].data:undefined;if(c(this).find(".plastic-checkable-icon").length){if(Plastic.Test.call(t,V,"canupdate",{path:U})){c(this).find(".plastic-checkable-icon").toggleClass("ui-icon-blank").toggleClass("ui-icon-check")}}else{if(Plastic.Test.call(t,V,"canupdate",{path:U})){c(this).closest("tr").find("input.plastic-view-list-selector:first").click();if(c("div[plastic-sub-component="+Z+"]").length){var W=c("div[plastic-sub-component="+Z+"]").closest(".Plastic");if((W)&&(W.length)&&(W[0].plasticopts)&&(W[0].plasticopts.fulfill)&&(W[0].plasticopts.fulfill[U])){}else{c(this).html('<input name="'+Z+"_"+U+"__"+ab+'" id="'+Z+"_"+U+"__"+ab+'" type="text" class="plastic-view-list-edit" value="'+c(this).text()+'">');c(this).find(".plastic-view-list-edit").focus().select()}}else{c(this).html('<input name="'+Z+"_"+U+"__"+ab+'" id="'+Z+"_"+U+"__"+ab+'" type="text" class="plastic-view-list-edit" value="'+c(this).text()+'">');c(this).find(".plastic-view-list-edit").focus().select()}}}}});var K='<table class="plastic-view-list-base" id="'+D+'_list" width="100%"><thead><tr><th>&nbsp;</th>';var F="<td>&nbsp;</td>";var x=[];var Q={};var N=[];var J=[];if((G)&&(G.datastore)){c.extend(Q,_PlasticRuntime.datastore[G.datastore].option("prettyNames"));x=_PlasticRuntime.datastore[G.datastore].option("attributes").split(",");N=((G)&&(G.include))?G.include.split(/,/):_PlasticRuntime.datastore[G.datastore].option("selected").split(",")}var E={};for(var S=0;S<N.length;S++){E[N[S]]=S}if((G)&&(G.prettyNames)){c.extend(Q,G.prettyNames)}var O=[];var y=["plasticFlags"];var A;for(var P=0;P<x.length;P++){A=(Q[x[P]]!==undefined)?Q[x[P]]:x[P];K+="<th>"+A+"</th>";y[y.length]={data:x[P]};F+="<td>&nbsp;</td>";J[J.length]=(J.length+1);if(E[x[P]]===undefined){O[O.length]=(P+1)}}K+="</tr></thead><tbody></tbody</table>";c(this).append(c(K));var R="radio";c(this).on("initialize.plastic",function(T){if(T.target===this){c(this).children("table:first").dataTable({processing:true,serverSide:true,ajax:this.PlasticAjax,columnDefs:[{"class":"plastic-list-flagbox",orderable:false,render:function(){var U=(/\[.*S.*\]/.test(arguments[0]))?" checked":"";return'<input class="plastic-view-list-selector" name="'+D+'_select" type="'+R+'"'+U+">"},targets:0},{render:function(V,U,Y,X){var W=V;if(typeof(W)==="boolean"){W='<span class="plastic-checkable-icon ui-icon ui-icon-'+((W)?"check":"blank")+'"></span>'}return W},targets:J},{visible:false,targets:O}],rowCallback:function(W,V){if((V)&&(V.rowObject)){if(V.rowObject.deleted){c(W).addClass("plastic-deleted")}if(V.rowObject.dirty){c(W).addClass("plastic-dirty")}if(L){var U=L.option("selected");c(W).children("td").each(function(){})}}},order:[1,"asc"],paging:false,searching:false,info:false,scrollX:true,scrollY:"100%",scrollCollapse:false,deferRender:true,dom:"frtiS",columns:y});c(this).find(".dataTables_scrollBody").addClass("plastic-scroll-container")}});return c(this)}};this._appendFramework=function q(){var u=((d)&&(d.length>1)&&(d[1].namespace))?d[1].namespace:"default";h[u].readRows(this.data.key,null,t.rowsRead,{namespace:u})};this._activateFramework=function s(v,u){var C=((u)&&(u.target))?u.target:t[0];var H=t._findTarget(C);var z=((d)&&(d.length>1)&&(d[1].namespace))?d[1].namespace:"default";var D=true;if((d)&&(d.length>1)&&(d[1].allowIf)){var y=d[1].allowIf;for(var B=0;B<y.length;B++){D=Plastic.Test.call(C,this.data.rowObject,y[B],d[1]);if(!(D)){break}}}var G=function(M){var K=((u)&&(u.path))?u.path:undefined;var I=((u)&&(u.caller))?u.caller:undefined;var N=((this.data)&&(this.data.datastore))?this.data.datastore:undefined;var J=(N===undefined)?t:undefined;if((M[0].render)&&(typeof(M[0].render)==="function")){var L=(this.data)?(typeof(this.data)==="function")?this.data():this.data:null;if(L){if((L.rowObject.augment)&&(typeof(L.rowObject.augment)==="function")){c("#PlasticHSplit_MainLayout").css({cursor:"wait"});c(M).css({cursor:"wait"});L.rowObject.augment.call(h,[{source:J,datastore:N,path:K},L.rowObject],function(P,O){L.rowObject=P[1];M[0].render([{source:J,datastore:N,path:K,caller:I},P[1]]);c(".plastic-actionable").trigger("actiontest.plastic");c("#PlasticHSplit_MainLayout").css({cursor:"auto"});c(M).css({cursor:"auto"})},{namespace:z})}else{M[0].render([{source:J,datastore:N,path:K,caller:I},L.rowObject]);c(".plastic-actionable").trigger("actiontest.plastic")}}}};if(D){if((u)&&(u.path)){if((t)&&(t.length>0)&&(t[0].plasticopts)&&(t[0].plasticopts.datastore)){var x=u.path.split(/\//);if(x.length===2){var E=x[0].split(/:/);E[0]="domain";if((E[0].length>0)&&E[0]!==t[0].plasticopts.datastore){if(_PlasticRuntime.datastore[E[0]]!==undefined){var A=_PlasticRuntime.datastore[E[0]];var F=this.data.rowObject.key;var F="AC95E430-459F-3FCF-916B-D9A05769EE73";A.readRow(F,function(I){var J={data:{}};J.data.rowObject=I[1];J.data.datastore=E[0];G.call(J,H)},{namespace:"default"})}else{Plastic.Feedback.call(this,'Unable to activate item: "'+this.data.rowObject.qualifiedTitle+'" (Invalid Datastore)',"error",this.data.key)}}else{}}else{}}else{Plastic.Feedback.call(this,'Unable to activate item: "'+this.data.rowObject.qualifiedTitle+'" (Undefined Datastore)',"error",this.data.key)}}else{this.activateSilently&&this.activateSilently();G.call(this,H)}}else{Plastic.Feedback.call(this,'Unable to activate item: "'+this.data.rowObject.qualifiedTitle+'" (Permission Denied)',"information",this.data.key)}};this._selectFramework=function f(){};this._findTarget=function i(u){var v=((u.plasticopts)&&(u.plasticopts.defaultTarget))?u.plasticopts.defaultTarget:u;if(v.jquery===undefined){if(c("#"+v).length){v=c("#"+v)}}return v};this.getScrollDetails=function r(){var v=[];if(c(this).hasClass("plastic-scroll-container")){var x=c(this).scrollTop();var u=c(this).scrollLeft();v[v.length]=[this,{top:x,left:u}]}c(this).find(".plastic-scroll-container").each(function(){var z=c(this).scrollTop();var y=c(this).scrollLeft();v[v.length]=[this,{top:z,left:y}]});return(v.length)?v:undefined};this.setScrollDetails=function m(v){if(v){for(var u=0;u<v.length;u++){c(v[u][0]).scrollTop(v[u][1].top);c(v[u][0]).scrollLeft(v[u][1].left)}}};this.resize=function o(){};return this.each(function(y){var u=c(this).attr("id");var x=(d.length>=2)?d[1]:{};if((d[0])&&(t._make[d[0]]!==undefined)){n[u]=t._make[d[0]].call(this,x);n[u][0].plasticopts=x;n[u][0].plasticview=t;n[u][0].plasticcomponent=d[0];n[u][0].isplastic="view";var v=n[u][0].render;n[u][0].render=function z(A){this.source=(A[0].source)?A[0].source:undefined;this.datastore=(A[0].datastore)?A[0].datastore:undefined;this.path=(A[0].path)?A[0].path:undefined;c(this).data("plastic-row",A[1]);c(this).data("plastic-key",A[1].key);if((v)&&(typeof(v)==="function")){v.call(this,A)}};module("PlasticView");test("Find required (view) methods for: "+d[0]+" => "+u,function(){});if((x)&&(x.defaultwidth)){n[u].outerWidth(x.defaultwidth);n[u].addClass("plastic-width-manual")}else{if((x)&&(x.fixedwidth)){n[u].outerWidth(x.fixedwidth);n[u].addClass("plastic-width-fixed")}else{n[u].addClass("plastic-width-auto")}}if((x)&&(x.defaultheight)){n[u].outerHeight(x.defaultheight);n[u].addClass("plastic-height-manual")}else{if((x)&&(x.fixedheight)){n[u].outerHeight(x.fixedheight);n[u].addClass("plastic-height-fixed")}else{n[u].addClass("plastic-height-auto")}}n[u].resize(function(){})}else{n[u]=c(this).append(c('<div class="plastic-undefined-component">Undefined View: '+d[0]+"</div>"))}n[u].addClass("plastic-view")})};c.fn.plasticview.render=function b(){};c.fn.plasticview.treeview=function(){}})(jQuery);function PlasticTreeView(){var e=0;var c={storeName:null};this.options=function d(){};this.rowsRead=function b(){}}(function(b){b.fn.plasticwidget=function(n){var p=this;var c=arguments;var h={};var r=this;var o={};this._register=function v(y){};this._varExpand=Plastic.VarExpand;this._make={form:function g(y){b(this).on("change",".plastic-field-data:focus",Plastic.FormUpdate);b(this).on("keyup",".plastic-field-data:focus, .plastic-field-group-edit:focus",Plastic.LossyFormUpdate);b(this).on("datechange",".plastic-field-data",Plastic.LossyFormUpdate);b(this).on("mousedown",".plastic-field-group-manage",function(){b(this).addClass("plastic-field-group-pressed")});b(this).on("mouseup",".plastic-field-group-manage",function(){b(this).removeClass("plastic-field-group-pressed")});b(this).on("click",".plastic-field-group-selector",function(I){I.stopPropagation();var L=(I.originalEvent)?(b(this).prop("checked"))?true:false:(b(this).prop("checked"))?false:true;if(b(this).attr("type")==="radio"){b(this).closest("tr").siblings().removeClass("plastic-field-group-selected");L=true}if(L){b(this).closest("tr").addClass("plastic-field-group-selected")}else{b(this).closest("tr").removeClass("plastic-field-group-selected")}var H=b(this).closest(".Plastic.widget-form");var N=(H)?H.attr("id"):null;var O=(H)?b(this).closest(".plastic-field-group").attr("id").replace(new RegExp(N+"_"),""):null;var D=(H)?H[0].source:null;var K=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.datastore:null;var F=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.namespace:"default";var E=((D)&&(_PlasticRuntime.datastore[K]))?_PlasticRuntime.datastore[K]:null;var M=(H)?H.data("plastic-key"):null;if(E){var G=O+"#selected";var J={};J[G]=null;var P=b(this).closest(".plastic-field-group-table").dataTable();b(this).closest(".plastic-field-group-table").find(".plastic-field-group-selected").each(function(){var Q=P.fnGetPosition(this);if(J[G]===null){J[G]={}}J[G][Q]=true});E.updateRow(M,[{status:"metadataupdate"},J],D.rowsUpdated,{namespace:F})}});b(this).on("mouseup",".plastic-field-group-table.dataTable td.plastic-grid-flagbox",function(D){if(D.target===this){b(this).children(".plastic-field-group-selector").click()}});b(this).on("click","th.plastic-grid-flagbox>span>input",function(E){E.stopPropagation();var D=(E.originalEvent)?(b(this).prop("checked"))?true:false:(b(this).prop("checked"))?false:true;b(this).closest(".plastic-field-group-table").find(".plastic-field-group-selector:not(:last)").each(function(){if(D){b(this).closest("tr").addClass("plastic-field-group-selected")}else{b(this).closest("tr").removeClass("plastic-field-group-selected")}b(this).prop("checked",D)});b(this).closest(".plastic-field-group-table").find(".plastic-field-group-selector:last").prop("checked",!(D)).trigger("click")});b(this).on("mouseup",".plastic-field-group-table.dataTable th.plastic-grid-flagbox",function(D){if(D.target===this){b(this).find("span>input").click()}});b(this).on("keydown","input.plastic-field-group-selector",function(D){if((D.keyCode===9)&&(!(D.shiftKey))){D.preventDefault();b(this).closest("td").next().trigger("mouseup")}else{if((D.keyCode===9)&&(D.shiftKey)&&(b(this).closest("tr").prev("tr").children("td").length)){if(!(b(this).closest("tr").prev("tr").hasClass("plastic-deleted"))){D.preventDefault();b(this).closest("tr").prev().children("td:last").trigger("mouseup")}}}});b(this).on("keydown",".plastic-field-group-table.dataTable td:not(.plastic-grid-flagbox):not(.dataTables_empty)",function(D){if((D.keyCode===9)&&(!(D.shiftKey))&&(b(this).next().length)){D.preventDefault();b(this).next().trigger("mouseup")}else{if((D.keyCode===9)&&(D.shiftKey)&&(!(b(this).prev().hasClass("plastic-grid-flagbox")))){D.preventDefault();b(this).prev().trigger("mouseup")}}});b(this).on("mouseup",".plastic-field-group-table.dataTable td:not(.plastic-grid-flagbox):not(.dataTables_empty)",function(){if(!(b(this).find(".plastic-field-group-edit").length)&&(!(b(this).closest("tr").hasClass("plastic-deleted")))){var H=b(this).closest(".widget-form").attr("id");var F=b(this).closest(".plastic-field-group-table").dataTable();var G=F.dataTable().fnGetPosition(this)[0];var D=F.dataTable().fnGetPosition(this)[2];var E=F.parent().find("th").eq(D).attr("id");b(this).html('<input name="'+H+"__GROUP__"+E+"__"+G+'" id="'+H+"__GROUP__"+E+"__"+G+'" type="text" class="plastic-field-group-edit" value="'+b(this).text()+'">');b(this).find(".plastic-field-group-edit").focus().select()}});b(this).on("keyup",".plastic-field-group-table.dataTable td input",function(H){var F=b(this).closest(".plastic-field-group-table").dataTable();var G=F.fnGetPosition(b(this).parent()[0])[0];var D=F.fnGetPosition(b(this).parent()[0])[2];var E=F.parent().find("th").eq(D).attr("id");F.api().data()[G][D]=b(this).val();if(H.keyCode===13){b(this).closest(".plastic-field-group-table.dataTable td").html(b(this).val())}});b(this).on("focusout",".plastic-field-group-edit",function(){b(this).closest(".plastic-field-group-table.dataTable td").html(b(this).val())});b(this).on("click",".plastic-field-group-delete, .plastic-subcomponent-delete",function(){if(!(b(this).hasClass("plastic-action-disabled"))){var H=b(this).closest(".Plastic.widget-form");var L=(H)?H.attr("id"):null;var I=(H)?b(this).closest(".plastic-field-group").attr("id").replace(new RegExp(L+"_"),""):null;var D=(H)?H[0].source:null;var K=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.datastore:null;var G=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.namespace:"default";var F=((D)&&(_PlasticRuntime.datastore[K]))?_PlasticRuntime.datastore[K]:null;var M=(H)?H.data("plastic-key"):null;if(F){var E=I+"#deleted";var J={};J[E]=null;var N=b(this).closest(".plastic-field-group").find(".plastic-field-group-table").dataTable();b(this).closest(".plastic-field-group").find(".plastic-field-group-selected").each(function(){var O=N.fnGetPosition(this);if(J[E]===null){J[E]={}}J[E][O]=true});F.updateRow(M,[{status:"metadataupdate"},J],D.rowsUpdated,{namespace:G})}}});b(this).on("click","input.plastic-field-select",function(){if(b(this).autocomplete("widget").is(":visible")){b(this).autocomplete("close")}else{b("*[autocomplete]").autocomplete("close");b(this).focus().select().autocomplete("search","")}});b(this).on("click",".plastic-field-dropdown",function(){if(!(b(this).children("div:first").hasClass("plastic-disabled"))){if(b(this).prev("input").autocomplete("widget").is(":visible")){b(this).prev("input").autocomplete("close")}else{b("*[autocomplete]").autocomplete("close");b(this).prev("input").focus().select().autocomplete("search","")}}});b(this).on("click",".plastic-subcomponent-create",function(){if(!(b(this).hasClass("plastic-action-disabled"))){var F=b(this).closest(".Plastic.widget-form");var H=(F)?F.attr("id"):null;var E=b("#"+b(this).closest(".plastic-subcomponent").attr("plastic-sub-component"));if((E)&&(E.length)&&(E[0].isplastic==="view")){var D=((E[0].plasticopts)&&(E[0].plasticopts.datastore))?E[0].plasticopts.datastore:null;var G=((D)&&(_PlasticRuntime.datastore[D]))?_PlasticRuntime.datastore[D]:null;if(G){G.createRow("csts-datastore-root-key-user",E[0].plasticview.rowsCreated,{namespace:"default"})}}}});b(this).on("click",".plastic-field-group-create",function(){if(!(b(this).hasClass("plastic-action-disabled"))){var I=b(this).closest(".Plastic.widget-form");var N=(I)?I.attr("id"):null;var J=(I)?b(this).closest(".plastic-field-group").attr("id").replace(new RegExp(N+"_"),""):null;var D=(I)?I[0].source:null;var M=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.datastore:null;var H=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.namespace:"default";var G=((D)&&(_PlasticRuntime.datastore[M]))?_PlasticRuntime.datastore[M]:null;var O=(I)?I.data("plastic-key"):null;if(G){var P=b(this).parent().next().find(".plastic-field-group-table").dataTable();if(b(this).closest(".plastic-field-group").find(".plastic-field-group-selected.plastic-deleted").length){var E=J+"#deleted";var K={};K[E]=null;b(this).closest(".plastic-field-group").find(".plastic-field-group-selected").each(function(){var R=P.fnGetPosition(this);if(b(this).hasClass("plastic-deleted")){if(K[E]===null){K[E]={}}K[E][R]=null}G.updateRow(O,[{status:"metadataupdate"},K],D.rowsUpdated,{namespace:H})})}else{var L=((P.api().columns().length)&&(P.api().columns()[0].length))?P.api().columns()[0].length:0;if(L){var F=[];for(var Q=0;Q<L;Q++){F[Q]=(Q)?"(NEW)":"&nbsp;"}P.api().row.add(F).draw();b(this).parent().next().find(".plastic-field-group-table.dataTable td").each(function(){if(b(this).text()==="(NEW)"){b(this).trigger("mouseup");return false}});G.updateRow(O,[{status:"creategrouprow"},{groupname:J,groupindex:(P.api().data().length-1)}],D.rowsUpdated,{namespace:H})}}}}});b(this).on("actiontest.plastic",".plastic-field-group-manage",function(){var D=(b(this).closest("fieldset").hasClass("plastic-subcomponent-field"))?b("#"+b(this).closest(".plastic-subcomponent").attr("plastic-sub-component")):null;var J=(b(this).closest(".widget-form").length)?b(this).closest(".widget-form").attr("id"):null;var I=(b("#"+J).data("plastic-key"))?b("#"+J).data("plastic-key"):null;if(D){var H=((D.length)&&(D[0].plasticopts)&&(D[0].plasticopts.datastore))?D[0].plasticopts.datastore:null;var F=((H)&&(D[0].plasticopts.namespace))?D[0].plasticopts.namespace:"default";if(_PlasticRuntime.datastore[H]){var E=this;_PlasticRuntime.datastore[H].readRow(null,function(M){var L=(D[0].isplastic==="view")?D[0].plasticview:((J)&&(b("#"+J)[0].source))?b("#"+J)[0].source:null;if((L)&&(L.length)){if(b(E).hasClass("plastic-subcomponent-create")){Plastic.Tests.call(L[0],M[1],["cancreate"]).pass(function(){b(E).removeClass("plastic-action-disabled");b(E).attr("title",b(E).data("title"))}).fail(function(){b(E).addClass("plastic-action-disabled");b(E).data("title",b(E).attr("title")).attr("title","[Disabled]")})}else{if(b(E).hasClass("plastic-subcomponent-delete")){Plastic.Tests.call(L[0],M[1],["candelete"]).pass(function(){b(E).removeClass("plastic-action-disabled");b(E).attr("title",b(E).data("title"))}).fail(function(){b(E).addClass("plastic-action-disabled");b(E).data("title",b(E).attr("title")).attr("title","[Disabled]")})}}}})}}else{var K=(b(this).closest(".plastic-field-group").length)?b(this).closest(".plastic-field-group").attr("id").replace(new RegExp(J+"_"),""):null;var G=((J)&&(b("#"+J)[0].source))?b("#"+J)[0].source:null;var H=((G)&&(G.length)&&(G[0].plasticopts)&&(G[0].plasticopts.datastore))?G[0].plasticopts.datastore:null;var F=((G)&&(G.length)&&(G[0].plasticopts)&&(G[0].plasticopts.namespace))?G[0].plasticopts.namespace:"default";if((I)&&(G)&&(G.length)&&(_PlasticRuntime.datastore[H])){var E=this;_PlasticRuntime.datastore[H].readRow(I,function(M){if((M)&&(M.length>1)){var L=b("#"+J+"_"+K).find(".plastic-field-group-table.dataTable").DataTable().columns("0").data();if(b(E).hasClass("plastic-field-group-create")){Plastic.Tests.call(G[0],M[1],[["cancreate","@"+K]]).pass(function(){b(E).removeClass("plastic-action-disabled");b(E).attr("title",b(E).data("title"))}).fail(function(){b(E).addClass("plastic-action-disabled");b(E).data("title",b(E).attr("title")).attr("title","[Disabled]")})}else{if(b(E).hasClass("plastic-field-group-delete")){Plastic.Tests.call(G[0],M[1],[["selectionhas","@"+K,"candelete"],["not-flag","@"+K,"i"]]).pass(function(){b(E).removeClass("plastic-action-disabled");b(E).attr("title",b(E).data("title"))}).fail(function(){b(E).addClass("plastic-action-disabled");b(E).data("title",b(E).attr("title")).attr("title","[Disabled]")})}}}},{namespace:F})}}});b(this).on("actiontest.plastic",".plastic-field-group-editor",function(){var H=b(this).closest(".Plastic.widget-form");var L=(H)?H.attr("id"):null;var J=(H)?b(this).closest(".plastic-field-group").attr("id").replace(new RegExp(L+"_"),""):null;var D=(H)?H[0].source:null;var K=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.datastore:null;var F=((D)&&(D.length)&&(D[0].plasticopts))?D[0].plasticopts.namespace:"default";var E=((D)&&(_PlasticRuntime.datastore[K]))?_PlasticRuntime.datastore[K]:null;var M=(H)?H.data("plastic-key"):null;var N=b(this).closest(".plastic-field-group").find(".plastic-field-group-table:eq(0)").dataTable();if(N.find(".plastic-field-group-selected").length){var G=N.find(".plastic-field-group-selected");var I=this;E.readRow(M,function(O){var P=N.fnGetPosition(G[0]);b(I).find(".plastic-field-group-edit-data").each(function(){var Q=b(this).attr("id").replace(new RegExp("^"+L+"_"+J+"_GROUPEDIT_"),"");if((O)&&(O.length>1)&&(O[1].attributes)&&(O[1].attributes[Q])&&(O[1].attributes[Q][P])){b(this).val(O[1].attributes[Q][P])}});if(b(G[0]).hasClass("plastic-deleted")){b(I).find("th:first").text("Entry was Deleted");b(I).find("td.plastic-field-group-edit-value, .plastic-field-group-edit-data").addClass("plastic-deleted plastic-disabled");b(I).find("td input").prop("readonly",true)}else{b(I).find("th:first").text("Update Or Delete Entry");b(I).find("td.plastic-field-group-edit-value, .plastic-field-group-edit-data").removeClass("plastic-deleted plastic-disabled");b(I).find("td input").prop("readonly",false)}},{namespace:F})}else{b(this).find("th:first").text("Read Only");b(this).find(".plastic-field-group-edit-data").val("").addClass("plastic-disabled");b(this).find(".plastic-field-group-edit-data").prop("readonly",true)}});var A=this;A.render=function z(aG){p._register.call(this,aG);var aq,aj,ah,U,al,aF,N,aC,aw,aJ,M,aA,W,af,G,aa,aI,P,R;var aD=[];var H=0;var X="";var ac=((this.source)&&(this.source.length)&&(this.source[0].plasticopts)&&(this.source[0].plasticopts.datastore))?this.source[0].plasticopts.datastore:null;var am=((ac)&&(_PlasticRuntime.datastore[ac]))?_PlasticRuntime.datastore[ac]:null;var J=(am)?b.extend({},am.option("prettyNames"),(y)?y.prettyNames:{}):((y)&&(y.prettyNames))?y.prettyNames:{};var T=p._subComponentsFreeze.call(this);b(this).html("");if((y)&&(y.title)){X+='<div class="plastic-form-title">'+p._varExpand(y.title,aG[1])+"</div>"}if((y)&&(y.description)){X+='<div class="plastic-form-description">'+p._varExpand(y.description,aG[1])+"</div>"}if((y)&&(y.help)&&(y.help["_inlinepre"])){X+='<div class="plastic-form-inlinehelp">'+p._varExpand(y.help["_inlinepre"],aG[1])+"</div>"}X+='<table class="plastic-form-data"><tbody>';if((y)&&(y.layout)){for(var aq=0;aq<y.layout.length;aq++){for(var aj=0;aj<y.layout[aq].length;aj++){H=Math.max(H,y.layout[aq].length)}}for(var aq=0;aq<y.layout.length;aq++){ah="<tr>";if((y.layout[aq].length===1)&&(y.layout[aq][0]==="---------")){ah+='<td colspan="'+(H*2)+'"><hr></td></tr>';X+=ah;continue}for(var aj=0;aj<y.layout[aq].length;aj++){aJ=(H-y.layout[aq].length);N=y.layout[aq][aj];al=G=aa=aI="";if((N.length>=1)&&(/^[@#{>]/.test(N.charAt(0)))){al+=N.charAt(0);N=N.replace(/^./,"");if(N.indexOf(":")>=0){aF=N.replace(/^[^:]*:/,"").split(",");N=N.substr(0,N.indexOf(":"))}}else{aF=undefined}if(N.indexOf(".")>-1){var ab=N.substr(N.indexOf(".")+1,N.length-N.indexOf("."));N=N.substr(0,N.indexOf("."));var ax=ab.match(/\\./g);var V=ab.split(/\\./);var at=0;for(var ae=0;ae<V.length;ae++){while(V[ae].indexOf("/")>-1){at+=1;if(at<3){G+=V[ae].substr(0,V[ae].indexOf("/"))}else{aa+=V[ae].substr(0,V[ae].indexOf("/"))}V[ae]=V[ae].substr(V[ae].indexOf("/")+1,V[ae].length-V[ae].indexOf("/"))}G+=((ax)&&(ax[ae]))?ax[ae]:""}}af=((aG[1])&&(aG[1].error)&&(aG[1].error[N]!==undefined))?" plastic-error":"";W=((aG[1])&&(aG[1].dirty)&&(aG[1].dirty[N]!==undefined))?" plastic-dirty":"";U=b(this).attr("id")+"_"+N;aC=((J)&&(J[N]))?p._varExpand(J[N],aG[1]):N;if(R===undefined){R=U}if(y.help){if(y.help["_base"]){if(y.help[N]){N='<a href="'+y.help["_base"]+p._varExpand(y.help[N],aG[1])+'">'+N+"</a>"}else{N='<a href="'+y.help["_base"]+N+'">'+N+"</a>"}}}if((al)&&(/@/.test(al))){var ag='&nbsp;&nbsp;<div class="plastic-field-group-manage plastic-field-group-delete plastic-actionable plastic-action-disabled" data-title="Click to remove selected item(s)" title="[Disabled]" /><div class="plastic-field-group-manage plastic-field-group-create plastic-actionable plastic-action-disabled" data-title="Click to add new or undelete selected item(s)" title="[Disabled]" />';var I=new RegExp("^"+N+"_");var ay="";var ar=[];var L=[];ah+='<td colspan="2">';ah+='<fieldset class="plastic-field-group" name="'+U+'" id="'+U+'">';ah+='<legend class="plastic-field-group-legend">'+aC+":"+ag+"</legend>";ah+='<div class="plastic-field-group-wrapper">';ah+='<table class="plastic-field-group-table" id="'+U+'_DT">';if((aF)&&(aF.length)){for(var ad=0;ad<aF.length;ad++){ar[ar.length]=N+"_"+aF[ad]}}else{for(var Q in aG[1].attributes){if(I.test(Q)){ar[ar.length]=Q}}}if(ar.length){for(var ad=0;ad<ar.length;ad++){L[ad]='<th id="'+b(this).attr("id")+"_"+ar[ad]+'">';L[ad]+=((y.prettyNames)&&(y.prettyNames[ar[ad]]))?p._varExpand(y.prettyNames[ar[ad]],aG[1]):ar[ad].replace(I,"");L[ad]+="</th>"}ay='<thead><tr><th><span class="plastic-field-group-control "id="'+b(this).attr("id")+'_CTL"><input type="checkbox" title="Click to (de)select all"></span></th>'+L.join("")+"</tr></thead>"}ah+=ay;ah+="<tbody>";var ao=0;while("FOREVER"){var E=0;var O=[],S="";if((aG[1].attributes[N+"#selected"])&&(aG[1].attributes[N+"#selected"][ao])){O[O.length]="plastic-field-group-selected";S+="S"}if((aG[1].attributes[N+"#deleted"])&&(aG[1].attributes[N+"#deleted"][ao])){O[O.length]="plastic-deleted";S+="D"}var aB=(O.length)?' class="'+O.join(" ")+'"':"";var az="<tr"+aB+"><td>&nbsp;["+S+"]</td>";O=[];var D="";for(var ad=0;ad<ar.length;ad++){if((aG[1].attributes)&&(aG[1].attributes[ar[ad]])&&(aG[1].attributes[ar[ad]][ao])){if((aG[1].dirty)&&(aG[1].dirty[ar[ad]])&&(aG[1].dirty[ar[ad]][ao])){O[O.length]="plastic-dirty"}if((aG[1].error)&&(aG[1].error[ar[ad]])&&(aG[1].error[ar[ad]][ao])){O[O.length]="plastic-error"}D=(O.length)?' class="'+O.join(" ")+'"':"";az+="<td"+D+">"+aG[1].attributes[ar[ad]][ao]+"</td>";E+=1}else{az+="<td>&nbsp;</td>"}}az+="</tr>";ao++;if(!(E)){break}ah+=az}ah+="</tbody></table></div>";if((y)&&(y.groupOptions)&&(y.groupOptions[N])&&(y.groupOptions[N].gang)){ah+='<div class="plastic-field-group-message">';ah+='<img class="plastic-message-icon-small" src="images/plastic-information.png" />';ah+="NOTE: Selected rows will be edited as a collection (gang operation)";ah+="</div>"}if((y)&&(y.groupOptions)&&(y.groupOptions[N])&&(y.groupOptions[N].editor)){var Z=y.groupOptions[N].editor;var K=0;for(var av=0;av<Z.length;av++){K=Math.max(K,Z[av].length)}var ap='<div class="plastic-field-group-editor plastic-actionable"><table>';ap+='<thead><tr><th colspan="'+(K*2)+'">Readonly</th></tr></thead><tbody>';for(var av=0;av<Z.length;av++){ap+="<tr>";for(var ak=0;ak<Z[av].length;ak++){var an=((c)&&(c.length>1)&&(c[1].prettyNames)&&(c[1].prettyNames[Z[av][ak]]))?c[1].prettyNames[Z[av][ak]]:((y)&&(y.prettyNames)&&(y.prettyNames[Z[av][ak]]))?y.prettyNames[Z[av][ak]]:Z[av][ak];var au=Z[av][ak];ap+='<td class="plastic-field-group-edit-label"><label for="'+U+"_GROUPEDIT_"+au+'">'+an+":</label></td>";ap+='<td class="plastic-field-group-edit-value"><input type="text" class="plastic-field-group-edit-data" id="'+U+"_GROUPEDIT_"+au+'"></td>'}ap+="</tr>"}ap+="</tbody></table></div>";ah+=ap}ah+="</fieldset>";ah+="</td>";ah+="</tr>";continue}else{if((al)&&(/>/.test(al))){ah+="</tr></tbody></table>";var Y=(b.browser.msie)?" iefix":"";var ag='&nbsp;&nbsp;<div class="plastic-field-group-manage plastic-subcomponent-delete plastic-actionable plastic-action-disabled" data-title="Click to remove selected item(s)" title="[Disabled]" /><div class="plastic-field-group-manage plastic-subcomponent-create plastic-actionable plastic-action-disabled" data-title="Click to add new or undelete selected item(s)" title="[Disabled]" />';M=(aJ>0)?' colspan="'+((aJ*2)+2)+'"':"";ah+='<div class="plastic-subcomponent" plastic-sub-component="'+N+'"'+M+">";ah+='<fieldset class="plastic-subcomponent-field'+Y+'" name="'+U+'" id="'+U+'">';ah+='<legend class="plastic-subcomponent-legend">'+aC+":"+ag+"</legend>";ah+="</fieldset></div>";ah+='<table class="plastic-form-data"><tbody><tr>';continue}}ah+='<td class="plastic-field-label"><label for="'+U+'">'+aC+":</label></td>";P=((y.suffix)&&(y.suffix[N]))?'</td><td class="plastic-field-suffix">'+p._varExpand(y.suffix[N],aG[1]):"";M=(aJ>0)?' colspan="'+((aJ*2)+1)+'"':"";if((aG[1])&&(aG[1]["attributes"])&&(aG[1]["attributes"][N]!==null)&&(typeof(aG[1]["attributes"][N])=="boolean")){aw=(aG[1]["attributes"][N])?" checked":"";ah+='<td class="plastic-field-value'+W+af+'"'+M+'><input class="plastic-field-boolean plastic-field-data'+W+af+'" type="checkbox" name="'+U+'" id="'+U+'"'+aw+">"+P+"</td>"}else{aw=p._varExpand("%{"+N+"}",aG[1]);if(G.length){aw=(aI.length)?aw.replace(new RegExp(G),aa):aw.replace(new RegExp(G,aI),aa)}if((y.fulfill)&&(y.fulfill[N])){ah+='<td class="plastic-field-value'+W+af+'"'+M+'><div class="plastic-field-wrap"><input class="plastic-field-select plastic-field-data'+W+af+'" type="text" name="'+U+'" id="'+U+'" value="'+aw+'" readonly>'+P+'<div class="plastic-field-dropdown"><div class="plastic-field-dropdown-state" /></div></div></td>'}else{if((y.cast)&&(y.cast[N])){if(typeof y.cast[N]=="function"){}else{if(y.cast[N]=="stringbool"){aw=(aw=="false")?"":" checked";ah+='<td class="plastic-field-value'+W+af+'"'+M+'><input class="plastic-field-boolean plastic-field-data'+W+af+'" type="checkbox" name="'+U+'" id="'+U+'"'+aw+">"+P+"</td>"}}}else{var aE="text";if((aG[1])&&(aG[1]["attributes"])&&(aG[1]["attributes"][N])&&(aG[1]["attributes"][N] instanceof Date)){aD[aD.length]=["#"+U,aG[1]["attributes"][N]];aA=" plastic-field-date";aE="date"}else{aA="";if((aG[1])&&(aG[1]["attributes"])&&(aG[1]["attributes"][N]!==undefined)&&(typeof(aG[1]["attributes"][N])==="number")){aE="number"}}if((al)&&((/#/.test(al))||(/{/.test(al)))){var aH=(/{/.test(al))?" plastic-field-tall":"";ah+='<td class="plastic-field-value'+W+af+'"'+M+'><textarea class="plastic-field-text plastic-field-data'+aH+aA+W+af+'" type="'+aE+'" name="'+U+'" id="'+U+'">'+aw+"</textarea>"+P+"</td>"}else{ah+='<td class="plastic-field-value'+W+af+'"'+M+'><input class="plastic-field-text plastic-field-data'+aA+W+af+'" type="'+aE+'" name="'+U+'" id="'+U+'" value="'+aw+'">'+P+"</td>"}}}}}ah+="</tr>";X+=ah;if((y.help)&&(y.help["$"+N])){X+='<tr><td colspan="2" class="plastic-field-help">'+p._varExpand(y.help["$"+N],aG[1])+"</td></tr>"}}}X+="</tbody></table>";if((y)&&(y.help)&&(y.help["_inline"])){X+='<div class="plastic-form-inlinehelp">'+p._varExpand(y.help["_inline"],aG[1])+"</div>"}b(this).html(b(X));if((aD)&&(aD.length)){for(var F=0;F<aD.length;F++){var ai=((this.source)&&(this.source.length)&&(this.source[0].plasticopts)&&(this.source[0].plasticopts.datastore)&&(_PlasticRuntime.datastore[this.source[0].plasticopts.datastore].option("dateFormat")))?_PlasticRuntime.datastore[this.source[0].plasticopts.datastore].option("dateFormat"):"yy-mm-dd";b(aD[F][0]).attr({readonly:true,original:aD[F][1].toString()});b(aD[F][0]).datepicker({changeMonth:true,changeYear:true,dateFormat:ai,beforeShowDay:function(aL){var aK="";var aM=new Date(b(this).attr("original"));var aN=b(this).datepicker("getDate");if((aN)&&(aN.setHours(0,0,0,0)!==aM.setHours(0,0,0,0))){aK=(aL.setHours(0,0,0,0)===aM.setHours(0,0,0,0))?"plastic-deleted":""}return[true,aK,""]},onSelect:function(aL,aK){b(this).trigger("datechange",{from:"datepicker"})}});b(aD[F][0]).datepicker("setDate",aD[F][1]);b(aD[F][0]).off("focus");b(aD[F][0]).on("focus",function(aK){if(!(b(this).hasClass("plastic-disabled"))){b.datepicker._showDatepicker.apply(this,arguments)}})}}b(this).find(".plastic-field-group-table").each(function(){var aK=b(this).closest(".plastic-field-group").attr("id");var aL=(aK)?aK.replace(new RegExp("^"+b(p).attr("id")+"_"),""):null;var aM="radio";if((aL)&&(c)&&(c.length)&&(c[1].groupOptions)&&(c[1].groupOptions[aL])&&((c[1].groupOptions[aL].multiselect)||(c[1].groupOptions[aL].gang))){aM="checkbox";b(this).find("th span:first").css("display","inline")}b(this).dataTable({columnDefs:[{"class":"plastic-grid-flagbox",orderable:false,render:function(){var aN=(/\[.*S.*\]/.test(arguments[0]))?" checked":"";return'<input class="plastic-field-group-selector" name="'+aK+'_select" type="'+aM+'"'+aN+">"},targets:0}],order:[1,"asc"],paging:false,searching:false,info:false})});p._subComponentsThaw.call(this,T,aG,"render");b(this).find(".plastic-field-select").each(function(){b(this).autocomplete({minLength:0,source:Plastic.AutoComplete,select:function(aL,aK){Plastic.FormUpdate.call(this,aL,p,aK)}}).data("autocomplete")._renderItem=function(aL,aM){var aK=((aM["class"])&&(/plastic-autofill-empty/.test(aM["class"])))?"<div><span>"+aM.label+"</span></div>":"<a><span>"+aM.label+"</span></a>";var aN=(aM.tooltip)?aM.tooltip:((aM["class"])&&(/plastic-autofill-selected/.test(aM["class"])))?aM.label+" [selected]":aM.label;return b("<li></li>").data("item.autocomplete",aM).append(aK).addClass(aM["class"]).attr("title",aN).appendTo(aL)}});A.disable(undefined,aG[1],{});b(this).find(".plastic-field-group .plastic-field-group-table tr").each(function(){b(this).find("th:eq(1)").triggerHandler("click")});if((aG.length>1)&&((aG[1].deleted)||(aG[1].disabled))){A.disable(true)}b(this).scrollTop(0);b("#"+R).focus().select()};A.update=function C(K){var I=b(this).attr("id");var J=new RegExp("^"+I+"_");var H=((p.length)&&(p[0].plasticopts)&&(p[0].plasticopts.fulfill))?p[0].plasticopts.fulfill:null;this.source=(K[0].source)?K[0].source:undefined;b(this).data("plastic-row",K[1]);if((K.length>1)&&(K[1].deleted)){A.disable(true)}var E=p._subComponentsFreeze.call(this);b(this).find(".plastic-field-value input, .plastic-field-value textarea, input.plastic-field-group-edit").each(function(){var Q=undefined;var N=b(this).attr("id").replace(J,"");if(/^_GROUP__/.test(N)){Q=N.replace(/^.*__/,"");N=N.replace(/^_GROUP__/,"").replace(J,"").replace(/__.*$/,"")}var P=b(this).closest(".plastic-field-group").find(".plastic-field-group-table").dataTable();var O=b("#"+I+"_"+N).index();var M=b(P.api().row(Q).node()).children("td").eq(O);if((K[1].dirty)&&(K[1].dirty[N]!==undefined)){if(Q!==undefined){if(K[1].dirty[N][Q]){M.addClass("plastic-dirty");M.siblings().not(".plastic-grid-flagbox").addClass("plastic-dirty")}else{M.removeClass("plastic-dirty")}}else{b(this).addClass("plastic-dirty").closest(".plastic-field-value").addClass("plastic-dirty")}}else{if(Q!==undefined){M.removeClass("plastic-dirty")}else{b(this).removeClass("plastic-dirty").closest(".plastic-field-value").removeClass("plastic-dirty")}}if((K[1].error)&&(K[1].error[N]!==undefined)){if(Q!==undefined){M.addClass("plastic-error")}else{b(this).addClass("plastic-error").closest(".plastic-field-value").addClass("plastic-error")}}else{if(Q!==undefined){M.removeClass("plastic-error")}else{b(this).removeClass("plastic-error").closest(".plastic-field-value").removeClass("plastic-error")}}});b(this).find(".plastic-field-group-selected").each(function(){b(this).find("td:eq(1)").each(function(){var M=b(this).closest(".plastic-field-group").attr("id").replace(J,"");var O=b(this).closest(".plastic-field-group").find(".plastic-field-group-table").dataTable();if(b(O).find("thead>tr>th:eq(1)").length){var N=b(O).find("thead>tr>th:eq(1)").attr("id").replace(J,"");var P=O.fnGetPosition(this)[0];if((K)&&(K.length>1)&&(K[1].attributes)&&(K[1].attributes[N])&&(K[1].attributes[N][P]===undefined)){O.fnDeleteRow(P)}}})});b(this).find(".plastic-field-group").each(function(){if(b(this).find(".plastic-field-group-selected").length>1){var S=b(this).attr("id").replace(J,"");if((c)&&(c.length>1)&&(c[1].groupOptions)&&(c[1].groupOptions[S])&&(c[1].groupOptions[S].gang)){var U={};var V=[];var W=c[1].groupOptions[S].gang;var O=false;var ab=b(this).closest(".plastic-field-group").find(".plastic-field-group-table").dataTable();var T=b(this).find("thead:eq(0)>tr>");for(var X=0;X<W.length;X++){for(var M=1;M<T.length;M++){var R=b(T[M]).attr("id").replace(J,"");if(R===W[X]){b(this).find(".plastic-field-group-selected").each(function(){if(U[R]===undefined){U[R]={}}U[R][ab.api().row(this).data()[M]]=true})}}}for(var Q in U){var ac=0;var Z=V.length;var N=((c[1].prettyNames)&&(c[1].prettyNames[Q]))?c[1].prettyNames[Q]:Q;V[Z]='<tr><td class="plastic-gang-conflict-label"><label for="conflict_'+Q+'">'+N+':</label></td><td><select name="conflict_'+Q+'" id="conflict_'+Q+'">';for(var Y in U[Q]){ac++;V[Z]+="<option>"+Y+"</option>"}V[Z]+="</select></td></tr>";if(ac>1){O=true}else{V.splice(Z)}}if(O){if(!(b(".plastic-field-group-gang-conflict").length)){b(_PlasticRuntime.root).append(b('<div class="plastic-field-group-gang-conflict" />'));b(".plastic-field-group-gang-conflict").dialog({autoOpen:false,modal:true,title:"Resolve Conflicts?",width:540,height:350,close:function(){ab.find("tr:first>th input").prop("checked",true).click();b(".plastic-field-group-gang-conflict").remove()},buttons:{Close:function(){ab.find("tr:first>th input").prop("checked",true).click();b(".plastic-field-group-gang-conflict").dialog("close")},Accept:function(){var ag=[];var ae=ab.find("thead:eq(0)>tr>");for(var ad=1;ad<ae.length;ad++){var ah=b(ae[ad]).attr("id").replace(J,"");if(b(this).find("#conflict_"+ah).length){var ai=b(this).find("#conflict_"+ah).val();ab.find(".plastic-field-group-selected").each(function(){var aj=ab.dataTable().fnGetPosition(this);ab.api().data()[aj][ad]=ai;b(this).find("td").eq(ad).text(ai);ag[ag.length]=b(this).find("td").eq(ad)[0]})}}for(var af=0;af<ag.length;af++){b(ag[af]).trigger("mouseup").find("input").trigger("keyup").trigger("focusout")}b(".plastic-field-group-gang-conflict").dialog("close")}}})}var P='<img class="plastic-message-icon-large" style="float:left;" src="images/plastic-question.png" />';P+='<div class="plastic-field-group-title">The selected rows contain incompatible values. ';P+="Confirm the dropdown menus provided below contain expected values for each column.<br><br>";P+="Proceed?</div>";P+='<table class="plastic-field-group-gang-dialog">';P+=V.join("");P+="</table>";var aa='<div class="plastic-field-group-message">';aa+='<img class="plastic-message-icon-small" src="images/plastic-information.png" />';aa+="NOTE: Closing this form will deselect all rows to remove the conflict";aa+="</div>";b(".plastic-field-group-gang-conflict").html(P);if(b(".plastic-field-group-gang-conflict").nextAll(".ui-dialog-buttonpane").find(".plastic-field-group-message").length){}else{b(".plastic-field-group-gang-conflict").nextAll(".ui-dialog-buttonpane").prepend(aa)}b(".plastic-field-group-gang-conflict").dialog("open");b(".plastic-field-group-gang-conflict").scrollTop(0)}else{}}}});if(K[1].attributes){for(var G in K[1].attributes){if(/#deleted/.test(G)){var L=b("#"+I+"_"+G.replace(/#deleted$/,"")+"_DT").dataTable();for(var D in K[1].attributes[G]){var F=b(L.api().row(D).node());F.addClass("plastic-deleted plastic-forestall")}}}b(this).find("tr.plastic-deleted").each(function(){if(!(b(this).hasClass("plastic-forestall"))){b(this).removeClass("plastic-deleted")}else{b(this).removeClass("plastic-forestall")}})}p._subComponentsThaw.call(this,E,K,"update")};this.disable=function B(F,I,E){var D=b(this).attr("id");var G=new RegExp("^"+D+"_");var H=((this.source)&&(this.source.length))?this.source[0]:null;if(I){b(this).find(".plastic-field-value input").each(function(){var L=b(this).attr("id").replace(G,"");var J=Plastic.Test.call(H,I,"canupdate",{path:L});var K=b(this).attr("type");if((K==="radio")||(K==="checkbox")){b(this).prop("disabled",!J)}else{if(b(this).hasClass("plastic-field-select")){b(this)[(J)?"removeClass":"addClass"]("plastic-disabled");b(this).next().children("div:first")[(J)?"removeClass":"addClass"]("plastic-disabled")}else{b(this).prop("readonly",!J)[(J)?"removeClass":"addClass"]("plastic-disabled")}}})}else{b(this).find(".plastic-field-value input").each(function(){var J=b(this).attr("type");if((J==="radio")||(J==="checkbox")){b(this).prop("disabled",!F)}else{if(b(this).hasClass("plastic-field-select")){b(this)[(F)?"removeClass":"addClass"]("plastic-disabled");b(this).next().children("div:first")[(F)?"addClass":"removeClass"]("plastic-disabled")}else{b(this).prop("readonly",F)[(F)?"addClass":"removeClass"]("plastic-disabled")}}})}};return b(this)},context:function u(A){var C=((A)&&(A.parent))?A.parent+" *":"body";var F=((A)&&(A.type))?A.type:".*";var z=((A)&&(A.prereq))?A.prereq:undefined;var D={};for(var y in A.menu){if(A.menu[y].separator){D["Plasticmenu-"+y+"-separator"]="---------"}var E=(A.menu[y].icon)?A.menu[y].icon:(A.menu[y].action)?A.menu[y].action:undefined;D["Plasticmenu-"+y]={name:y,icon:E,target:A.menu[y].target,action:A.menu[y].action,path:A.menu[y].path,against:A.menu[y].against,test:A.menu[y].test,testappend:A.menu[y].testappend,hideIf:A.menu[y].hideIf,disableIf:A.menu[y].disableIf}}b.contextMenu({selector:C,type:F,prereq:z,builder:true,build:function(S,Q,I){var R=Q.target;var V=b(Q.target).closest(".Plastic")[0];var U=V["plastic"+V.isplastic];var O={};if(U.getRowObjectFor){O=U.getRowObjectFor(Q.target)}else{}var N=((O)&&(O.actions))?O.actions:{};var T={};var J=false;for(var H in D){var P=true;var L=[];if((D[H].test)&&(D[H].test.length)){L=D[H].test}else{if((D[H])&&(D[H].action)){L=Plastic.ActionTests.call(p.parent()[0],O,D[H].action,D[H])}}if(D[H].testappend){for(var M=0;M<D[H].testappend.length;M++){L[L.length]=D[H].testappend[M]}}for(var M=0;M<L.length;M++){P=Plastic.Test.call(p.parent()[0],O,L[M],D[H]);if(!(P)){break}}D[H].disabled=!P;if((P)&&(D[H].disableIf)){var W=true;for(var M=0;M<D[H].disableIf.length;M++){W=Plastic.Test.call(p.parent()[0],O,D[H].disableIf[M],D[H]);if(!(W)){break}}if(W){D[H].disabled=true}}if(D[H].hideIf){var X=true;for(var M=0;M<D[H].hideIf.length;M++){X=Plastic.Test.call(p.parent()[0],O,D[H].hideIf[M],D[H]);if(!(X)){break}}if(X){continue}}if((typeof(D[H])==="string")&&(J)){continue}T[H]=D[H];J=(!(!(typeof(D[H])==="string")))}var K={callback:function(aa,Z){var Y="clicked: "+aa;if((Z.items)&&(Z.items[aa])&&(Z.items[aa].action)){Plastic.Action.call(p.parent()[0],O,Z.items[aa].action,Z.items[aa]);if(Z.items[aa].action==="ping"){b(span).addClass("plastic-ping");b(span).animate({"border-width":"10px"},1000,function(){b(span).animate({"border-width":".1px"},1000,function(){b(span).removeClass("plastic-ping")})})}if((Z.items)&&(Z.items[aa])&&(Z.items[aa].target)){b(R).trigger("rowactivate.plastic",{target:Z.items[aa].target,path:Z.items[aa].path})}}else{if((Z.items)&&(Z.items[aa])&&(Z.items[aa].target)){b(R).trigger("rowactivate.plastic",{target:Z.items[aa].target,path:Z.items[aa].path})}else{alert("DEFAULTTARGET: ");b(R).trigger("rowactivate.plastic",{path:Z.items[aa].path});return true}}},items:T};if((I)&&(typeof(I)==="function")){I(K)}else{return false}}});this.render=function G(){};this.update=function B(){};return b(this).addClass("plastic-transient")},buttonbar:function j(z){var y=b(this).attr("id");p._scrollAnimate=function(){var H=b(this).closest(".widget-buttonbar").find(".plastic-buttonbar-after");var J=H.offset().left+H.outerWidth();var G=b(this).closest(".widget-buttonbar").find(".plastic-buttonbar-child:visible:last");var F=parseInt(G.offset().left+G.outerWidth());if(b(this).hasClass("plastic-buttonbar-before")){if(b(this).next().scrollLeft()){b(this).next().scrollLeft(b(this).next().scrollLeft()-5)}else{if(F>=J){b(this).next().next().show()}b(this).hide()}}else{if(b(this).hasClass("plastic-buttonbar-after")){var I=b(this).prev().scrollLeft();b(this).prev().scrollLeft(b(this).prev().scrollLeft()+5);if(b(this).prev().scrollLeft()){b(this).prev().prev().show();if(F<=J){b(this).hide()}}}}};b(this).on("click",".plastic-buttonbar-link",function(F){F.preventDefault();b(this).blur();alert(b(this).attr("href"))});b(this).on("mouseover",".plastic-buttonbar-before, .plastic-buttonbar-after",function(){var F=this;if(!(parseInt(b(this).data("timer")))){b(this).addClass("plastic-buttonbar-scrolling");b(this).data("timer",setInterval(function(){p._scrollAnimate.call(F)},20))}});b(this).on("mouseout",".plastic-buttonbar-before, .plastic-buttonbar-after",function(){clearInterval(parseInt(b(this).data("timer")));b(this).removeData("timer");b(this).removeClass("plastic-buttonbar-scrolling")});b(this).on("mousewheel DOMMouseScroll",".plastic-buttonbar-slide-wrap",function(G){if(G.originalEvent.wheelDelta>0||G.originalEvent.detail<0){var F=b(".plastic-buttonbar-before:visible",p);if(parseInt(F.data("simtimer"))){clearTimeout(parseInt(F.data("simtimer")));F.removeData("simtimer")}F.trigger("mouseover");F.data("simtimer",setTimeout(function(){F.trigger("mouseout")},150))}else{var H=b(".plastic-buttonbar-after:visible",p);if(parseInt(H.data("simtimer"))){clearTimeout(parseInt(H.data("simtimer")));H.removeData("simtimer")}H.trigger("mouseover");H.data("simtimer",setTimeout(function(){H.trigger("mouseout")},150))}});b(this).on("actiontest.plastic",".plastic-actionable:visible",function(N){var I=b(".plastic-stack-active").plasticDataSorter("plastic-active").last();var Q=b(I).data("plastic-key");var F=(I.length)?I[0].source:null;var P=((F)&&(F.length)&&(F[0].plasticopts)&&(F[0].plasticopts.datastore))?F[0].plasticopts.datastore:null;var H=(P)?_PlasticRuntime.datastore[P]:null;var L=I.data("plastic-row");if((z)&&(z.buttons)){for(var O in z.buttons){var M=true,G=[];var K=b("#"+y+"_"+O);if(Q){if(L){G=Plastic.ActionTests.call(F[0],L,z.buttons[O].action,z.buttons[O]);for(var J=0;J<G.length;J++){M=Plastic.Test.call(F[0],L,G[J],z.buttons[O]);if(!(M)){break}}K.button((M)?"enable":"disable");if(z.buttons[O].hideIf){var R=true;for(var J=0;J<z.buttons[O].hideIf.length;J++){R=Plastic.Test.call(F[0],L,z.buttons[O].hideIf[J],z.buttons[O]);if(!(R)){break}}if(R){K.hide()}else{K.show()}}else{K.show()}}else{K.button("disable")}}else{K.button("disable")}}}b(this).find(".plastic-buttonbar-slide-wrap").scrollLeft(0);p._scrollAnimate.call(b(this).closest(".widget-buttonbar").find(".plastic-buttonbar-before"))});b(this).append(b('<div class="plastic-buttonbar-wrap"><div class="plastic-buttonbar-before" /><div class="plastic-buttonbar-slide-wrap"><div class="plastic-buttonbar-slider plastic-actionable" /></div><div class="plastic-buttonbar-after" /></div>'));if((z)&&(z.buttons)){var D="",B={};b(this).addClass((z.type==="vertical")?"plastic-buttonbar-vertical":"plastic-buttonbar-horizontal");for(var A in z.buttons){D+='<div class="plastic-buttonbar-child"><button class="plastic-buttonbar-button" id="'+y+"_"+A+'" disabled>'+A+"</button></div>";B[y+"_"+A]=z.buttons[A]}b(".plastic-actionable",this).append(b(D));b(".plastic-buttonbar-child .plastic-buttonbar-button",this).button().hide().click(function(L){b(this).button("disable");var K=b(".plastic-stack-active").plasticDataSorter("plastic-active").last();var H=K.data("plastic-key");var I=(K.length)?K[0].source:null;var G=((I)&&(I.length)&&(I[0].plasticopts)&&(I[0].plasticopts.datastore))?I[0].plasticopts.datastore:null;var J=(G)?_PlasticRuntime.datastore[G]:null;var M=K.data("plastic-row");var F=B[b(this).attr("id")];Plastic.Action.call(I[0],M,F.action,F);b(this).removeClass("ui-state-hover").blur()})}this.render=function C(){};this.update=function E(){};return b(this)},breadcrumb:function t(y){this._nextAncestor=function(A){var z=((A)&&(A[0].plasticopts)&&(A[0].plasticopts.crumb)&&(A[0].plasticopts.crumb.parent))?b("#"+A[0].plasticopts.crumb.parent):b(A).parents(".Plastic:first");return(z.length)?z:undefined};p._scrollAnimate=function(){if(b(this).hasClass("plastic-breadcrumb-before")){if(b(this).next().scrollLeft()){b(this).next().next().show();b(this).next().scrollLeft(b(this).next().scrollLeft()-5)}else{b(this).hide()}}else{if(b(this).hasClass("plastic-breadcrumb-after")){var z=b(this).prev().scrollLeft();b(this).prev().scrollLeft(b(this).prev().scrollLeft()+5);if(b(this).prev().scrollLeft()){b(this).prev().prev().show();if(b(this).prev().scrollLeft()===z){b(this).hide()}}}}};b(this).on("click",".plastic-breadcrumb-link",function(z){z.preventDefault();b(this).blur();alert(b(this).attr("href"))});b(this).on("mouseover",".plastic-breadcrumb-before, .plastic-breadcrumb-after",function(){var z=this;if(!(parseInt(b(this).data("timer")))){b(this).addClass("plastic-breadcrumb-scrolling");b(this).data("timer",setInterval(function(){p._scrollAnimate.call(z)},20))}});b(this).on("mouseout",".plastic-breadcrumb-before, .plastic-breadcrumb-after",function(){clearInterval(parseInt(b(this).data("timer")));b(this).removeData("timer");b(this).removeClass("plastic-breadcrumb-scrolling")});b(this).on("mousewheel DOMMouseScroll",".plastic-breadcrumb-slide-wrap",function(A){if(A.originalEvent.wheelDelta>0||A.originalEvent.detail<0){var B=b(".plastic-breadcrumb-after:visible",p);if(parseInt(B.data("simtimer"))){clearTimeout(parseInt(B.data("simtimer")));B.removeData("simtimer")}B.trigger("mouseover");B.data("simtimer",setTimeout(function(){B.trigger("mouseout")},150))}else{var z=b(".plastic-breadcrumb-before:visible",p);if(parseInt(z.data("simtimer"))){clearTimeout(parseInt(z.data("simtimer")));z.removeData("simtimer")}z.trigger("mouseover");z.data("simtimer",setTimeout(function(){z.trigger("mouseout")},150))}});b(this).on("actiontest.plastic",function(){var A,B="";var C=b(".plastic-stack-active").plasticDataSorter("plastic-active").last();if(C.length){var z=[C];while(A=this._nextAncestor(z[z.length-1])){z[z.length]=A}b.each(z,function(D){if((this[0].plasticopts)&&(this[0].plasticopts.crumb)&&(this[0].plasticopts.crumb.title)){if(D){B='&nbsp;&gt;&nbsp;<a class="plastic-breadcrumb-link" href="#'+this.attr("id")+'">'+this[0].plasticopts.crumb.title.replace(/\n/," ")+"</a>"+B}else{B="&nbsp;&gt;&nbsp;"+this[0].plasticopts.crumb.title+B}}else{if((this[0].plasticopts)&&(this[0].plasticopts.title)){if(D){B='&nbsp;&gt;&nbsp;<a class="plastic-breadcrumb-link" href="#'+this.attr("id")+'">'+this[0].plasticopts.title+"</a>"+B}else{B="&nbsp;&gt;&nbsp;"+this[0].plasticopts.title.replace(/<br[ \/]*>/," ")+B}}else{if(D){B='&nbsp;&gt;&nbsp;<a class="plastic-breadcrumb-link" href="#'+this.attr("id")+'">'+this.attr("id")+"</a>"+B}else{B="&nbsp;&gt;&nbsp;"+this.attr("id")+B}}}});b(".plastic-breadcrumb-before, .plastic-breadcrumb-after",this).hide();b(".plastic-breadcrumb-slider",this).html(B);b(".plastic-breadcrumb-slide-wrap",this).scrollLeft(5000);if(b(".plastic-breadcrumb-slide-wrap",this).scrollLeft()){b(".plastic-breadcrumb-before",this).show()}}});b(this).append(b('<div class="plastic-breadcrumb-before">...</div><div class="plastic-breadcrumb-slide-wrap"><div class="plastic-breadcrumb-slider" /></div><div class="plastic-breadcrumb-after">...</div>')).addClass("plastic-actionable");return b(this)},dialog:function d(A){var y=b(this).attr("id");var C={};if(A){b(this).attr({title:(A.title)?A.title:"Untitled"});if(b(this).children(":not(.plastic-transient)").length===0){b(this).append(b('<div id="'+y+'_content" class="plastic-dialog-content" />'))}for(var B in A.buttons){C[B]=function(H){var G=b(".plastic-stack-active").plasticDataSorter("plastic-active").last();var F=b(H.target).text();p.closest(".ui-dialog").find("button").each(function(){if(b(this).text()===F){b(this).removeClass("ui-state-hover ui-state-active").blur().button("option","disabled",true);return false}});Plastic.Action.call(G[0].source[0],G.data("plastic-row"),A.buttons[F].action,A.buttons[F]);if(A.buttons[F].close){p.dialog("close")}}}}b(this).dialog({autoOpen:false,modal:true,resizable:true,minHeight:((A)&&A.fixedheight)?A.fixedheight:300,maxHeight:((A)&&A.fixedheight)?A.fixedheight:undefined,minWidth:((A)&&A.fixedwidth)?A.fixedwidth:350,maxWidth:((A)&&A.fixedwidth)?A.fixedwidth:undefined,height:(A)?A.fixedheight:undefined,width:(A)?(A.defaultwidth)?A.defaultwidth:(A.fixedwidth)?A.fixedwidth:undefined:undefined,open:function(F,G){if(b(this).hasClass("plastic-width-auto")){b(this).dialog("option","width",b(_PlasticRuntime.root).width())}if(b(this).hasClass("plastic-height-auto")){b(this).dialog("option","height",b(_PlasticRuntime.root).height())}b(this).dialog("option","position",{of:b(_PlasticRuntime.root)});b(".plastic-lowprofile",b(this).closest(".ui-dialog")).trigger("profileshow.plastic");b(".plastic-actionable",b(this).closest(".ui-dialog")).trigger("actiontest.plastic");b(this).closest(".ui-dialog").find("button").each(function(){b(this).button("option","disabled",true)})},close:function(F,G){b(this).find(".plastic-stack-active").add(this).removeClass("plastic-stack-active").removeData("plastic-active");b(".plastic-lowprofile",b(this).closest(".ui-dialog")).trigger("profilehide.plastic");b(".plastic-actionable:visible").trigger("actiontest.plastic")},focus:function(F,G){b(".plastic-actionable",b(this).closest("ui-dialog")).trigger("actiontest.plastic")},buttons:C});b(this).on("hosttitle.plastic",function(G,F){b(p).dialog("option","title",F.title)});b(this).closest(".ui-dialog").on("actiontest.plastic",".plastic-actionable:visible",function(K){var F=b(this).text();if((p)&&(p.length)&&(p[0].plasticopts)&&(p[0].plasticopts.buttons)&&(p[0].plasticopts.buttons[F])){var J=b(".plastic-stack-active").plasticDataSorter("plastic-active").last();var H=p[0].plasticopts.buttons[F];var I=Plastic.ActionTests.call(J[0].source[0],J.data("plastic-row"),H.action,{path:H.path,against:H.against});var G=this;if(I.length){Plastic.Tests.call(J[0].source[0],J.data("plastic-row"),I,{path:H.path,against:H.against}).pass(function(){b(G).button("option","disabled",false)}).fail(function(){b(G).button("option","disabled",true)})}else{b(G).button("option","disabled",false)}}});b(this).closest(".ui-dialog").find(".ui-dialog-buttonset button.ui-button").addClass("plastic-actionable");this.render=function D(F){this.source=(F[0].source)?F[0].source:undefined;this.datastore=(F[0].datastore)?F[0].datastore:undefined;this.path=(F[0].path)?F[0].path:undefined;this.rowObject=((F)&&(F.length>1))?F[1]:undefined;if((A)&&(F)&&(F.length>1)){if(A.defaultheight!==undefined){b(p).dialog("option","height",parseInt(A.defaultheight))}if(A.defaultwidth!==undefined){b(p).dialog("option","width",A.defaultwidth)}if(A.title!==undefined){b(p).dialog("option","title",p._varExpand(A.title,F[1]))}if(A.message!==undefined){b(p).find(".plastic-dialog-content").html(p._varExpand(A.message,F[1]))}}b(p).dialog("option","position",{my:"center",at:"center",of:".plastic-root"});b(p).dialog("open");b(p).children(".plastic-stack").trigger("resize")};this.update=function z(){};b(this).resize(function(F){F.stopPropagation();if(b(this).hasClass("plastic-width-auto")){b(this).dialog("option","width",b(_PlasticRuntime.root).width())}if(b(this).hasClass("plastic-height-auto")){b(this).dialog("option","height",b(_PlasticRuntime.root).height())}b(this).dialog("option","position",{of:b(_PlasticRuntime.root)})});this.activate=function E(H,F){var G=((F)&&(F.active))?F.active:undefined;if(!(G)){p.dialog("open")}};return b(this).addClass("plastic-pliable plastic-elevated plastic-title-host").data("plastic-offset",10)},search:function s(z){var B=null;if((z)&&(z.patterns)){B={};for(var E in z.patterns){B[E]={};B[E].start=new RegExp("^"+z.patterns[E].start);B[E].match=new RegExp("^"+z.patterns[E].match+"((?=\\s+)|$)");B[E].balance=z.patterns[E].balance;B[E].title=((z.patterns[E].example)&&(z.patterns[E].example.title))?z.patterns[E].example.title:E;B[E].example=z.patterns[E].example;B[E].interactive=z.patterns[E].interactive}}b(this).on("click",".plastic-search-button",function(I){var G=b(this).closest(".plastic-search-wrap").find(".plastic-search-help");if(G.hasClass("plastic-search-help-active")){b(this).closest(".plastic-search-wrap").removeClass("plastic-search-active");b(this).closest(".plastic-search-wrap").find(".plastic-search-help").removeClass("plastic-search-help-active");b(this).closest(".plastic-search-wrap").css("width","100%")}if((z)&&(z.defaultTarget)){var H=p._findTarget(z.defaultTarget);H[0].render([{},{}])}});b(this).on("dblclick",".plastic-search-text",function(){var G=b(this).closest(".plastic-search-wrap").find(".plastic-search-help");if(G.hasClass("plastic-search-help-active")){b(this).closest(".plastic-search-wrap").removeClass("plastic-search-active");b(this).closest(".plastic-search-wrap").find(".plastic-search-help").removeClass("plastic-search-help-active");b(this).closest(".plastic-search-wrap").css("width","100%")}else{b(".plastic-search-wrap").removeClass("plastic-search-active").css("width","100%");b(".plastic-search-help").removeClass("plastic-search-help-active");b(this).closest(".plastic-search-wrap").addClass("plastic-search-active");b(this).closest(".plastic-search-wrap").outerWidth(b(this).closest(".Plastic.widget-search").width());b(this).closest(".plastic-search-wrap").animate({width:b(_PlasticRuntime.root).innerWidth()},function(){G.addClass("plastic-search-help-active");G.fadeIn()})}});b(this).on("click",".plastic-search-text span",function(){var K=b(this).closest(".plastic-search-wrap");var J=b(this).attr("type");K.find(".plastic-search-text span").removeClass("plastic-search-balance plastic-search-unbalanced");K.find(".plastic-search-help-section").removeClass("plastic-search-help-section-active");K.find('.plastic-search-help-section[type="'+J+'"]').addClass("plastic-search-help-section-active");if((B[J])&&(B[J].interactive)){K.find(".plastic-search-help-content-instructions").hide();K.find(".plastic-search-help-content-interactive").html(B[J].interactive)}else{K.find(".plastic-search-help-content-instructions").show();K.find(".plastic-search-help-content-interactive").html("")}K.find(".plastic-search-text span").removeClass("plastic-search-selected");b(this).addClass("plastic-search-selected");var O=function(S,R){if((S.length)&&(S.length<2)){return 0}var T=(S[0].test)?S[0].test(R):(S[0]===R);var Q=(S[1].test)?S[1].test(R):(S[1]===R);return(T)?1:(Q)?-1:0};if((J)&&(B[J])&&(B[J].balance)){var L=undefined;var I=[];var N=0;var P=this;var G=-1;K.find(".plastic-search_"+J).each(function(){N+=L=O(B[J].balance,b(this).text());if(this===P){G=I.length}I[I.length]=[N,this,L]});if(G>-1){var H=undefined;switch(O(B[J].balance,b(this).text())){case -1:for(var M=(G-1);M>=0;M--){if((I[M][2]!==I[G][2])&&(I[M][0]===(I[G][0]+1))){H=I[M][1];break}}break;case 1:for(var M=(G+1);M<I.length;M++){if((I[M][2]!==I[G][2])&&(I[M][0]===(I[G][0]-1))){H=I[M][1];break}}break;default:b(this).addClass("plastic-search-unbalanced");break}if(H){b(H).addClass("plastic-search-balance")}else{b(this).addClass("plastic-search-unbalanced")}}}});b(this).on("click",".plastic-search-help-content-interactive span, .plastic-search-help-content-instructions span",function(){var G=b(this).closest(".plastic-search-wrap");var H=G.find(".plastic-search-selected");if((H.length)&&(b(this).attr("replace"))){H.text(H.text().replace(new RegExp(b(this).attr("replace")),b(this).text()));H.trigger("click")}else{if(b(this).attr("search")){G.find(".plastic-search-text").html(b(this).attr("search")).focus().trigger("keyup")}}});b(this).on("keydown",".plastic-search-text",function(G){G.stopPropagation()});b(this).on("keyup",".plastic-search-text",function(){var W=true,L=false,N=[],X=[],R=[];var J=b(this).closest(".plastic-search-wrap");var K=b(this).text();if(b.trim(K).length===0){b(this).text("");J.find(".plastic-search-button").addClass("plastic-disabled")}else{J.find(".plastic-search-button").removeClass("plastic-disabled");if(/^\s+/.test(K)){K=K.replace(/^\s+/,function(Z){X[X.length]=Z;N[N.length]=[null,"leading_whitespace"];return""})}while(K.length){W=true,L=false;for(var H in B){if((B[H].match.test(K))){W=false;if(/($|^\s+)/.test(K.replace(B[H].match,""))){K=K.replace(B[H].match,function(Z){N[N.length]=[Z,H];return""}).replace(/^\s+/,function(Z){X[X.length]=Z;return""})}else{L=true}break}}if(W){R=[];for(var H in B){if((B[H].start.test(K))){L=true;R[R.length]=H}}N[N.length]=[K,"incomplete"]}if((W)||(L)){break}}(W)?b(this).addClass("plastic-search-text-error"):b(this).removeClass("plastic-search-text-error");if(N.length){J.find(".plastic-search-help-section").removeClass("plastic-search-help-section-active");var P=N[N.length-1][1];if(R.length){for(var M=0;M<R.length;M++){J.find('.plastic-search-help-section[type="'+R[M]+'"]').addClass("plastic-search-help-section-active")}}else{J.find('.plastic-search-help-section[type="'+P+'"]').addClass("plastic-search-help-section-active");if((B[P])&&(B[P].interactive)){J.find(".plastic-search-help-content-instructions").hide();J.find(".plastic-search-help-content-interactive").html(B[P].interactive)}else{J.find(".plastic-search-help-content-instructions").show();J.find(".plastic-search-help-content-interactive").html("")}}var S=rangy.getSelection();var V=S.focusNode;var Q=(b(V).hasClass("plastic-search-text"))?0:S.focusOffset;var U=Q;var T=b(V).parent();if(S.getRangeAt(0).collapsed){b(this).contents().each(function(){if(this.nodeType===this.TEXT_NODE){if(this===V){return false}U+=this.length}else{if(b(this).contents()[0]===V){return false}U+=b(this).text().length}});var O="";for(var G=0;G<N.length;G++){var K=(G<X.length)?X[G].replace(/\s/g,"&nbsp;"):"";var Y=((B[N[G][1]])&&(B[N[G][1]].title))?B[N[G][1]].title:(N[G][1]==="incomplete")?"Incomplete Search Term":N[G][1];if(N[G][0]===null){O+=K}else{O+='<span class="plastic-search_'+N[G][1]+'" type="'+N[G][1]+'" title="'+Y+'">'+N[G][0].replace(/\s/g,"&nbsp;")+"</span>"+K}}b(this).html(O);var I=0;b(this).contents().each(function(){if(this.nodeType===this.TEXT_NODE){U-=this.length;if(U<=0){var Z=this.length+U;var aa=rangy.createRange();aa.setEnd(this,Z);aa.setStart(this,Z);b(this).focus();S.setSingleRange(aa);return false}}else{U-=b(this).text().length;if(U<=0){var Z=b(this).text().length+U;var aa=rangy.createRange();aa.setEnd(b(this).contents()[0],Z);aa.setStart(b(this).contents()[0],Z);b(this).focus();S.setSingleRange(aa);b(this).trigger("click");return false}}I++})}}else{J.find(".plastic-search-help-content-instructions").show();J.find(".plastic-search-help-content-interactive").html("")}}});var D=((z)&&(z.parent))?z.parent+" *":"body";var F='<div class="plastic-search-wrap">  <div class="plastic-search-left">    <div class="plastic-search-text" contenteditable="true" spellcheck="false"         title="Enter search here (Double-Click to toggle search assistant)." />    </div>  <div class="plastic-search-right">    <div class="plastic-search-button plastic-disabled">Search</div>  </div>  <div class="plastic-search-help">    <div class="plastic-search-help-title">Searchbar Assistant: This pane provides context-aware assistance for your search.</div>    <div class="plastic-search-help-content">      <div class="plastic-search-help-content-instructions"></div>      <div class="plastic-search-help-content-interactive"></div>      <div class="plastic-search-help-content-examples"></div>    </div>  </div></div>';b(this).append(b(F));var A="";for(var E in B){if(B[E].example){if(B[E].example.title){A+='<div class="plastic-search-help-section" type="'+E+'">'+B[E].example.title+":<br>";if(B[E].example.sample){A+='<div class="plastic-search-help-example">'+B[E].example.sample+"</div>"}if(B[E].example.hint){A+='<div class="plastic-search-help-hint">HINT: '+B[E].example.hint+"</div>"}A+="</div>"}}}b(this).find(".plastic-search-help>.plastic-search-help-content>.plastic-search-help-content-examples").html(A);if((z)&&(z.help)){if(z.help["default"]){b(this).find(".plastic-search-help>.plastic-search-help-content>.plastic-search-help-content-instructions").html(z.help["default"])}}else{}this.render=function C(){};this.update=function y(){};return b(this)},resultset:function m(z){var y=b(this).attr("id");this.render=function A(){};return b(this)},filterlist:function l(F){var I,B;var E=b(this).attr("id");var z=this;var A=((F)&&(F.datastore))?F.datastore:null;var G=((F)&&(F.namespace))?F.namespace:"default";var M=_PlasticRuntime.datastore[A];var H={};var J=[];var L={};var D=function S(V,T,Y,X){if(X===undefined){X=[];for(var U in L){X[Math.abs(parseInt(L[U]))]=U}}b(this).removeClass("ui-state-active plastic-dirty");if(V){b(this).removeAttr("plastic-filterlist-selected").find("span.ui-icon").removeClass("ui-icon-minus").addClass("ui-icon-plus");b(this).appendTo(b(this).closest(".plastic-filterlist-wrap").find(".plastic-filterlist-complete div"));if((L)&&(L[b(this).text()]!==undefined)){if(/^-/.test(L[b(this).text()])){Y[T][Math.abs(parseInt(L[b(this).text()]))]=null}else{Y[T][L[b(this).text()]]='<span class="plastic-filterlist-deselected" data-text="'+b(this).text()+'">undefined</span>'}}}else{b(this).attr("plastic-filterlist-selected",true).find("span.ui-icon").removeClass("ui-icon-plus").addClass("ui-icon-minus");b(this).appendTo(b(this).closest(".plastic-filterlist-wrap").find(".plastic-filterlist-selected div"));if((L)&&(L[b(this).text()]!==undefined)){Y[T][Math.abs(parseInt(L[b(this).text()]))]=b(this).text()}else{var W=0;for(var U=0;U<X.length;U++){if(X[U]===undefined){Y[T][U]=b(this).text();L[b(this).text()]="-"+(U);W=-1;break}else{W=Math.max(W,U)}}if(W>-1){Y[T][W+1]=b(this).text();L[b(this).text()]="-"+(W+1)}}}};var P=function R(Z){if((Z.target.nodeName==="SPAN")?(!(Z.type==="dblclick")):(Z.type==="dblclick")){Z.stopPropagation();Z.preventDefault();var U=((F)&&(F.selected))?F.selected:null;var aa={};aa[U]={};D.call(this,b(this).closest("ul").hasClass("plastic-filterlist-selected"),U,aa);var X=(z)?z.source:null;if((X)&&(X.length)){var V=(E)?b("#"+E).data("plastic-key"):null;var T=X[0].plasticopts.datastore;var W=((X)&&(X.length)&&(X[0].plasticopts))?X[0].plasticopts.namespace:"default";var Y=((X)&&(_PlasticRuntime.datastore[T]))?_PlasticRuntime.datastore[T]:null;if(Y){Y.updateRow(V,[{status:"selectionupdate",id:Y.nextSequence()},aa],X.rowsUpdated,{namespace:W})}}z.adjustWidth()}};b(this).on("dblclick",".plastic-filterlist-selected li, .plastic-filterlist-complete li",P);b(this).on("mouseover",".plastic-filterlist-selected li, .plastic-filterlist-complete li",function(){b(this).addClass("ui-state-active")});b(this).on("mouseout",".plastic-filterlist-selected li, .plastic-filterlist-complete li",function(){b(this).removeClass("ui-state-active")});b(this).on("click","span.plastic-filterlist-select",function(T){P.call(b(this).closest("li"),T)});b(this).on("click",".plastic-filterlist-undochanges span",function(T){z.resetSelected()});b(this).on("click",".plastic-filterlist-refreshall span",function(T){z.adjustSorting()});b(this).on("click",".plastic-filterlist-selectall span, .plastic-filterlist-deselectall span",function(Z){var aa=((F)&&(F.selected))?F.selected:null;var ab={};ab[aa]={};var X=[];for(var T in L){X[Math.abs(parseInt(L[T]))]=T}b(z).find(".plastic-filterlist-complete li, .plastic-filterlist-selected li").removeClass("plastic-dirty");if(b(this).parent().hasClass("plastic-filterlist-selectall")){var V=b(z).find(".plastic-filterlist-selected div");b(z).find(".plastic-filterlist-complete li").not(":hidden").each(function(){D.call(this,false,aa,ab);b(this).find(".ui-icon").removeClass("ui-icon-plus").addClass("ui-icon-minus");b(this).appendTo(V)});b(z).find(".plastic-filterlist-search input").val("").trigger("keyup")}else{var V=b(z).find(".plastic-filterlist-complete div");b(z).find(".plastic-filterlist-selected li").each(function(){D.call(this,true,aa,ab);b(this).find(".ui-icon").removeClass("ui-icon-minus").addClass("ui-icon-plus");b(this).appendTo(V)})}var U=(z)?z.source:null;if((U)&&(U.length)){var ad=(E)?b("#"+E).data("plastic-key"):null;var ac=U[0].plasticopts.datastore;var Y=((U)&&(U.length)&&(U[0].plasticopts))?U[0].plasticopts.namespace:"default";var W=((U)&&(_PlasticRuntime.datastore[ac]))?_PlasticRuntime.datastore[ac]:null;if(W){W.updateRow(ad,[{status:"selectionupdate",id:W.nextSequence()},ab],U.rowsUpdated,{namespace:Y})}}z.adjustWidth()});b(this).on("click",".plastic-filterlist-search span.ui-icon-cancel",function(T){b(this).parent().find("input:first").val("").trigger("keyup")});b(this).on("keyup",".plastic-filterlist-search input",function(T){if((T.key==="Esc")||(b.trim(b(this).val()).length===0)){b(this).val("");b(this).parent().prev("span").removeClass("ui-icon-cancel").addClass("ui-icon-search");b(this).closest(".plastic-filterlist-wrap").find(".plastic-filterlist-complete li").show()}else{b(this).parent().prev("span").removeClass("ui-icon-search").addClass("ui-icon-cancel");b(this).closest(".plastic-filterlist-wrap").find(".plastic-filterlist-complete li").hide();b(this).closest(".plastic-filterlist-wrap").find('.plastic-filterlist-complete li:contains("'+b.trim(b(this).val())+'")').show()}});var K=((F)&&(F.filterTitle))?F.filterTitle:"Available Options";var O=((F)&&(F.title))?F.title:"Selected Options";b(this).removeData("plastic-key");var C="";C+='<div id="'+E+'_wrap" class="plastic-filterlist-wrap">';C+='  <div id="'+E+'_left" class="plastic-filterlist-left">';C+='    <div class="plastic-filterlist-top">';C+='      <label class="plastic-filterlist-title">'+K+":</label>";C+='      <div class="plastic-filterlist-undochanges"><span class="ui-icon ui-icon-trash" title="Undo Changes" /></div>';C+='      <div class="plastic-filterlist-deselectall"><span class="ui-icon ui-icon-minus" title="Deselect All" /></div>';C+="    </div>";C+='    <div class="plastic-filterlist-bottom">';C+='      <ul class="plastic-filterlist-selected"><div/></ul>';C+="    </div>";C+="  </div>";C+='  <div id="'+E+'_right" class="plastic-filterlist-right">';C+='    <div class="plastic-filterlist-top">';C+='      <label class="plastic-filterlist-title">'+O+":</label>";C+='      <div class="plastic-filterlist-searchwrap">';C+='        <div class="plastic-filterlist-selectall"><span class="ui-icon ui-icon-plus" title="Select All" /></div>';C+='        <div class="plastic-filterlist-refreshall"><span class="ui-icon ui-icon-refresh" title="Refresh Sorting" /></div>';C+='        <div class="plastic-filterlist-search">';C+='          <span class="ui-icon ui-icon-search"></span>';C+='          <div><input type="text" name="'+E+'_search"></div>';C+="        </div>";C+="      </div>";C+="    </div>";C+='    <div class="plastic-filterlist-bottom">';C+='      <ul class="plastic-filterlist-complete"><div/></ul>';C+="    </div>";C+="  </div>";C+="</div>";b(this).append(b(C));this.fulfillList=function(V,W){var X=[];for(var U in H){if((L[H[U]]!==undefined)&&(/^[0-9-]/.test(L[H[U]]))){var T=((V)&&(H[U]===V))?"plastic-autofill-selected":"plastic-autofill-item";if((W)&&T!=="plastic-autofill-selected"){continue}X[X.length]={key:U,"class":T,value:H[U]}}}return X};this.resetSelected=function(X){var Z=b(z).find(".plastic-filterlist-selected div");var V=b(z).find(".plastic-filterlist-complete div");var aa=((F)&&(F.selected))?F.selected:null;var ab={};ab[aa]={};var U=0;b(z).find(".plastic-filterlist-complete li, .plastic-filterlist-selected li").each(function(){b(this).removeClass("plastic-dirty");if(b(this).attr("plastic-filterlist-selected")){if(X){b(this).appendTo(Z).find("span.ui-icon").removeClass("ui-icon-plus").addClass("ui-icon-minus");if((L[b(this).text()]===undefined)||(/^[- ]/.test(L[b(this).text()]))){b(this).addClass("plastic-dirty")}}else{if((L[b(this).text()]===undefined)||(/^[- ]/.test(L[b(this).text()]))){b(this).appendTo(V).removeAttr("plastic-filterlist-selected").find("span.ui-icon").removeClass("ui-icon-minus").addClass("ui-icon-plus");ab[aa][Math.abs(parseInt(L[b(this).text()]))]=null;U++}}}else{if(X){b(this).appendTo(V).find("span.ui-icon").removeClass("ui-icon-minus").addClass("ui-icon-plus");if((L[b(this).text()]!==undefined)&&(/^[- ]/.test(L[b(this).text()]))){b(this).addClass("plastic-dirty")}}else{if((L[b(this).text()]!==undefined)&&(/^[- ]/.test(L[b(this).text()]))){b(this).appendTo(Z).attr("plastic-filterlist-selected",true).find("span.ui-icon").removeClass("ui-icon-plus").addClass("ui-icon-minus");ab[aa][Math.abs(parseInt(L[b(this).text()]))]=b(this).text();U++}}}});if(U){var T=(z)?z.source:null;if((T)&&(T.length)){var ad=(E)?b("#"+E).data("plastic-key"):null;var ac=T[0].plasticopts.datastore;var Y=((T)&&(T.length)&&(T[0].plasticopts))?T[0].plasticopts.namespace:"default";var W=((T)&&(_PlasticRuntime.datastore[ac]))?_PlasticRuntime.datastore[ac]:null;if(W){W.updateRow(ad,[{status:"selectionupdate",id:W.nextSequence()},ab],T.rowsUpdated,{namespace:Y})}}}z.adjustWidth()};this.adjustSelected=function(){b(z).find(".plastic-filterlist-complete li, .plastic-filterlist-selected li").each(function(){if((L[b(this).text()]===undefined)||(/^ /.test(L[b(this).text()]))){b(this).removeAttr("plastic-filterlist-selected").find("span.ui-icon").removeClass("ui-icon-minus").addClass("ui-icon-plus")}else{b(this).attr("plastic-filterlist-selected",true).find("span.ui-icon").removeClass("ui-icon-plus").addClass("ui-icon-minus")}});this.resetSelected(true)};this.adjustSorting=function(){var T=function(V,U){var X=b(V).text().toLowerCase();var W=b(U).text().toLowerCase();return(X===W)?0:(X<W)?-1:1};b(z).find(".plastic-filterlist-selected li").sort(T).appendTo(b(z).find(".plastic-filterlist-selected div"));b(z).find(".plastic-filterlist-complete li").sort(T).appendTo(b(z).find(".plastic-filterlist-complete div"))};this.adjustWidth=function(){};this.rowsRead=function Q(ab,T){var Y=((p.length>0)&&(p[0].plasticopts)&&(p[0].plasticopts.display))?p[0].plasticopts.display:null;var ac=((p.length>0)&&(p[0].plasticopts)&&(p[0].plasticopts.tooltip))?p[0].plasticopts.tooltip:(Y)?Y:null;if(ab){b(z).find(".plastic-filterlist-selected div").html("");var U=b(z).find(".plastic-filterlist-complete div");var aa=[];for(var W=1;W<ab.length;W++){var V=ab[W];var X=V.key;var Z=((ac)&&(ac in V.attributes))?V.attributes[ac]:((ac)&&(ac in V))?V[ac]:null;H[X]=((Y)&&(Y in V.attributes))?V.attributes[Y]:((Y)&&(Y in V))?V[Y]:null;aa[aa.length]='<li class="ui-element ui-state-default"  itemKey="'+X+'" title="'+Z+'"><span class="ui-icon ui-icon-plus plastic-filterlist-select" title="Toggle This Selection" />'+H[X]+"</li>"}U.html(b(aa.join("")))}};this.render=function N(X){p._register.call(this,X);this.source=(X[0].source)?X[0].source:undefined;this.datastore=(X[0].datastore)?X[0].datastore:undefined;this.path=(X[0].path)?X[0].path:undefined;var V=((X)&&(X.length>1))?X[1].key:null;b("#"+E).data("plastic-key",V);var U=((F)&&(F.selected))?F.selected:null;if((U)&&(X)&&(X.length>1)&&(X[1].attributes)&&(X[1].attributes[U])){var Y=((X[1].dirty)&&(X[1].dirty[U]))?X[1].dirty[U]:{};L={};for(var T in X[1].attributes[U]){var W=X[1].attributes[U][T];if(/^<span .*\/span>$/.test(Y[T])){W=b(W).data("text")}L[W]=(Y[T]===undefined)?T:(Y[T]===W)?"-"+T:" "+T}}this.adjustSelected();z.adjustSorting()};this.update=this.render;this.init=function y(){throw new Error("_plasticwidget_filterlist_init");M.readRows(null,null,z.rowsRead,{namespace:G})};b(this).on("initialize.plastic",function(T){if(T.target===this){M.readRows(null,null,z.rowsRead,{namespace:G,flatten:true})}});return b(this)},menu:function f(y){b(this).on("click",".plastic-menu-item",function(){var D=b(this).attr("for");if((y)&&(y.menu)&&(y.menu[D])){if(y.menu[D].target){var E=p._findTarget(y.menu[D].target);E[0].render([{},{}])}}});var C;var A=((y)&&(y.ordered))?0:null;if((y)&&(y.menu)){var B="<ul>";for(var z in y.menu){if(y.menu[z].separator){B+='<li class="plastic-menu-separator"></li>'}C=(typeof(A)==="number")?'<span class="plastic-menu-number">'+(++A)+".)</span>":"";B+='<li class="plastic-menu-item" for="'+z+'">'+C+"<span>"+z+"</span></li>"}B+="</ul>";b(this).append(B)}return b(this)},iframe:function q(A){var y=b(this).attr("id");var B=((A)&&(A.title))?p._varExpand(A.title,{}):null;var C=((A)&&(A.location))?p._varExpand(A.location,{}):"about:blank";this.render=function z(E){var D=((E)&&(E.length>1))?E[1]:{};B=((A)&&(A.title))?p._varExpand(A.title,D):null;C=((A)&&(A.location))?p._varExpand(A.location,D):"about:blank";if(b(this).is(":visible")){b(this).trigger("profileshow.plastic")}};b(this).on("profileshow.plastic",function(){if(B){b(this).closest(".plastic-title-host").trigger("hosttitle.plastic",{title:B})}var D=((A)&&(A.random===false))?C:C+"?uniq="+Math.random();b(this).find(".plastic-iframe-frame:first").attr({src:D})});b(this).on("profilehide.plastic",function(){b(this).find(".plastic-iframe-frame:first").attr({src:"about:blank"})});b(this).on("initialize.plastic",function(D){if(D.target===this){if(b(this).is(".plastic-visible-inactive")){var E=((A)&&(A.random===false))?C:C+"?uniq="+Math.random();b(this).find(".plastic-iframe-frame:first").attr({src:E})}}});b(this).append(b('<iframe class="plastic-iframe-frame" id="'+y+'_frame" src="about:blank" />'));return b(this).addClass("plastic-lowprofile")}};this._findTarget=function i(y){var z=((y.plasticopts)&&(y.plasticopts.defaultTarget))?y.plasticopts.defaultTarget:y;if(z.jquery===undefined){if(b("#"+z).length){z=b("#"+z)}}return z};this._subComponentsFreeze=function x(){var y={};b(this).find(".plastic-widget, .plastic-view").each(function(){var z=((this.isplastic)&&(this["plastic"+this.isplastic])&&(this["plastic"+this.isplastic].getScrollDetails))?this.plasticview.getScrollDetails():undefined;y[b(this).attr("id")]=[z,b(this).detach()]});return y};this._subComponentsThaw=function e(y,C,B){for(var z in y){y[z][1].appendTo(b(this).find('div[plastic-sub-component="'+z+'"] fieldset'));if(y[z][1][0][B]){y[z][1][0][B](C)}var A=y[z][1][0];if((A.isplastic)&&(A["plastic"+A.isplastic])&&(A["plastic"+A.isplastic].setScrollDetails)&&(typeof(A["plastic"+A.isplastic].setScrollDetails)==="function")){A["plastic"+A.isplastic].setScrollDetails(y[z][0])}}};return this.each(function(C){var y=b(this).attr("id");b(this).css({padding:"3px"});var A=(c.length>=2)?c[1]:{};if((c[0])&&(p._make[c[0]]!==undefined)){h[y]=p._make[c[0]].call(this,A);h[y][0].plasticopts=A;h[y][0].plasticwidget=p;h[y][0].plasticcomponent=c[0];h[y][0].isplastic="widget";var B=h[y][0].render;h[y][0].render=function F(L){this.source=(L[0].source)?L[0].source:undefined;this.caller=(L[0].caller)?L[0].caller:undefined;this.datastore=(L[0].datastore)?L[0].datastore:undefined;this.path=(L[0].path)?L[0].path:undefined;b(this).data("plastic-row",L[1]);b(this).data("plastic-key",L[1].key);var G=undefined;if((p)&&(p.length)&&(p[0].plasticopts)&&(p[0].plasticopts.jumpIf)){for(var M in p[0].plasticopts.jumpIf){var I=p[0].plasticopts.jumpIf[M];for(var J=0;J<I.length;J++){G=Plastic.Test.call(this.source,L[1],I[J],{});if(!(G)){break}}if(G){G=M;break}}}if(G){var K=p._findTarget(G);if((K)&&(K[0].render)&&(typeof K[0].render==="function")){K[0].render(L)}else{}}else{var H=b(".plastic-stack-active").plasticDataSorter("plastic-active").last().data("plastic-active");if(H===undefined){H=100}if((B)&&(typeof(B)==="function")){B.call(this,L)}if(b(this).parents(".plastic-elevated").length){H+=b(this).parents(".plastic-elevated:first").data("plastic-offset")}b(this).trigger("activate.plastic",{start:H});b(".plastic-actionable").trigger("actiontest.plastic");b(p).find("span[activate]").each(function(){if(b(this).attr("title")===undefined){b(this).attr("title",(b(this).attr("activate"))?"Click to follow link":"Unavailable link")}});b(p).trigger("rendered.plastic")}};var D=h[y][0].update;h[y][0].update=function z(G){this.source=(G[0].source)?G[0].source:undefined;this.caller=(G[0].caller)?G[0].caller:undefined;this.datastore=(G[0].datastore)?G[0].datastore:undefined;this.path=(G[0].path)?G[0].path:undefined;b(this).data("plastic-row",G[1]);b(this).data("plastic-key",G[1].key);if((D)&&(typeof(D)==="function")){D.call(this,G)}b(".plastic-actionable").trigger("actiontest.plastic")};module("PlasticWidget");test("Find required (widget) methods for: "+c[0]+" => "+y,function(){});if((A)&&(A["default"])){h[y].addClass("plastic-stack-active")}}else{h[y]=b(this).append(b('<div class="plastic-undefined-component">Undefined Widget: '+c[0]+"</div>"));h[y][0].render=function E(G){if((this.parent)&&(this.parent.activate)&&(typeof(this.parent.activate)==="function")){this.parent.activate(b(this).attr("id"))}}}h[y].addClass("plastic-widget");if((A)&&(A.defaultwidth)){h[y].outerWidth(A.defaultwidth);h[y].addClass("plastic-width-manual")}else{if((A)&&(A.fixedwidth)){h[y].outerWidth(A.fixedwidth);h[y].addClass("plastic-width-fixed")}else{h[y].addClass("plastic-width-auto")}}if((A)&&(A.defaultheight)){h[y].outerHeight(A.defaultheight);h[y].addClass("plastic-height-manual")}else{if((A)&&(A.fixedheight)){h[y].outerHeight(A.fixedheight);h[y].addClass("plastic-height-fixed")}else{h[y].addClass("plastic-height-auto")}}})};b.fn.plasticwidget.formwidget=function(){}})(jQuery);(function(b,c,d){(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{if(jQuery&&!jQuery.fn.sparkline){e(jQuery)}}}(function(n){var u={},r,K,x,H,y,p,L,M,A,g,h,N,D,q,v,J,F,l,t,G,i,e,I,z,s,O,f,C,o,E,B,m,j=0;r=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false,enableHighlight:true,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:false,numberFormatter:false,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:false,disableInteraction:false},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:d,normalRangeMax:d,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:d,chartRangeMax:d,chartRangeMinX:d,chartRangeMaxX:d,tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:d,nullColor:d,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMax:d,chartRangeMin:d,chartRangeClip:false,colorMap:d,tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:d,thresholdValue:0,chartRangeMax:d,chartRangeMin:d,chartRangeClip:false,tooltipFormat:new x("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:d,tooltipFormat:new x("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new x('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:d,targetColor:"#4a2",chartRangeMax:d,chartRangeMin:d,tooltipFormat:new x("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};O='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';K=function(){var P,Q;P=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){P.prototype=n.extend(new arguments[0](),arguments[arguments.length-1]);P._super=arguments[0].prototype}else{P.prototype=arguments[arguments.length-1]}if(arguments.length>2){Q=Array.prototype.slice.call(arguments,1,-1);Q.unshift(P.prototype);n.extend.apply(n,Q)}}else{P.prototype=arguments[0]}P.prototype.cls=P;return P};n.SPFormatClass=x=K({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(Q,P){this.format=Q;this.fclass=P},render:function(X,V,Y){var W=this,U=X,T,Q,R,S,P;return this.format.replace(this.fre,function(){var Z;Q=arguments[1];R=arguments[3];T=W.precre.exec(Q);if(T){P=T[2];Q=T[1]}else{P=false}S=U[Q];if(S===d){return""}if(R&&V&&V[R]){Z=V[R];if(Z.get){return V[R].get(S)||S}else{return V[R][S]||S}}if(A(S)){if(Y.get("numberFormatter")){S=Y.get("numberFormatter")(S)}else{S=q(S,P,Y.get("numberDigitGroupCount"),Y.get("numberDigitGroupSep"),Y.get("numberDecimalMark"))}}return S})}});n.spformat=function(Q,P){return new x(Q,P)};H=function(R,Q,P){if(R<Q){return Q}if(R>P){return P}return R};y=function(P,R){var Q;if(R===2){Q=c.floor(P.length/2);return P.length%2?P[Q]:(P[Q-1]+P[Q])/2}else{if(P.length%2){Q=(P.length*R+R)/4;return Q%1?(P[c.floor(Q)]+P[c.floor(Q)-1])/2:P[Q-1]}else{Q=(P.length*R+2)/4;return Q%1?(P[c.floor(Q)]+P[c.floor(Q)-1])/2:P[Q-1]}}};p=function(Q){var P;switch(Q){case"undefined":Q=d;break;case"null":Q=null;break;case"true":Q=true;break;case"false":Q=false;break;default:P=parseFloat(Q);if(Q==P){Q=P}}return Q};L=function(R){var Q,P=[];for(Q=R.length;Q--;){P[Q]=p(R[Q])}return P};M=function(T,R){var Q,S,P=[];for(Q=0,S=T.length;Q<S;Q++){if(T[Q]!==R){P.push(T[Q])}}return P};A=function(P){return !isNaN(parseFloat(P))&&isFinite(P)};q=function(R,Q,P,U,T){var V,S;R=(Q===false?parseFloat(R).toString():R.toFixed(Q)).split("");V=(V=n.inArray(".",R))<0?R.length:V;if(V<R.length){R[V]=T}for(S=V-P;S>0;S-=P){R.splice(S,0,U)}return R.join("")};g=function(S,Q,P){var R;for(R=Q.length;R--;){if(P&&Q[R]===null){continue}if(Q[R]!==S){return false}}return true};h=function(R){var Q=0,P;for(P=R.length;P--;){Q+=typeof R[P]==="number"?R[P]:0}return Q};D=function(P){return n.isArray(P)?P:[P]};N=function(Q){var P;if(b.createStyleSheet){b.createStyleSheet().cssText=Q}else{P=b.createElement("style");P.type="text/css";b.getElementsByTagName("head")[0].appendChild(P);P[(typeof b.body.style.WebkitAppearance=="string")?"innerText":"innerHTML"]=Q}};n.fn.simpledraw=function(T,P,Q,S){var V,U;if(Q&&(V=this.data("_jqs_vcanvas"))){return V}if(n.fn.sparkline.canvas===false){return false}else{if(n.fn.sparkline.canvas===d){var R=b.createElement("canvas");if(!!(R.getContext&&R.getContext("2d"))){n.fn.sparkline.canvas=function(Y,W,Z,X){return new E(Y,W,Z,X)}}else{if(b.namespaces&&!b.namespaces.v){b.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");n.fn.sparkline.canvas=function(Y,W,Z,X){return new B(Y,W,Z)}}else{n.fn.sparkline.canvas=false;return false}}}}if(T===d){T=n(this).innerWidth()}if(P===d){P=n(this).innerHeight()}V=n.fn.sparkline.canvas(T,P,this,S);U=n(this).data("_jqs_mhandler");if(U){U.registerCanvas(V)}return V};n.fn.cleardraw=function(){var P=this.data("_jqs_vcanvas");if(P){P.reset()}};n.RangeMapClass=v=K({init:function(S){var R,P,Q=[];for(R in S){if(S.hasOwnProperty(R)&&typeof R==="string"&&R.indexOf(":")>-1){P=R.split(":");P[0]=P[0].length===0?-Infinity:parseFloat(P[0]);P[1]=P[1].length===0?Infinity:parseFloat(P[1]);P[2]=S[R];Q.push(P)}}this.map=S;this.rangelist=Q||false},get:function(T){var S=this.rangelist,R,Q,P;if((P=this.map[T])!==d){return P}if(S){for(R=S.length;R--;){Q=S[R];if(Q[0]<=T&&Q[1]>=T){return Q[2]}}}return d}});n.range_map=function(P){return new v(P)};J=K({init:function(R,P){var Q=n(R);this.$el=Q;this.options=P;this.currentPageX=0;this.currentPageY=0;this.el=R;this.splist=[];this.tooltip=null;this.over=false;this.displayTooltips=!P.get("disableTooltips");this.highlightEnabled=!P.get("disableHighlight")},registerSparkline:function(P){this.splist.push(P);if(this.over){this.updateDisplay()}},registerCanvas:function(P){var Q=n(P.canvas);this.canvas=P;this.$canvas=Q;Q.mouseenter(n.proxy(this.mouseenter,this));Q.mouseleave(n.proxy(this.mouseleave,this));Q.click(n.proxy(this.mouseclick,this))},reset:function(P){this.splist=[];if(this.tooltip&&P){this.tooltip.remove();this.tooltip=d}},mouseclick:function(Q){var P=n.Event("sparklineClick");P.originalEvent=Q;P.sparklines=this.splist;this.$el.trigger(P)},mouseenter:function(P){n(b.body).unbind("mousemove.jqs");n(b.body).bind("mousemove.jqs",n.proxy(this.mousemove,this));this.over=true;this.currentPageX=P.pageX;this.currentPageY=P.pageY;this.currentEl=P.target;if(!this.tooltip&&this.displayTooltips){this.tooltip=new F(this.options);this.tooltip.updatePosition(P.pageX,P.pageY)}this.updateDisplay()},mouseleave:function(){n(b.body).unbind("mousemove.jqs");var S=this.splist,P=S.length,R=false,T,Q;this.over=false;this.currentEl=null;if(this.tooltip){this.tooltip.remove();this.tooltip=null}for(Q=0;Q<P;Q++){T=S[Q];if(T.clearRegionHighlight()){R=true}}if(R){this.canvas.render()}},mousemove:function(P){this.currentPageX=P.pageX;this.currentPageY=P.pageY;this.currentEl=P.target;if(this.tooltip){this.tooltip.updatePosition(P.pageX,P.pageY)}this.updateDisplay()},updateDisplay:function(){var Q=this.splist,W=Q.length,U=false,T=this.$canvas.offset(),S=this.currentPageX-T.left,R=this.currentPageY-T.top,X,P,V,Z,Y;if(!this.over){return}for(V=0;V<W;V++){P=Q[V];Z=P.setRegionHighlight(this.currentEl,S,R);if(Z){U=true}}if(U){Y=n.Event("sparklineRegionChange");Y.sparklines=this.splist;this.$el.trigger(Y);if(this.tooltip){X="";for(V=0;V<W;V++){P=Q[V];X+=P.getCurrentRegionTooltip()}this.tooltip.setContent(X)}if(!this.disableHighlight){this.canvas.render()}}if(Z===null){this.mouseleave()}}});F=K({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(P){var S=P.get("tooltipClassname","jqstooltip"),Q=this.sizeStyle,R;this.container=P.get("tooltipContainer")||b.body;this.tooltipOffsetX=P.get("tooltipOffsetX",10);this.tooltipOffsetY=P.get("tooltipOffsetY",12);n("#jqssizetip").remove();n("#jqstooltip").remove();this.sizetip=n("<div/>",{id:"jqssizetip",style:Q,"class":S});this.tooltip=n("<div/>",{id:"jqstooltip","class":S}).appendTo(this.container);R=this.tooltip.offset();this.offsetLeft=R.left;this.offsetTop=R.top;this.hidden=true;n(window).unbind("resize.jqs scroll.jqs");n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop();this.scrollLeft=n(window).scrollLeft();this.scrollRight=this.scrollLeft+n(window).width();this.updatePosition()},getSize:function(P){this.sizetip.html(P).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(P){if(!P){this.tooltip.css("visibility","hidden");this.hidden=true;return}this.getSize(P);this.tooltip.html(P).css({width:this.width,height:this.height,visibility:"visible"});if(this.hidden){this.hidden=false;this.updatePosition()}},updatePosition:function(P,Q){if(P===d){if(this.mousex===d){return}P=this.mousex-this.offsetLeft;Q=this.mousey-this.offsetTop}else{this.mousex=P=P-this.offsetLeft;this.mousey=Q=Q-this.offsetTop}if(!this.height||!this.width||this.hidden){return}Q-=this.height+this.tooltipOffsetY;P+=this.tooltipOffsetX;if(Q<this.scrollTop){Q=this.scrollTop}if(P<this.scrollLeft){P=this.scrollLeft}else{if(P+this.width>this.scrollRight){P=this.scrollRight-this.width}}this.tooltip.css({left:P,top:Q})},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=d;n(window).unbind("resize.jqs scroll.jqs")}});f=function(){N(O)};n(f);m=[];n.fn.sparkline=function(P,Q){return this.each(function(){var R=new n.fn.sparkline.options(this,Q),U=n(this),T,S;T=function(){var W,Y,V,X,ab,aa,Z;if(P==="html"||P===d){Z=this.getAttribute(R.get("tagValuesAttribute"));if(Z===d||Z===null){Z=U.html()}W=Z.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{W=P}Y=R.get("width")==="auto"?W.length*R.get("defaultPixelsPerValue"):R.get("width");if(R.get("height")==="auto"){if(!R.get("composite")||!n.data(this,"_jqs_vcanvas")){X=b.createElement("span");X.innerHTML="a";U.html(X);V=n(X).innerHeight()||n(X).height();n(X).remove();X=null}}else{V=R.get("height")}if(!R.get("disableInteraction")){ab=n.data(this,"_jqs_mhandler");if(!ab){ab=new J(this,R);n.data(this,"_jqs_mhandler",ab)}else{if(!R.get("composite")){ab.reset()}}}else{ab=false}if(R.get("composite")&&!n.data(this,"_jqs_vcanvas")){if(!n.data(this,"_jqs_errnotify")){alert("Attempted to attach a composite sparkline to an element with no existing sparkline");n.data(this,"_jqs_errnotify",true)}return}aa=new n.fn.sparkline[R.get("type")](this,W,R,Y,V);aa.render();if(ab){ab.registerSparkline(aa)}};if((n(this).html()&&!R.get("disableHiddenCheck")&&n(this).is(":hidden"))||!n(this).parents("body").length){if(!R.get("composite")&&n.data(this,"_jqs_pending")){for(S=m.length;S;S--){if(m[S-1][0]==this){m.splice(S-1,1)}}}m.push([this,T]);n.data(this,"_jqs_pending",true)}else{T.call(this)}})};n.fn.sparkline.defaults=r();n.sparkline_display_visible=function(){var S,Q,R;var P=[];for(Q=0,R=m.length;Q<R;Q++){S=m[Q][0];if(n(S).is(":visible")&&!n(S).parents().is(":hidden")){m[Q][1].call(S);n.data(m[Q][0],"_jqs_pending",false);P.push(Q)}else{if(!n(S).closest("html").length&&!n.data(S,"_jqs_pending")){n.data(m[Q][0],"_jqs_pending",false);P.push(Q)}}}for(Q=P.length;Q;Q--){m.splice(P[Q-1],1)}};n.fn.sparkline.options=K({init:function(P,U){var T,S,R,Q;this.userOptions=U=U||{};this.tag=P;this.tagValCache={};S=n.fn.sparkline.defaults;R=S.common;this.tagOptionsPrefix=U.enableTagOptions&&(U.tagOptionsPrefix||R.tagOptionsPrefix);Q=this.getTagSetting("type");if(Q===u){T=S[U.type||R.type]}else{T=S[Q]}this.mergedOptions=n.extend({},R,T,U)},getTagSetting:function(R){var T=this.tagOptionsPrefix,U,Q,S,P;if(T===false||T===d){return u}if(this.tagValCache.hasOwnProperty(R)){U=this.tagValCache.key}else{U=this.tag.getAttribute(T+R);if(U===d||U===null){U=u}else{if(U.substr(0,1)==="["){U=U.substr(1,U.length-2).split(",");for(Q=U.length;Q--;){U[Q]=p(U[Q].replace(/(^\s*)|(\s*$)/g,""))}}else{if(U.substr(0,1)==="{"){S=U.substr(1,U.length-2).split(",");U={};for(Q=S.length;Q--;){P=S[Q].split(":",2);U[P[0].replace(/(^\s*)|(\s*$)/g,"")]=p(P[1].replace(/(^\s*)|(\s*$)/g,""))}}else{U=p(U)}}}this.tagValCache.key=U}return U},get:function(S,R){var Q=this.getTagSetting(S),P;if(Q!==u){return Q}return(P=this.mergedOptions[S])===d?R:P}});n.fn.sparkline._base=K({disabled:false,init:function(T,Q,R,S,P){this.el=T;this.$el=n(T);this.values=Q;this.options=R;this.width=S;this.height=P;this.currentRegion=d},initTarget:function(){var P=!this.options.get("disableInteraction");if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),P))){this.disabled=true}else{this.canvasWidth=this.target.pixelWidth;this.canvasHeight=this.target.pixelHeight}},render:function(){if(this.disabled){this.el.innerHTML="";return false}return true},getRegion:function(P,Q){},setRegionHighlight:function(R,P,U){var S=this.currentRegion,Q=!this.options.get("disableHighlight"),T;if(P>this.canvasWidth||U>this.canvasHeight||P<0||U<0){return null}T=this.getRegion(R,P,U);if(S!==T){if(S!==d&&Q){this.removeHighlight()}this.currentRegion=T;if(T!==d&&Q){this.renderHighlight()}return true}return false},clearRegionHighlight:function(){if(this.currentRegion!==d){this.removeHighlight();this.currentRegion=d;return true}return false},renderHighlight:function(){this.changeHighlight(true)},removeHighlight:function(){this.changeHighlight(false)},changeHighlight:function(P){},getCurrentRegionTooltip:function(){var af=this.options,U="",V=[],W,ab,P,Y,ae,T,X,S,Z,R,ad,ac,aa,Q;if(this.currentRegion===d){return""}W=this.getCurrentRegionFields();ad=af.get("tooltipFormatter");if(ad){return ad(this,af,W)}if(af.get("tooltipChartTitle")){U+='<div class="jqs jqstitle">'+af.get("tooltipChartTitle")+"</div>\n"}ab=this.options.get("tooltipFormat");if(!ab){return""}if(!n.isArray(ab)){ab=[ab]}if(!n.isArray(W)){W=[W]}X=this.options.get("tooltipFormatFieldlist");S=this.options.get("tooltipFormatFieldlistKey");if(X&&S){Z=[];for(T=W.length;T--;){R=W[T][S];if((Q=n.inArray(R,X))!=-1){Z[Q]=W[T]}}W=Z}P=ab.length;aa=W.length;for(T=0;T<P;T++){ac=ab[T];if(typeof ac==="string"){ac=new x(ac)}Y=ac.fclass||"jqsfield";for(Q=0;Q<aa;Q++){if(!W[Q].isNull||!af.get("tooltipSkipNull")){n.extend(W[Q],{prefix:af.get("tooltipPrefix"),suffix:af.get("tooltipSuffix")});ae=ac.render(W[Q],af.get("tooltipValueLookups"),af);V.push('<div class="'+Y+'">'+ae+"</div>")}}}if(V.length){return U+V.join("\n")}return""},getCurrentRegionFields:function(){},calcHighlightColor:function(P,Q){var W=Q.get("highlightColor"),S=Q.get("highlightLighten"),V,U,T,R;if(W){return W}if(S){V=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(P)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(P);if(V){T=[];U=P.length===4?16:1;for(R=0;R<3;R++){T[R]=H(c.round(parseInt(V[R+1],16)*U*S),0,255)}return"rgb("+T.join(",")+")"}}return P}});l={changeHighlight:function(R){var T=this.currentRegion,S=this.target,P=this.regionShapes[T],Q;if(P){Q=this.renderRegion(T,R);if(n.isArray(Q)||n.isArray(P)){S.replaceWithShapes(P,Q);this.regionShapes[T]=n.map(Q,function(U){return U.id})}else{S.replaceWithShape(P,Q);this.regionShapes[T]=Q.id}}},render:function(){var Q=this.values,U=this.target,V=this.regionShapes,P,T,S,R;if(!this.cls._super.render.call(this)){return}for(S=Q.length;S--;){P=this.renderRegion(S);if(P){if(n.isArray(P)){T=[];for(R=P.length;R--;){P[R].append();T.push(P[R].id)}V[S]=T}else{P.append();V[S]=P.id}}else{V[S]=null}}U.render()}};n.fn.sparkline.line=t=K(n.fn.sparkline._base,{type:"line",init:function(T,Q,R,S,P){t._super.init.call(this,T,Q,R,S,P);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(R,P,T){var Q,S=this.regionMap;for(Q=S.length;Q--;){if(S[Q]!==null&&P>=S[Q][0]&&P<=S[Q][1]){return S[Q][2]}}return d},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.yvalues[P]===null,x:this.xvalues[P],y:this.yvalues[P],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:P}},renderHighlight:function(){var P=this.currentRegion,W=this.target,T=this.vertices[P],X=this.options,S=X.get("spotRadius"),R=X.get("highlightSpotColor"),U=X.get("highlightLineColor"),Q,V;if(!T){return}if(S&&R){Q=W.drawCircle(T[0],T[1],S,d,R);this.highlightSpotId=Q.id;W.insertAfterShape(this.lastShapeId,Q)}if(U){V=W.drawLine(T[0],this.canvasTop,T[0],this.canvasTop+this.canvasHeight,U);this.highlightLineId=V.id;W.insertAfterShape(this.lastShapeId,V)}},removeHighlight:function(){var P=this.target;if(this.highlightSpotId){P.removeShapeId(this.highlightSpotId);this.highlightSpotId=null}if(this.highlightLineId){P.removeShapeId(this.highlightLineId);this.highlightLineId=null}},scanValues:function(){var X=this.values,R=X.length,P=this.xvalues,V=this.yvalues,Y=this.yminmax,T,S,W,U,Q;for(T=0;T<R;T++){S=X[T];W=typeof(X[T])==="string";U=typeof(X[T])==="object"&&X[T] instanceof Array;Q=W&&X[T].split(":");if(W&&Q.length===2){P.push(Number(Q[0]));V.push(Number(Q[1]));Y.push(Number(Q[1]))}else{if(U){P.push(S[0]);V.push(S[1]);Y.push(S[1])}else{P.push(T);if(X[T]===null||X[T]==="null"){V.push(null)}else{V.push(Number(S));Y.push(Number(S))}}}}if(this.options.get("xvalues")){P=this.options.get("xvalues")}this.maxy=this.maxyorg=c.max.apply(c,Y);this.miny=this.minyorg=c.min.apply(c,Y);this.maxx=c.max.apply(c,P);this.minx=c.min.apply(c,P);this.xvalues=P;this.yvalues=V;this.yminmax=Y},processRangeOptions:function(){var Q=this.options,P=Q.get("normalRangeMin"),R=Q.get("normalRangeMax");if(P!==d){if(P<this.miny){this.miny=P}if(R>this.maxy){this.maxy=R}}if(Q.get("chartRangeMin")!==d&&(Q.get("chartRangeClip")||Q.get("chartRangeMin")<this.miny)){this.miny=Q.get("chartRangeMin")}if(Q.get("chartRangeMax")!==d&&(Q.get("chartRangeClip")||Q.get("chartRangeMax")>this.maxy)){this.maxy=Q.get("chartRangeMax")}if(Q.get("chartRangeMinX")!==d&&(Q.get("chartRangeClipX")||Q.get("chartRangeMinX")<this.minx)){this.minx=Q.get("chartRangeMinX")}if(Q.get("chartRangeMaxX")!==d&&(Q.get("chartRangeClipX")||Q.get("chartRangeMaxX")>this.maxx)){this.maxx=Q.get("chartRangeMaxX")}},drawNormalRange:function(R,V,U,S,W){var P=this.options.get("normalRangeMin"),T=this.options.get("normalRangeMax"),Q=V+c.round(U-(U*((T-this.miny)/W))),X=c.round((U*(T-P))/W);this.target.drawRect(R,Q,S,X,d,this.options.get("normalRangeColor")).append()},render:function(){var V=this.options,au=this.target,aq=this.canvasWidth,S=this.canvasHeight,Y=this.vertices,av=V.get("spotRadius"),af=this.regionMap,R,Q,ak,ao,am,ap,ag,aj,ad,ac,ai,T,ar,ab,ah,at,U,W,ae,P,Z,al,aa,X,an;if(!t._super.render.call(this)){return}this.scanValues();this.processRangeOptions();aa=this.xvalues;X=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}ao=am=0;R=this.maxx-this.minx===0?1:this.maxx-this.minx;Q=this.maxy-this.miny===0?1:this.maxy-this.miny;ak=this.yvalues.length-1;if(av&&(aq<(av*4)||S<(av*4))){av=0}if(av){Z=V.get("highlightSpotColor")&&!V.get("disableInteraction");if(Z||V.get("minSpotColor")||(V.get("spotColor")&&X[ak]===this.miny)){S-=c.ceil(av)}if(Z||V.get("maxSpotColor")||(V.get("spotColor")&&X[ak]===this.maxy)){S-=c.ceil(av);ao+=c.ceil(av)}if(Z||((V.get("minSpotColor")||V.get("maxSpotColor"))&&(X[0]===this.miny||X[0]===this.maxy))){am+=c.ceil(av);aq-=c.ceil(av)}if(Z||V.get("spotColor")||(V.get("minSpotColor")||V.get("maxSpotColor")&&(X[ak]===this.miny||X[ak]===this.maxy))){aq-=c.ceil(av)}}S--;if(V.get("normalRangeMin")!==d&&!V.get("drawNormalOnTop")){this.drawNormalRange(am,ao,S,aq,Q)}ag=[];aj=[ag];ab=ah=null;at=X.length;for(an=0;an<at;an++){ad=aa[an];ai=aa[an+1];ac=X[an];T=am+c.round((ad-this.minx)*(aq/R));ar=an<at-1?am+c.round((ai-this.minx)*(aq/R)):aq;ah=T+((ar-T)/2);af[an]=[ab||0,ah,an];ab=ah;if(ac===null){if(an){if(X[an-1]!==null){ag=[];aj.push(ag)}Y.push(null)}}else{if(ac<this.miny){ac=this.miny}if(ac>this.maxy){ac=this.maxy}if(!ag.length){ag.push([T,ao+S])}ap=[T,ao+c.round(S-(S*((ac-this.miny)/Q)))];ag.push(ap);Y.push(ap)}}U=[];W=[];ae=aj.length;for(an=0;an<ae;an++){ag=aj[an];if(ag.length){if(V.get("fillColor")){ag.push([ag[ag.length-1][0],(ao+S)]);W.push(ag.slice(0));ag.pop()}if(ag.length>2){ag[0]=[ag[0][0],ag[1][1]]}U.push(ag)}}ae=W.length;for(an=0;an<ae;an++){au.drawShape(W[an],V.get("fillColor"),V.get("fillColor")).append()}if(V.get("normalRangeMin")!==d&&V.get("drawNormalOnTop")){this.drawNormalRange(am,ao,S,aq,Q)}ae=U.length;for(an=0;an<ae;an++){au.drawShape(U[an],V.get("lineColor"),d,V.get("lineWidth")).append()}if(av&&V.get("valueSpots")){P=V.get("valueSpots");if(P.get===d){P=new v(P)}for(an=0;an<at;an++){al=P.get(X[an]);if(al){au.drawCircle(am+c.round((aa[an]-this.minx)*(aq/R)),ao+c.round(S-(S*((X[an]-this.miny)/Q))),av,d,al).append()}}}if(av&&V.get("spotColor")&&X[ak]!==null){au.drawCircle(am+c.round((aa[aa.length-1]-this.minx)*(aq/R)),ao+c.round(S-(S*((X[ak]-this.miny)/Q))),av,d,V.get("spotColor")).append()}if(this.maxy!==this.minyorg){if(av&&V.get("minSpotColor")){ad=aa[n.inArray(this.minyorg,X)];au.drawCircle(am+c.round((ad-this.minx)*(aq/R)),ao+c.round(S-(S*((this.minyorg-this.miny)/Q))),av,d,V.get("minSpotColor")).append()}if(av&&V.get("maxSpotColor")){ad=aa[n.inArray(this.maxyorg,X)];au.drawCircle(am+c.round((ad-this.minx)*(aq/R)),ao+c.round(S-(S*((this.maxyorg-this.miny)/Q))),av,d,V.get("maxSpotColor")).append()}}this.lastShapeId=au.getLastShapeId();this.canvasTop=ao;au.render()}});n.fn.sparkline.bar=G=K(n.fn.sparkline._base,l,{type:"bar",init:function(ax,az,ad,P,Q){var af=parseInt(ad.get("barWidth"),10),ah=parseInt(ad.get("barSpacing"),10),V=ad.get("chartRangeMin"),am=ad.get("chartRangeMax"),S=ad.get("chartRangeClip"),aq=Infinity,Z=-Infinity,aA,W,ao,ae,an,aw,ap,U,aj,ab,ay,ac,av,aa,ar,T,au,ak,X,ag,R,at,al;G._super.init.call(this,ax,az,ad,P,Q);for(aw=0,ap=az.length;aw<ap;aw++){ag=az[aw];aA=typeof(ag)==="string"&&ag.indexOf(":")>-1;if(aA||n.isArray(ag)){ar=true;if(aA){ag=az[aw]=L(ag.split(":"))}ag=M(ag,null);W=c.min.apply(c,ag);ao=c.max.apply(c,ag);if(W<aq){aq=W}if(ao>Z){Z=ao}}}this.stacked=ar;this.regionShapes={};this.barWidth=af;this.barSpacing=ah;this.totalBarWidth=af+ah;this.width=P=(az.length*af)+((az.length-1)*ah);this.initTarget();if(S){av=V===d?-Infinity:V;aa=am===d?Infinity:am}an=[];ae=ar?[]:an;var ai=[];var Y=[];for(aw=0,ap=az.length;aw<ap;aw++){if(ar){T=az[aw];az[aw]=X=[];ai[aw]=0;ae[aw]=Y[aw]=0;for(au=0,ak=T.length;au<ak;au++){ag=X[au]=S?H(T[au],av,aa):T[au];if(ag!==null){if(ag>0){ai[aw]+=ag}if(aq<0&&Z>0){if(ag<0){Y[aw]+=c.abs(ag)}else{ae[aw]+=ag}}else{ae[aw]+=c.abs(ag-(ag<0?Z:aq))}an.push(ag)}}}else{ag=S?H(az[aw],av,aa):az[aw];ag=az[aw]=p(ag);if(ag!==null){an.push(ag)}}}this.max=ac=c.max.apply(c,an);this.min=ay=c.min.apply(c,an);this.stackMax=Z=ar?c.max.apply(c,ai):ac;this.stackMin=aq=ar?c.min.apply(c,an):ay;if(ad.get("chartRangeMin")!==d&&(ad.get("chartRangeClip")||ad.get("chartRangeMin")<ay)){ay=ad.get("chartRangeMin")}if(ad.get("chartRangeMax")!==d&&(ad.get("chartRangeClip")||ad.get("chartRangeMax")>ac)){ac=ad.get("chartRangeMax")}this.zeroAxis=aj=ad.get("zeroAxis",true);if(ay<=0&&ac>=0&&aj){ab=0}else{if(aj==false){ab=ay}else{if(ay>0){ab=ay}else{ab=ac}}}this.xaxisOffset=ab;U=ar?(c.max.apply(c,ae)+c.max.apply(c,Y)):ac-ay;this.canvasHeightEf=(aj&&ay<0)?this.canvasHeight-2:this.canvasHeight-1;if(ay<ab){at=(ar&&ac>=0)?Z:ac;R=(at-ab)/U*this.canvasHeight;if(R!==c.ceil(R)){this.canvasHeightEf-=2;R=c.ceil(R)}}else{R=this.canvasHeight}this.yoffset=R;if(n.isArray(ad.get("colorMap"))){this.colorMapByIndex=ad.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=ad.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===d){this.colorMapByValue=new v(this.colorMapByValue)}}this.range=U},getRegion:function(R,Q,S){var P=c.floor(Q/this.totalBarWidth);return(P<0||P>=this.values.length)?d:P},getCurrentRegionFields:function(){var T=this.currentRegion,Q=D(this.values[T]),P=[],S,R;for(R=Q.length;R--;){S=Q[R];P.push({isNull:S===null,value:S,color:this.calcColor(R,S,T),offset:T})}return P},calcColor:function(T,U,V){var W=this.colorMapByIndex,S=this.colorMapByValue,R=this.options,P,Q;if(this.stacked){P=R.get("stackedBarColor")}else{P=(U<0)?R.get("negBarColor"):R.get("barColor")}if(U===0&&R.get("zeroColor")!==d){P=R.get("zeroColor")}if(S&&(Q=S.get(U))){P=Q}else{if(W&&W.length>V){P=W[V]}}return n.isArray(P)?P[T%P.length]:P},renderRegion:function(Z,T){var ab=this.values[Z],R=this.options,P=this.xaxisOffset,X=[],ac=this.range,ai=this.stacked,aj=this.target,W=Z*this.totalBarWidth,Q=this.canvasHeightEf,Y=this.yoffset,V,ad,af,ae,U,ag,S,ak,ah,aa;ab=n.isArray(ab)?ab:[ab];S=ab.length;ak=ab[0];ae=g(null,ab);aa=g(P,ab,true);if(ae){if(R.get("nullColor")){af=T?R.get("nullColor"):this.calcHighlightColor(R.get("nullColor"),R);V=(Y>0)?Y-1:Y;return aj.drawRect(W,V,this.barWidth-1,0,af,af)}else{return d}}U=Y;for(ag=0;ag<S;ag++){ak=ab[ag];if(ai&&ak===P){if(!aa||ah){continue}ah=true}if(ac>0){ad=c.floor(Q*((c.abs(ak-P)/ac)))+1}else{ad=1}if(ak<P||(ak===P&&Y===0)){V=U;U+=ad}else{V=Y-ad;Y-=ad}af=this.calcColor(ag,ak,Z);if(T){af=this.calcHighlightColor(af,R)}X.push(aj.drawRect(W,V,this.barWidth-1,ad-1,af,af))}if(X.length===1){return X[0]}return X}});n.fn.sparkline.tristate=i=K(n.fn.sparkline._base,l,{type:"tristate",init:function(U,Q,R,T,P){var S=parseInt(R.get("barWidth"),10),V=parseInt(R.get("barSpacing"),10);i._super.init.call(this,U,Q,R,T,P);this.regionShapes={};this.barWidth=S;this.barSpacing=V;this.totalBarWidth=S+V;this.values=n.map(Q,Number);this.width=T=(Q.length*S)+((Q.length-1)*V);if(n.isArray(R.get("colorMap"))){this.colorMapByIndex=R.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=R.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===d){this.colorMapByValue=new v(this.colorMapByValue)}}this.initTarget()},getRegion:function(Q,P,R){return c.floor(P/this.totalBarWidth)},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],color:this.calcColor(this.values[P],P),offset:P}},calcColor:function(U,V){var Q=this.values,T=this.options,W=this.colorMapByIndex,S=this.colorMapByValue,P,R;if(S&&(R=S.get(U))){P=R}else{if(W&&W.length>V){P=W[V]}else{if(Q[V]<0){P=T.get("negBarColor")}else{if(Q[V]>0){P=T.get("posBarColor")}else{P=T.get("zeroBarColor")}}}}return P},renderRegion:function(S,P){var X=this.values,Z=this.options,T=this.target,R,Y,U,W,V,Q;R=T.pixelHeight;U=c.round(R/2);W=S*this.totalBarWidth;if(X[S]<0){V=U;Y=U-1}else{if(X[S]>0){V=0;Y=U-1}else{V=U-1;Y=2}}Q=this.calcColor(X[S],S);if(Q===null){return}if(P){Q=this.calcHighlightColor(Q,Z)}return T.drawRect(W,V,this.barWidth-1,Y-1,Q,Q)}});n.fn.sparkline.discrete=e=K(n.fn.sparkline._base,l,{type:"discrete",init:function(T,Q,R,S,P){e._super.init.call(this,T,Q,R,S,P);this.regionShapes={};this.values=Q=n.map(Q,Number);this.min=c.min.apply(c,Q);this.max=c.max.apply(c,Q);this.range=this.max-this.min;this.width=S=R.get("width")==="auto"?Q.length*2:this.width;this.interval=c.floor(S/Q.length);this.itemWidth=S/Q.length;if(R.get("chartRangeMin")!==d&&(R.get("chartRangeClip")||R.get("chartRangeMin")<this.min)){this.min=R.get("chartRangeMin")}if(R.get("chartRangeMax")!==d&&(R.get("chartRangeClip")||R.get("chartRangeMax")>this.max)){this.max=R.get("chartRangeMax")}this.initTarget();if(this.target){this.lineHeight=R.get("lineHeight")==="auto"?c.round(this.canvasHeight*0.3):R.get("lineHeight")}},getRegion:function(Q,P,R){return c.floor(P/this.itemWidth)},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],offset:P}},renderRegion:function(X,S){var ad=this.values,ae=this.options,U=this.min,aa=this.max,W=this.range,Q=this.interval,Z=this.target,V=this.canvasHeight,ac=this.lineHeight,Y=V-ac,P,R,T,ab;R=H(ad[X],U,aa);ab=X*Q;P=c.round(Y-Y*((R-U)/W));T=(ae.get("thresholdColor")&&R<ae.get("thresholdValue"))?ae.get("thresholdColor"):ae.get("lineColor");if(S){T=this.calcHighlightColor(T,ae)}return Z.drawLine(ab,P,ab,P+ac,T)}});n.fn.sparkline.bullet=I=K(n.fn.sparkline._base,{type:"bullet",init:function(V,R,S,U,Q){var T,P,W;I._super.init.call(this,V,R,S,U,Q);this.values=R=L(R);W=R.slice();W[0]=W[0]===null?W[2]:W[0];W[1]=R[1]===null?W[2]:W[1];T=c.min.apply(c,R);P=c.max.apply(c,R);if(S.get("base")===d){T=T<0?T:0}else{T=S.get("base")}this.min=T;this.max=P;this.range=P-T;this.shapes={};this.valueShapes={};this.regiondata={};this.width=U=S.get("width")==="auto"?"4.0em":U;this.target=this.$el.simpledraw(U,Q,S.get("composite"));if(!R.length){this.disabled=true}this.initTarget()},getRegion:function(Q,P,S){var R=this.target.getShapeAt(Q,P,S);return(R!==d&&this.shapes[R]!==d)?this.shapes[R]:d},getCurrentRegionFields:function(){var P=this.currentRegion;return{fieldkey:P.substr(0,1),value:this.values[P.substr(1)],region:P}},changeHighlight:function(Q){var S=this.currentRegion,R=this.valueShapes[S],P;delete this.shapes[R];switch(S.substr(0,1)){case"r":P=this.renderRange(S.substr(1),Q);break;case"p":P=this.renderPerformance(Q);break;case"t":P=this.renderTarget(Q);break}this.valueShapes[S]=P.id;this.shapes[P.id]=S;this.target.replaceWithShape(R,P)},renderRange:function(S,Q){var T=this.values[S],R=c.round(this.canvasWidth*((T-this.min)/this.range)),P=this.options.get("rangeColors")[S-2];if(Q){P=this.calcHighlightColor(P,this.options)}return this.target.drawRect(0,0,R-1,this.canvasHeight-1,P,P)},renderPerformance:function(Q){var S=this.values[1],R=c.round(this.canvasWidth*((S-this.min)/this.range)),P=this.options.get("performanceColor");if(Q){P=this.calcHighlightColor(P,this.options)}return this.target.drawRect(0,c.round(this.canvasHeight*0.3),R-1,c.round(this.canvasHeight*0.4)-1,P,P)},renderTarget:function(R){var U=this.values[0],P=c.round(this.canvasWidth*((U-this.min)/this.range)-(this.options.get("targetWidth")/2)),T=c.round(this.canvasHeight*0.1),S=this.canvasHeight-(T*2),Q=this.options.get("targetColor");if(R){Q=this.calcHighlightColor(Q,this.options)}return this.target.drawRect(P,T,this.options.get("targetWidth")-1,S-1,Q,Q)},render:function(){var S=this.values.length,R=this.target,Q,P;if(!I._super.render.call(this)){return}for(Q=2;Q<S;Q++){P=this.renderRange(Q).append();this.shapes[P.id]="r"+Q;this.valueShapes["r"+Q]=P.id}if(this.values[1]!==null){P=this.renderPerformance().append();this.shapes[P.id]="p1";this.valueShapes.p1=P.id}if(this.values[0]!==null){P=this.renderTarget().append();this.shapes[P.id]="t0";this.valueShapes.t0=P.id}R.render()}});n.fn.sparkline.pie=z=K(n.fn.sparkline._base,{type:"pie",init:function(U,Q,R,T,P){var V=0,S;z._super.init.call(this,U,Q,R,T,P);this.shapes={};this.valueShapes={};this.values=Q=n.map(Q,Number);if(R.get("width")==="auto"){this.width=this.height}if(Q.length>0){for(S=Q.length;S--;){V+=Q[S]}}this.total=V;this.initTarget();this.radius=c.floor(c.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(Q,P,S){var R=this.target.getShapeAt(Q,P,S);return(R!==d&&this.shapes[R]!==d)?this.shapes[R]:d},getCurrentRegionFields:function(){var P=this.currentRegion;return{isNull:this.values[P]===d,value:this.values[P],percent:this.values[P]/this.total*100,color:this.options.get("sliceColors")[P%this.options.get("sliceColors").length],offset:P}},changeHighlight:function(P){var S=this.currentRegion,Q=this.renderSlice(S,P),R=this.valueShapes[S];delete this.shapes[R];this.target.replaceWithShape(R,Q);this.valueShapes[S]=Q.id;this.shapes[Q.id]=S},renderSlice:function(Y,S){var aa=this.target,ae=this.options,Z=this.radius,P=ae.get("borderWidth"),V=ae.get("offset"),Q=2*c.PI,ad=this.values,ab=this.total,X=V?(2*c.PI)*(V/360):0,R,U,W,ac,T;ac=ad.length;for(W=0;W<ac;W++){R=X;U=X;if(ab>0){U=X+(Q*(ad[W]/ab))}if(Y===W){T=ae.get("sliceColors")[W%ae.get("sliceColors").length];if(S){T=this.calcHighlightColor(T,ae)}return aa.drawPieSlice(Z,Z,Z-P,R,U,d,T)}X=U}},render:function(){var V=this.target,S=this.values,T=this.options,P=this.radius,R=T.get("borderWidth"),Q,U;if(!z._super.render.call(this)){return}if(R){V.drawCircle(P,P,c.floor(P-(R/2)),T.get("borderColor"),d,R).append()}for(U=S.length;U--;){if(S[U]){Q=this.renderSlice(U).append();this.valueShapes[U]=Q.id;this.shapes[Q.id]=U}}V.render()}});n.fn.sparkline.box=s=K(n.fn.sparkline._base,{type:"box",init:function(T,Q,R,S,P){s._super.init.call(this,T,Q,R,S,P);this.values=n.map(Q,Number);this.width=R.get("width")==="auto"?"4.0em":S;this.initTarget();if(!this.values.length){this.disabled=1}},getRegion:function(){return 1},getCurrentRegionFields:function(){var P=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];if(this.loutlier!==d){P.push({field:"lo",value:this.loutlier})}if(this.routlier!==d){P.push({field:"ro",value:this.routlier})}if(this.lwhisker!==d){P.push({field:"lw",value:this.lwhisker})}if(this.rwhisker!==d){P.push({field:"rw",value:this.rwhisker})}return P},render:function(){var ai=this.target,S=this.values,W=S.length,U=this.options,ah=this.canvasWidth,Q=this.canvasHeight,ab=U.get("chartRangeMin")===d?c.min.apply(c,S):U.get("chartRangeMin"),ag=U.get("chartRangeMax")===d?c.max.apply(c,S):U.get("chartRangeMax"),ad=0,aa,af,T,Z,Y,X,P,V,ae,ac,R;if(!s._super.render.call(this)){return}if(U.get("raw")){if(U.get("showOutliers")&&S.length>5){af=S[0];aa=S[1];Z=S[2];Y=S[3];X=S[4];P=S[5];V=S[6]}else{aa=S[0];Z=S[1];Y=S[2];X=S[3];P=S[4]}}else{S.sort(function(ak,aj){return ak-aj});Z=y(S,1);Y=y(S,2);X=y(S,3);T=X-Z;if(U.get("showOutliers")){aa=P=d;for(ae=0;ae<W;ae++){if(aa===d&&S[ae]>Z-(T*U.get("outlierIQR"))){aa=S[ae]}if(S[ae]<X+(T*U.get("outlierIQR"))){P=S[ae]}}af=S[0];V=S[W-1]}else{aa=S[0];P=S[W-1]}}this.quartiles=[Z,Y,X];this.lwhisker=aa;this.rwhisker=P;this.loutlier=af;this.routlier=V;R=ah/(ag-ab+1);if(U.get("showOutliers")){ad=c.ceil(U.get("spotRadius"));ah-=2*c.ceil(U.get("spotRadius"));R=ah/(ag-ab+1);if(af<aa){ai.drawCircle((af-ab)*R+ad,Q/2,U.get("spotRadius"),U.get("outlierLineColor"),U.get("outlierFillColor")).append()}if(V>P){ai.drawCircle((V-ab)*R+ad,Q/2,U.get("spotRadius"),U.get("outlierLineColor"),U.get("outlierFillColor")).append()}}ai.drawRect(c.round((Z-ab)*R+ad),c.round(Q*0.1),c.round((X-Z)*R),c.round(Q*0.8),U.get("boxLineColor"),U.get("boxFillColor")).append();ai.drawLine(c.round((aa-ab)*R+ad),c.round(Q/2),c.round((Z-ab)*R+ad),c.round(Q/2),U.get("lineColor")).append();ai.drawLine(c.round((aa-ab)*R+ad),c.round(Q/4),c.round((aa-ab)*R+ad),c.round(Q-Q/4),U.get("whiskerColor")).append();ai.drawLine(c.round((P-ab)*R+ad),c.round(Q/2),c.round((X-ab)*R+ad),c.round(Q/2),U.get("lineColor")).append();ai.drawLine(c.round((P-ab)*R+ad),c.round(Q/4),c.round((P-ab)*R+ad),c.round(Q-Q/4),U.get("whiskerColor")).append();ai.drawLine(c.round((Y-ab)*R+ad),c.round(Q*0.1),c.round((Y-ab)*R+ad),c.round(Q*0.9),U.get("medianColor")).append();if(U.get("target")){ac=c.ceil(U.get("spotRadius"));ai.drawLine(c.round((U.get("target")-ab)*R+ad),c.round((Q/2)-ac),c.round((U.get("target")-ab)*R+ad),c.round((Q/2)+ac),U.get("targetColor")).append();ai.drawLine(c.round((U.get("target")-ab)*R+ad-ac),c.round(Q/2),c.round((U.get("target")-ab)*R+ad+ac),c.round(Q/2),U.get("targetColor")).append()}ai.render()}});C=K({init:function(R,S,Q,P){this.target=R;this.id=S;this.type=Q;this.args=P},append:function(){this.target.appendShape(this);return this}});o=K({_pxregex:/(\d+)(px)?\s*$/i,init:function(Q,P,R){if(!Q){return}this.width=Q;this.height=P;this.target=R;this.lastShapeId=null;if(R[0]){R=R[0]}n.data(R,"_jqs_vcanvas",this)},drawLine:function(R,T,Q,S,U,P){return this.drawShape([[R,T],[Q,S]],U,P)},drawShape:function(R,Q,S,P){return this._genShape("Shape",[R,Q,S,P])},drawCircle:function(R,U,Q,S,T,P){return this._genShape("Circle",[R,U,Q,S,T,P])},drawPieSlice:function(Q,V,P,S,R,T,U){return this._genShape("PieSlice",[Q,V,P,S,R,T,U])},drawRect:function(Q,U,R,P,S,T){return this._genShape("Rect",[Q,U,R,P,S,T])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(P,Q){n(Q).html(P)},_calculatePixelDims:function(S,P,R){var Q;Q=this._pxregex.exec(P);if(Q){this.pixelHeight=Q[1]}else{this.pixelHeight=n(R).height()}Q=this._pxregex.exec(S);if(Q){this.pixelWidth=Q[1]}else{this.pixelWidth=n(R).width()}},_genShape:function(Q,P){var R=j++;P.unshift(R);return new C(this,R,Q,P)},appendShape:function(P){alert("appendShape not implemented")},replaceWithShape:function(Q,P){alert("replaceWithShape not implemented")},insertAfterShape:function(Q,P){alert("insertAfterShape not implemented")},removeShapeId:function(P){alert("removeShapeId not implemented")},getShapeAt:function(Q,P,R){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});E=K(o,{init:function(R,P,S,Q){E._super.init.call(this,R,P,S);this.canvas=b.createElement("canvas");if(S[0]){S=S[0]}n.data(S,"_jqs_vcanvas",this);n(this.canvas).css({display:"inline-block",width:R,height:P,verticalAlign:"top"});this._insert(this.canvas,S);this._calculatePixelDims(R,P,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=Q;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=d;n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(R,S,P){var Q=this.canvas.getContext("2d");if(R!==d){Q.strokeStyle=R}Q.lineWidth=P===d?1:P;if(S!==d){Q.fillStyle=S}return Q},reset:function(){var P=this._getContext();P.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=d},_drawShape:function(V,U,T,W,P){var R=this._getContext(T,W,P),Q,S;R.beginPath();R.moveTo(U[0][0]+0.5,U[0][1]+0.5);for(Q=1,S=U.length;Q<S;Q++){R.lineTo(U[Q][0]+0.5,U[Q][1]+0.5)}if(T!==d){R.stroke()}if(W!==d){R.fill()}if(this.targetX!==d&&this.targetY!==d&&R.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=V}},_drawCircle:function(U,R,W,Q,T,V,P){var S=this._getContext(T,V,P);S.beginPath();S.arc(R,W,Q,0,2*c.PI,false);if(this.targetX!==d&&this.targetY!==d&&S.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=U}if(T!==d){S.stroke()}if(V!==d){S.fill()}},_drawPieSlice:function(T,X,V,S,U,R,W,Q){var P=this._getContext(W,Q);P.beginPath();P.moveTo(X,V);P.arc(X,V,S,U,R,false);P.lineTo(X,V);P.closePath();if(W!==d){P.stroke()}if(Q){P.fill()}if(this.targetX!==d&&this.targetY!==d&&P.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=T}},_drawRect:function(T,Q,V,R,P,S,U){return this._drawShape(T,[[Q,V],[Q+R,V],[Q+R,V+P],[Q,V+P],[Q,V]],S,U)},appendShape:function(P){this.shapes[P.id]=P;this.shapeseq.push(P.id);this.lastShapeId=P.id;return P.id},replaceWithShape:function(R,P){var S=this.shapeseq,Q;this.shapes[P.id]=P;for(Q=S.length;Q--;){if(S[Q]==R){S[Q]=P.id}}delete this.shapes[R]},replaceWithShapes:function(R,Q){var V=this.shapeseq,T={},P,S,U;for(S=R.length;S--;){T[R[S]]=true}for(S=V.length;S--;){P=V[S];if(T[P]){V.splice(S,1);delete this.shapes[P];U=S}}for(S=Q.length;S--;){V.splice(U,0,Q[S].id);this.shapes[Q[S].id]=Q[S]}},insertAfterShape:function(R,P){var S=this.shapeseq,Q;for(Q=S.length;Q--;){if(S[Q]===R){S.splice(Q+1,0,P.id);this.shapes[P.id]=P;return}}},removeShapeId:function(Q){var R=this.shapeseq,P;for(P=R.length;P--;){if(R[P]===Q){R.splice(P,1);break}}delete this.shapes[Q]},getShapeAt:function(Q,P,R){this.targetX=P;this.targetY=R;this.render();return this.currentTargetShapeId},render:function(){var V=this.shapeseq,P=this.shapes,T=V.length,S=this._getContext(),U,Q,R;S.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(R=0;R<T;R++){U=V[R];Q=P[U];this["_draw"+Q.type].apply(this,Q.args)}if(!this.interact){this.shapes={};this.shapeseq=[]}}});B=K(o,{init:function(Q,P,S){var R;B._super.init.call(this,Q,P,S);if(S[0]){S=S[0]}n.data(S,"_jqs_vcanvas",this);this.canvas=b.createElement("span");n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:Q,height:P,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,S);this._calculatePixelDims(Q,P,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;R='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",R);this.group=n(this.canvas).children()[0];this.rendered=false;this.prerender=""},_drawShape:function(U,ab,W,P,S){var X=[],V,aa,Z,T,Y,Q,R;for(R=0,Q=ab.length;R<Q;R++){X[R]=""+(ab[R][0])+","+(ab[R][1])}V=X.splice(0,1);S=S===d?1:S;aa=W===d?' stroked="false" ':' strokeWeight="'+S+'px" strokeColor="'+W+'" ';Z=P===d?' filled="false"':' fillColor="'+P+'" filled="true" ';T=X[0]===X[X.length-1]?"x ":"";Y='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+U+'" '+aa+Z+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+V+" l "+X.join(", ")+" "+T+'e"> </v:shape>';return Y},_drawCircle:function(S,V,T,R,U,P,Q){var Y,X,W;V-=R;T-=R;Y=U===d?' stroked="false" ':' strokeWeight="'+Q+'px" strokeColor="'+U+'" ';X=P===d?' filled="false"':' fillColor="'+P+'" filled="true" ';W='<v:oval  id="jqsshape'+S+'" '+Y+X+' style="position:absolute;top:'+T+"px; left:"+V+"px; width:"+(R*2)+"px; height:"+(R*2)+'px"></v:oval>';return W},_drawPieSlice:function(W,ab,Z,V,X,S,aa,R){var Y,Q,P,U,T,ae,ad,ac;if(X===S){return""}if((S-X)===(2*c.PI)){X=0;S=(2*c.PI)}Q=ab+c.round(c.cos(X)*V);P=Z+c.round(c.sin(X)*V);U=ab+c.round(c.cos(S)*V);T=Z+c.round(c.sin(S)*V);if(Q===U&&P===T){if((S-X)<c.PI){return""}Q=U=ab+V;P=T=Z}if(Q===U&&P===T&&(S-X)<c.PI){return""}Y=[ab-V,Z-V,ab+V,Z+V,Q,P,U,T];ae=aa===d?' stroked="false" ':' strokeWeight="1px" strokeColor="'+aa+'" ';ad=R===d?' filled="false"':' fillColor="'+R+'" filled="true" ';ac='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+W+'" '+ae+ad+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+ab+","+Z+" wa "+Y.join(", ")+' x e"> </v:shape>';return ac},_drawRect:function(T,Q,V,R,P,S,U){return this._drawShape(T,[[Q,V],[Q,V+P],[Q+R,V+P],[Q+R,V],[Q,V]],S,U)},reset:function(){this.group.innerHTML=""},appendShape:function(P){var Q=this["_draw"+P.type].apply(this,P.args);if(this.rendered){this.group.insertAdjacentHTML("beforeEnd",Q)}else{this.prerender+=Q}this.lastShapeId=P.id;return P.id},replaceWithShape:function(S,P){var R=n("#jqsshape"+S),Q=this["_draw"+P.type].apply(this,P.args);R[0].outerHTML=Q},replaceWithShapes:function(Q,P){var T=n("#jqsshape"+Q[0]),S="",U=P.length,R;for(R=0;R<U;R++){S+=this["_draw"+P[R].type].apply(this,P[R].args)}T[0].outerHTML=S;for(R=1;R<Q.length;R++){n("#jqsshape"+Q[R]).remove()}},insertAfterShape:function(S,P){var R=n("#jqsshape"+S),Q=this["_draw"+P.type].apply(this,P.args);R[0].insertAdjacentHTML("afterEnd",Q)},removeShapeId:function(Q){var P=n("#jqsshape"+Q);this.group.removeChild(P[0])},getShapeAt:function(Q,P,S){var R=Q.id.substr(8);return R},render:function(){if(!this.rendered){this.group.innerHTML=this.prerender;this.rendered=true}}})}))}(document,Math));(function(c,b,d){(function(e){if(typeof define==="function"&&define.amd){define("datatables",["jquery"],e)}else{if(typeof exports==="object"){e(require("jquery"))}else{if(jQuery&&!jQuery.fn.dataTable){e(jQuery)}}}}(function(bz){var M;var H;var I;var bg;var az;var a3={};var V=/[\r\n]/g;var aS=/<.*?>/g;var ak=/^[\d\+\-a-zA-Z]/;var aB=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var bA=/[',$£€¥%\u2009\u202F]/g;var bv=function(bL){return !bL||bL==="-"?true:false};var E=function(bM){var bL=parseInt(bM,10);return !isNaN(bL)&&isFinite(bM)?bL:null};var bx=function(bM,bL){if(!a3[bL]){a3[bL]=new RegExp(o(bL),"g")}return typeof bM==="string"?bM.replace(/\./g,"").replace(a3[bL],"."):bM};var ah=function(bO,bL,bN){var bM=typeof bO==="string";if(bL&&bM){bO=bx(bO,bL)}if(bN&&bM){bO=bO.replace(bA,"")}return !bO||bO==="-"||(!isNaN(parseFloat(bO))&&isFinite(bO))};var bG=function(bL){return !bL||typeof bL==="string"};var l=function(bO,bL,bN){if(bv(bO)){return true}var bM=bG(bO);return !bM?null:ah(C(bO),bL,bN)?true:null};var ar=function(bM,bQ,bP){var bN=[];var bO=0,bL=bM.length;if(bP!==d){for(;bO<bL;bO++){if(bM[bO]&&bM[bO][bQ]){bN.push(bM[bO][bQ][bP])}}}else{for(;bO<bL;bO++){if(bM[bO]){bN.push(bM[bO][bQ])}}}return bN};var t=function(bN,bL,bR,bQ){var bO=[];var bP=0,bM=bL.length;if(bQ!==d){for(;bP<bM;bP++){bO.push(bN[bL[bP]][bR][bQ])}}else{for(;bP<bM;bP++){bO.push(bN[bL[bP]][bR])}}return bO};var bc=function(bL,bP){var bN=[];var bM;if(bP===d){bP=0;bM=bL}else{bM=bP;bP=bL}for(var bO=bP;bO<bM;bO++){bN.push(bO)}return bN};var C=function(bL){return bL.replace(aS,"")};var aE=function(bR){var bO=[],bQ,bP,bL=bR.length,bN,bM=0;again:for(bP=0;bP<bL;bP++){bQ=bR[bP];for(bN=0;bN<bM;bN++){if(bO[bN]===bQ){continue again}}bO.push(bQ);bM++}return bO};function S(bP){var bO="a aa ai ao as b fn i m o s ",bL,bN,bM={};bz.each(bP,function(bQ,bR){bL=bQ.match(/^([^A-Z]+?)([A-Z])/);if(bL&&bO.indexOf(bL[1]+" ")!==-1){bN=bQ.replace(bL[0],bL[2].toLowerCase());bM[bN]=bQ;if(bL[1]==="o"){S(bP[bQ])}}});bP._hungarianMap=bM}function Z(bO,bL,bN){if(!bO._hungarianMap){S(bO)}var bM;bz.each(bL,function(bP,bQ){bM=bO._hungarianMap[bP];if(bM!==d&&(bN||bL[bM]===d)){if(bM.charAt(0)==="o"){if(!bL[bM]){bL[bM]={}}bz.extend(true,bL[bM],bL[bP]);Z(bO[bM],bL[bM],bN)}else{bL[bM]=bL[bP]}}})}function aQ(bO){var bN=M.defaults.oLanguage;var bM=bO.sZeroRecords;if(!bO.sEmptyTable&&bM&&bN.sEmptyTable==="No data available in table"){Q(bO,bO,"sZeroRecords","sEmptyTable")}if(!bO.sLoadingRecords&&bM&&bN.sLoadingRecords==="Loading..."){Q(bO,bO,"sZeroRecords","sLoadingRecords")}if(bO.sInfoThousands){bO.sThousands=bO.sInfoThousands}var bL=bO.sDecimal;if(bL){bn(bL)}}var aK=function(bN,bM,bL){if(bN[bM]!==d){bN[bL]=bN[bM]}};function a0(bL){aK(bL,"ordering","bSort");aK(bL,"orderMulti","bSortMulti");aK(bL,"orderClasses","bSortClasses");aK(bL,"orderCellsTop","bSortCellsTop");aK(bL,"order","aaSorting");aK(bL,"orderFixed","aaSortingFixed");aK(bL,"paging","bPaginate");aK(bL,"pagingType","sPaginationType");aK(bL,"pageLength","iDisplayLength");aK(bL,"searching","bFilter")}function W(bL){aK(bL,"orderable","bSortable");aK(bL,"orderData","aDataSort");aK(bL,"orderSequence","asSorting");aK(bL,"orderDataType","sortDataType")}function ba(bM){var bL=bM.oBrowser;var bO=bz("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(bz("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(bz('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body");var bN=bO.find(".test");bL.bScrollOversize=bN[0].offsetWidth===100;bL.bScrollbarLeft=bN.offset().left!==1;bO.remove()}function aT(bP,bR,bT,bL,bN,bM){var bO=bL,bS,bQ=false;if(bT!==d){bS=bT;bQ=true}while(bO!==bN){if(!bP.hasOwnProperty(bO)){continue}bS=bQ?bR(bS,bP[bO],bO,bP):bP[bO];bQ=true;bO+=bM}return bS}function N(bP,bO){var bQ=M.defaults.column;var bL=bP.aoColumns.length;var bN=bz.extend({},M.models.oColumn,bQ,{nTh:bO?bO:b.createElement("th"),sTitle:bQ.sTitle?bQ.sTitle:bO?bO.innerHTML:"",aDataSort:bQ.aDataSort?bQ.aDataSort:[bL],mData:bQ.mData?bQ.mData:bL,idx:bL});bP.aoColumns.push(bN);var bM=bP.aoPreSearchCols;bM[bL]=bz.extend({},M.models.oSearch,bM[bL]);aY(bP,bL,null)}function aY(bN,bW,bV){var bR=bN.aoColumns[bW];var bL=bN.oClasses;var bM=bz(bR.nTh);if(!bR.sWidthOrig){bR.sWidthOrig=bM.attr("width")||null;var bX=(bM.attr("style")||"").match(/width:\s*(\d+[pxem%])/);if(bX){bR.sWidthOrig=bX[1]}}if(bV!==d&&bV!==null){W(bV);Z(M.defaults.column,bV);if(bV.mDataProp!==d&&!bV.mData){bV.mData=bV.mDataProp}if(bV.sType){bR._sManualType=bV.sType}if(bV.className&&!bV.sClass){bV.sClass=bV.className}bz.extend(bR,bV);Q(bR,bV,"sWidth","sWidthOrig");if(typeof bV.iDataSort==="number"){bR.aDataSort=[bV.iDataSort]}Q(bR,bV,"aDataSort")}var bU=bR.mData;var bQ=am(bU);var bT=bR.mRender?am(bR.mRender):null;var bP=function(bY){return typeof bY==="string"&&bY.indexOf("@")!==-1};bR._bAttrSrc=bz.isPlainObject(bU)&&(bP(bU.sort)||bP(bU.type)||bP(bU.filter));bR.fnGetData=function(b0,bY){var bZ=bQ(b0,bY);if(bR.mRender&&(bY&&bY!=="")){return bT(bZ,bY,b0)}return bZ};bR.fnSetData=av(bU);if(!bN.oFeatures.bSort){bR.bSortable=false;bM.addClass(bL.sSortableNone)}var bO=bz.inArray("asc",bR.asSorting)!==-1;var bS=bz.inArray("desc",bR.asSorting)!==-1;if(!bR.bSortable||(!bO&&!bS)){bR.sSortingClass=bL.sSortableNone;bR.sSortingClassJUI=""}else{if(bO&&!bS){bR.sSortingClass=bL.sSortableAsc;bR.sSortingClassJUI=bL.sSortJUIAscAllowed}else{if(!bO&&bS){bR.sSortingClass=bL.sSortableDesc;bR.sSortingClassJUI=bL.sSortJUIDescAllowed}else{bR.sSortingClass=bL.sSortable;bR.sSortingClassJUI=bL.sSortJUI}}}}function aH(bP){if(bP.oFeatures.bAutoWidth!==false){var bO=bP.aoColumns;br(bP);for(var bN=0,bM=bO.length;bN<bM;bN++){bO[bN].nTh.style.width=bO[bN].sWidth}}var bL=bP.oScroll;if(bL.sY!==""||bL.sX!==""){n(bP)}K(bP,null,"column-sizing",[bP])}function s(bN,bL){var bM=q(bN,"bVisible");return typeof bM[bL]==="number"?bM[bL]:null}function bC(bN,bL){var bM=q(bN,"bVisible");var bO=bz.inArray(bL,bM);return bO!==-1?bO:null}function aO(bL){return q(bL,"bVisible").length}function q(bN,bM){var bL=[];bz.map(bN.aoColumns,function(bP,bO){if(bP[bM]){bL.push(bO)}});return bL}function v(bO){var bP=bO.aoColumns;var bT=bO.aoData;var bV=M.ext.type.detect;var bU,bY,bS,bM,bR,bQ;var bN,bW,bX,bL;for(bU=0,bY=bP.length;bU<bY;bU++){bN=bP[bU];bL=[];if(!bN.sType&&bN._sManualType){bN.sType=bN._sManualType}else{if(!bN.sType){for(bS=0,bM=bV.length;bS<bM;bS++){for(bR=0,bQ=bT.length;bR<bQ;bR++){if(bL[bR]===d){bL[bR]=bq(bO,bR,bU,"type")}bX=bV[bS](bL[bR],bO);if(!bX||bX==="html"){break}}if(bX){bN.sType=bX;break}}if(!bN.sType){bN.sType="string"}}}}}function m(bM,bW,bN,bV){var bS,bO,bR,bX,bQ,bU,bL;var bP=bM.aoColumns;if(bW){for(bS=bW.length-1;bS>=0;bS--){bL=bW[bS];var bT=bL.targets!==d?bL.targets:bL.aTargets;if(!bz.isArray(bT)){bT=[bT]}for(bR=0,bX=bT.length;bR<bX;bR++){if(typeof bT[bR]==="number"&&bT[bR]>=0){while(bP.length<=bT[bR]){N(bM)}bV(bT[bR],bL)}else{if(typeof bT[bR]==="number"&&bT[bR]<0){bV(bP.length+bT[bR],bL)}else{if(typeof bT[bR]==="string"){for(bQ=0,bU=bP.length;bQ<bU;bQ++){if(bT[bR]=="_all"||bz(bP[bQ].nTh).hasClass(bT[bR])){bV(bQ,bL)}}}}}}}}if(bN){for(bS=0,bO=bN.length;bS<bO;bS++){bV(bS,bN[bS])}}}function aM(bM,bV,bU,bR){var bT=bM.aoData.length;var bL=bz.extend(true,{},M.models.oRow,{src:bU?"dom":"data"});bL._aData=bV;bM.aoData.push(bL);var bQ,bO;var bP=bM.aoColumns;for(var bS=0,bN=bP.length;bS<bN;bS++){if(bU){bi(bM,bT,bS,bq(bM,bT,bS))}bP[bS].sType=null}bM.aiDisplayMaster.push(bT);if(!bM.oFeatures.bDeferRender){O(bM,bT,bU,bR)}return bT}function bK(bM,bL){var bN;if(!(bL instanceof bz)){bL=bz(bL)}return bL.map(function(bO,bP){bN=bb(bM,bP);return aM(bM,bN.data,bP,bN.cells)})}function bo(bL,bM){return(bM._DT_RowIndex!==d)?bM._DT_RowIndex:null}function aW(bL,bM,bN){return bz.inArray(bN,bL.aoData[bM].anCells)}function bq(bP,bQ,bN,bM){var bO=bP.aoColumns[bN];var bR=bP.aoData[bQ]._aData;var bL=bO.fnGetData(bR,bM);if(bL===d){if(bP.iDrawError!=bP.iDraw&&bO.sDefaultContent===null){aL(bP,0,"Requested unknown parameter "+(typeof bO.mData=="function"?"{function}":"'"+bO.mData+"'")+" for row "+bQ,4);bP.iDrawError=bP.iDraw}return bO.sDefaultContent}if((bL===bR||bL===null)&&bO.sDefaultContent!==null){bL=bO.sDefaultContent}else{if(typeof bL==="function"){return bL()}}if(bL===null&&bM=="display"){return""}return bL}function bi(bN,bP,bL,bO){var bM=bN.aoColumns[bL];var bQ=bN.aoData[bP]._aData;bM.fnSetData(bQ,bO)}var J=/\[.*?\]$/;var g=/\(\)$/;function ai(bL){return bz.map(bL.match(/(\\.|[^\.])+/g),function(bM){return bM.replace("\\.",".")})}function am(bM){if(bz.isPlainObject(bM)){var bN={};bz.each(bM,function(bO,bP){if(bP){bN[bO]=am(bP)}});return function(bR,bQ,bO){var bP=bN[bQ]||bN._;return bP!==d?bP(bR,bQ,bO):bR}}else{if(bM===null){return function(bP,bO){return bP}}else{if(typeof bM==="function"){return function(bQ,bP,bO){return bM(bQ,bP,bO)}}else{if(typeof bM==="string"&&(bM.indexOf(".")!==-1||bM.indexOf("[")!==-1||bM.indexOf("(")!==-1)){var bL=function(bW,bX,bO){var bZ,bS,bU,bR;if(bO!==""){var bY=ai(bO);for(var bV=0,bQ=bY.length;bV<bQ;bV++){bZ=bY[bV].match(J);bS=bY[bV].match(g);if(bZ){bY[bV]=bY[bV].replace(J,"");if(bY[bV]!==""){bW=bW[bY[bV]]}bU=[];bY.splice(0,bV+1);bR=bY.join(".");for(var bT=0,b0=bW.length;bT<b0;bT++){bU.push(bL(bW[bT],bX,bR))}var bP=bZ[0].substring(1,bZ[0].length-1);bW=(bP==="")?bU:bU.join(bP);break}else{if(bS){bY[bV]=bY[bV].replace(g,"");bW=bW[bY[bV]]();continue}}if(bW===null||bW[bY[bV]]===d){return d}bW=bW[bY[bV]]}}return bW};return function(bP,bO){return bL(bP,bO,bM)}}else{return function(bP,bO){return bP[bM]}}}}}}function av(bM){if(bz.isPlainObject(bM)){return av(bM._)}else{if(bM===null){return function(bN,bO){}}else{if(typeof bM==="function"){return function(bN,bO){bM(bN,"set",bO)}}else{if(typeof bM==="string"&&(bM.indexOf(".")!==-1||bM.indexOf("[")!==-1||bM.indexOf("(")!==-1)){var bL=function(bV,bR,bN){var bY=ai(bN),bW;var bX=bY[bY.length-1];var bZ,bS,bO,bQ;for(var bU=0,bP=bY.length-1;bU<bP;bU++){bZ=bY[bU].match(J);bS=bY[bU].match(g);if(bZ){bY[bU]=bY[bU].replace(J,"");bV[bY[bU]]=[];bW=bY.slice();bW.splice(0,bU+1);bQ=bW.join(".");for(var bT=0,b0=bR.length;bT<b0;bT++){bO={};bL(bO,bR[bT],bQ);bV[bY[bU]].push(bO)}return}else{if(bS){bY[bU]=bY[bU].replace(g,"");bV=bV[bY[bU]](bR)}}if(bV[bY[bU]]===null||bV[bY[bU]]===d){bV[bY[bU]]={}}bV=bV[bY[bU]]}if(bX.match(g)){bV=bV[bX.replace(g,"")](bR)}else{bV[bX.replace(J,"")]=bR}};return function(bN,bO){return bL(bN,bO,bM)}}else{return function(bN,bO){bN[bM]=bO}}}}}}function bB(bL){return ar(bL.aoData,"_aData")}function be(bL){bL.aoData.length=0;bL.aiDisplayMaster.length=0;bL.aiDisplay.length=0}function a1(bM,bO,bQ){var bP=-1;for(var bN=0,bL=bM.length;bN<bL;bN++){if(bM[bN]==bO){bP=bN}else{if(bM[bN]>bO){bM[bN]--}}}if(bP!=-1&&bQ===d){bM.splice(bP,1)}}function aF(bN,bM,bL,bO){var bT=bN.aoData[bM];var bP,bR;if(bL==="dom"||((!bL||bL==="auto")&&bT.src==="dom")){bT._aData=bb(bN,bT).data}else{var bS=bT.anCells;if(bS){for(bP=0,bR=bS.length;bP<bR;bP++){bS[bP].innerHTML=bq(bN,bM,bP,"display")}}}bT._aSortData=null;bT._aFilterData=null;var bQ=bN.aoColumns;if(bO!==d){bQ[bO].sType=null}else{for(bP=0,bR=bQ.length;bP<bR;bP++){bQ[bP].sType=null}}ab(bT)}function bb(bS,bZ){var bX=[],bV=[],bR=bZ.firstChild,bL,bO,bN,bU=0,bP,bQ=bS.aoColumns;var bW=function(b3,b1,b4){if(typeof b3==="string"){var b0=b3.indexOf("@");if(b0!==-1){var b2=b3.substring(b0+1);bN["@"+b2]=b4.getAttribute(b2)}}};var bY=function(b0){bO=bQ[bU];bP=bz.trim(b0.innerHTML);if(bO&&bO._bAttrSrc){bN={display:bP};bW(bO.mData.sort,bN,b0);bW(bO.mData.type,bN,b0);bW(bO.mData.filter,bN,b0);bX.push(bN)}else{bX.push(bP)}bV.push(b0);bU++};if(bR){while(bR){bL=bR.nodeName.toUpperCase();if(bL=="TD"||bL=="TH"){bY(bR)}bR=bR.nextSibling}}else{bV=bZ.anCells;for(var bT=0,bM=bV.length;bT<bM;bT++){bY(bV[bT])}}return{data:bX,cells:bV}}function O(bM,bT,bL,bR){var bW=bM.aoData[bT],bP=bW._aData,bV=[],bU,bQ,bO,bS,bN;if(bW.nTr===null){bU=bL||b.createElement("tr");bW.nTr=bU;bW.anCells=bV;bU._DT_RowIndex=bT;ab(bW);for(bS=0,bN=bM.aoColumns.length;bS<bN;bS++){bO=bM.aoColumns[bS];bQ=bL?bR[bS]:b.createElement(bO.sCellType);bV.push(bQ);if(!bL||bO.mRender||bO.mData!==bS){bQ.innerHTML=bq(bM,bT,bS,"display")}if(bO.sClass){bQ.className+=" "+bO.sClass}if(bO.bVisible&&!bL){bU.appendChild(bQ)}else{if(!bO.bVisible&&bL){bQ.parentNode.removeChild(bQ)}}if(bO.fnCreatedCell){bO.fnCreatedCell.call(bM.oInstance,bQ,bq(bM,bT,bS,"display"),bP,bT,bS)}}K(bM,"aoRowCreatedCallback",null,[bU,bP,bT])}bW.nTr.setAttribute("role","row")}function ab(bO){var bN=bO.nTr;var bM=bO._aData;if(bN){if(bM.DT_RowId){bN.id=bM.DT_RowId}if(bM.DT_RowClass){var bL=bM.DT_RowClass.split(" ");bO.__rowc=bO.__rowc?aE(bO.__rowc.concat(bL)):bL;bz(bN).removeClass(bO.__rowc.join(" ")).addClass(bM.DT_RowClass)}if(bM.DT_RowData){bz(bN).data(bM.DT_RowData)}}}function aJ(bL){var bP,bU,bT,bW,bO;var bQ=bL.nTHead;var bR=bL.nTFoot;var bS=bz("th, td",bQ).length===0;var bN=bL.oClasses;var bM=bL.aoColumns;if(bS){bW=bz("<tr/>").appendTo(bQ)}for(bP=0,bU=bM.length;bP<bU;bP++){bO=bM[bP];bT=bz(bO.nTh).addClass(bO.sClass);if(bS){bT.appendTo(bW)}if(bL.oFeatures.bSort){bT.addClass(bO.sSortingClass);if(bO.bSortable!==false){bT.attr("tabindex",bL.iTabIndex).attr("aria-controls",bL.sTableId);B(bL,bO.nTh,bP)}}if(bO.sTitle!=bT.html()){bT.html(bO.sTitle)}R(bL,"header")(bL,bT,bO,bN)}if(bS){au(bL.aoHeader,bQ)}bz(bQ).find(">tr").attr("role","row");bz(bQ).find(">tr>th, >tr>td").addClass(bN.sHeaderTH);bz(bR).find(">tr>th, >tr>td").addClass(bN.sFooterTH);if(bR!==null){var bV=bL.aoFooter[0];for(bP=0,bU=bV.length;bP<bU;bP++){bO=bM[bP];bO.nTf=bV[bP].cell;if(bO.sClass){bz(bO.nTf).addClass(bO.sClass)}}}}function a2(bO,bX,b0){var bT,bQ,bS,bW,bR,bU,bP,bZ;var bN=[];var bV=[];var bL=bO.aoColumns.length;var bM,bY;if(!bX){return}if(b0===d){b0=false}for(bT=0,bQ=bX.length;bT<bQ;bT++){bN[bT]=bX[bT].slice();bN[bT].nTr=bX[bT].nTr;for(bS=bL-1;bS>=0;bS--){if(!bO.aoColumns[bS].bVisible&&!b0){bN[bT].splice(bS,1)}}bV.push([])}for(bT=0,bQ=bN.length;bT<bQ;bT++){bZ=bN[bT].nTr;if(bZ){while((bP=bZ.firstChild)){bZ.removeChild(bP)}}for(bS=0,bW=bN[bT].length;bS<bW;bS++){bM=1;bY=1;if(bV[bT][bS]===d){bZ.appendChild(bN[bT][bS].cell);bV[bT][bS]=1;while(bN[bT+bM]!==d&&bN[bT][bS].cell==bN[bT+bM][bS].cell){bV[bT+bM][bS]=1;bM++}while(bN[bT][bS+bY]!==d&&bN[bT][bS].cell==bN[bT][bS+bY].cell){for(bR=0;bR<bM;bR++){bV[bT+bR][bS+bY]=1}bY++}bz(bN[bT][bS].cell).attr("rowspan",bM).attr("colspan",bY)}}}}function aZ(bN){var b7=K(bN,"aoPreDrawCallback","preDraw",[bN]);if(bz.inArray(false,b7)!==-1){x(bN,false);return}var b6,b2,bY;var bR=[];var b9=0;var bV=bN.asStripeClasses;var b0=bV.length;var bW=bN.aoOpenRows.length;var b1=bN.oLanguage;var bX=bN.iInitDisplayStart;var b5=z(bN)=="ssp";var bQ=bN.aiDisplay;bN.bDrawing=true;if(bX!==d&&bX!==-1){bN._iDisplayStart=b5?bX:bX>=bN.fnRecordsDisplay()?0:bX;bN.iInitDisplayStart=-1}var bM=bN._iDisplayStart;var bO=bN.fnDisplayEnd();if(bN.bDeferLoading){bN.bDeferLoading=false;bN.iDraw++;x(bN,false)}else{if(!b5){bN.iDraw++}else{if(!bN.bDestroying&&!ad(bN)){return}}}if(bQ.length!==0){var bP=b5?0:bM;var bL=b5?bN.aoData.length:bO;for(var b3=bP;b3<bL;b3++){var bT=bQ[b3];var bU=bN.aoData[bT];if(bU.nTr===null){O(bN,bT)}var b8=bU.nTr;if(b0!==0){var b4=bV[b9%b0];if(bU._sRowStripe!=b4){bz(b8).removeClass(bU._sRowStripe).addClass(b4);bU._sRowStripe=b4}}K(bN,"aoRowCallback",null,[b8,bU._aData,b9,b3]);bR.push(b8);b9++}}else{var bZ=b1.sZeroRecords;if(bN.iDraw==1&&z(bN)=="ajax"){bZ=b1.sLoadingRecords}else{if(b1.sEmptyTable&&bN.fnRecordsTotal()===0){bZ=b1.sEmptyTable}}bR[0]=bz("<tr/>",{"class":b0?bV[0]:""}).append(bz("<td />",{valign:"top",colSpan:aO(bN),"class":bN.oClasses.sRowEmpty}).html(bZ))[0]}K(bN,"aoHeaderCallback","header",[bz(bN.nTHead).children("tr")[0],bB(bN),bM,bO,bQ]);K(bN,"aoFooterCallback","footer",[bz(bN.nTFoot).children("tr")[0],bB(bN),bM,bO,bQ]);var bS=bz(bN.nTBody);bS.children().detach();bS.append(bz(bR));K(bN,"aoDrawCallback","draw",[bN]);bN.bSorted=false;bN.bFiltered=false;bN.bDrawing=false}function ag(bP,bM){var bO=bP.oFeatures,bL=bO.bSort,bN=bO.bFilter;if(bL){y(bP)}if(bN){u(bP,bP.oPreviousSearch)}else{bP.aiDisplay=bP.aiDisplayMaster.slice()}if(bM!==true){bP._iDisplayStart=0}aZ(bP)}function j(bP){var b2=bP.oClasses;var bZ=bz(bP.nTable);var bR=bz("<div/>").insertBefore(bZ);var bQ=bP.oFeatures;var bM=bz("<div/>",{id:bP.sTableId+"_wrapper","class":b2.sWrapper+(bP.nTFoot?"":" "+b2.sNoFooter)});bP.nHolding=bR[0];bP.nTableWrapper=bM[0];bP.nTableReinsertBefore=bP.nTable.nextSibling;var bS=bP.sDom.split("");var bX,bT,bO,b3,b1,bV;for(var bY=0;bY<bS.length;bY++){bX=null;bT=bS[bY];if(bT=="<"){bO=bz("<div/>")[0];b3=bS[bY+1];if(b3=="'"||b3=='"'){b1="";bV=2;while(bS[bY+bV]!=b3){b1+=bS[bY+bV];bV++}if(b1=="H"){b1=b2.sJUIHeader}else{if(b1=="F"){b1=b2.sJUIFooter}}if(b1.indexOf(".")!=-1){var bW=b1.split(".");bO.id=bW[0].substr(1,bW[0].length-1);bO.className=bW[1]}else{if(b1.charAt(0)=="#"){bO.id=b1.substr(1,b1.length-1)}else{bO.className=b1}}bY+=bV}bM.append(bO);bM=bz(bO)}else{if(bT==">"){bM=bM.parent()}else{if(bT=="l"&&bQ.bPaginate&&bQ.bLengthChange){bX=aP(bP)}else{if(bT=="f"&&bQ.bFilter){bX=r(bP)}else{if(bT=="r"&&bQ.bProcessing){bX=bu(bP)}else{if(bT=="t"){bX=bt(bP)}else{if(bT=="i"&&bQ.bInfo){bX=h(bP)}else{if(bT=="p"&&bQ.bPaginate){bX=ay(bP)}else{if(M.ext.feature.length!==0){var b0=M.ext.feature;for(var bU=0,bL=b0.length;bU<bL;bU++){if(bT==b0[bU].cFeature){bX=b0[bU].fnInit(bP);break}}}}}}}}}}}if(bX){var bN=bP.aanFeatures;if(!bN[bT]){bN[bT]=[]}bN[bT].push(bX);bM.append(bX)}}bR.replaceWith(bM)}function au(bR,bM){var bY=bz(bM).children("tr");var bX,bV;var bT,bQ,bP,bN,bZ,bU,bS,b0,bL;var bW;var bO=function(b1,b4,b3){var b2=b1[b4];while(b2[b3]){b3++}return b3};bR.splice(0,bR.length);for(bT=0,bN=bY.length;bT<bN;bT++){bR.push([])}for(bT=0,bN=bY.length;bT<bN;bT++){bX=bY[bT];bS=0;bV=bX.firstChild;while(bV){if(bV.nodeName.toUpperCase()=="TD"||bV.nodeName.toUpperCase()=="TH"){b0=bV.getAttribute("colspan")*1;bL=bV.getAttribute("rowspan")*1;b0=(!b0||b0===0||b0===1)?1:b0;bL=(!bL||bL===0||bL===1)?1:bL;bU=bO(bR,bT,bS);bW=b0===1?true:false;for(bP=0;bP<b0;bP++){for(bQ=0;bQ<bL;bQ++){bR[bT+bQ][bU+bP]={cell:bV,unique:bW};bR[bT+bQ].nTr=bX}}}bV=bV.nextSibling}}}function bd(bS,bM,bQ){var bN=[];if(!bQ){bQ=bS.aoHeader;if(bM){bQ=[];au(bQ,bM)}}for(var bP=0,bL=bQ.length;bP<bL;bP++){for(var bO=0,bR=bQ[bP].length;bO<bR;bO++){if(bQ[bP][bO].unique&&(!bN[bO]||!bS.bSortCellsTop)){bN[bO]=bQ[bP][bO].cell}}}return bN}function at(bM,bN,bR){K(bM,"aoServerParams","serverParams",[bN]);if(bN&&bz.isArray(bN)){var bO={};var bP=/(.*?)\[\]$/;bz.each(bN,function(bX,bY){var bW=bY.name.match(bP);if(bW){var bV=bW[0];if(!bO[bV]){bO[bV]=[]}bO[bV].push(bY.value)}else{bO[bY.name]=bY.value}});bN=bO}var bL;var bS=bM.ajax;var bT=bM.oInstance;if(bz.isPlainObject(bS)&&bS.data){bL=bS.data;var bU=bz.isFunction(bL)?bL(bN):bL;bN=bz.isFunction(bL)&&bU?bU:bz.extend(true,bN,bU);delete bS.data}var bQ={data:bN,success:function(bW){var bV=bW.error||bW.sError;if(bV){bM.oApi._fnLog(bM,0,bV)}bM.json=bW;K(bM,null,"xhr",[bM,bW]);bR(bW)},dataType:"json",cache:false,type:bM.sServerMethod,error:function(bY,bV,bX){var bW=bM.oApi._fnLog;if(bV=="parsererror"){bW(bM,0,"Invalid JSON response",1)}else{if(bY.readyState===4){bW(bM,0,"Ajax error",7)}}x(bM,false)}};bM.oAjaxData=bN;K(bM,null,"preXhr",[bM,bN]);if(bM.fnServerData){bM.fnServerData.call(bT,bM.sAjaxSource,bz.map(bN,function(bW,bV){return{name:bV,value:bW}}),bR,bM)}else{if(bM.sAjaxSource||typeof bS==="string"){bM.jqXHR=bz.ajax(bz.extend(bQ,{url:bS||bM.sAjaxSource}))}else{if(bz.isFunction(bS)){bM.jqXHR=bS.call(bT,bN,bR,bM)}else{bM.jqXHR=bz.ajax(bz.extend(bQ,bS));bS.data=bL}}}}function ad(bN){if(bN.bAjaxDataGet){bN.iDraw++;x(bN,true);var bM=bN.aoColumns.length;var bL=bF(bN);at(bN,bL,function(bO){U(bN,bO)},bN);return false}return true}function bF(bQ){var bR=bQ.aoColumns,bX=bR.length,bN=bQ.oFeatures,bL=bQ.oPreviousSearch,bW=bQ.aoPreSearchCols,bU,bT=[],bM,bP,bZ,bS=aG(bQ),b1=bQ._iDisplayStart,bV=bN.bPaginate!==false?bQ._iDisplayLength:-1;var bO=function(b2,b3){bT.push({name:b2,value:b3})};bO("sEcho",bQ.iDraw);bO("iColumns",bX);bO("sColumns",ar(bR,"sName").join(","));bO("iDisplayStart",b1);bO("iDisplayLength",bV);var bY={draw:bQ.iDraw,columns:[],order:[],start:b1,length:bV,search:{value:bL.sSearch,regex:bL.bRegex}};for(bU=0;bU<bX;bU++){bP=bR[bU];bZ=bW[bU];bM=typeof bP.mData=="function"?"function":bP.mData;bY.columns.push({data:bM,name:bP.sName,searchable:bP.bSearchable,orderable:bP.bSortable,search:{value:bZ.sSearch,regex:bZ.bRegex}});bO("mDataProp_"+bU,bM);if(bN.bFilter){bO("sSearch_"+bU,bZ.sSearch);bO("bRegex_"+bU,bZ.bRegex);bO("bSearchable_"+bU,bP.bSearchable)}if(bN.bSort){bO("bSortable_"+bU,bP.bSortable)}}if(bN.bFilter){bO("sSearch",bL.sSearch);bO("bRegex",bL.bRegex)}if(bN.bSort){bz.each(bS,function(b2,b3){bY.order.push({column:b3.col,dir:b3.dir});bO("iSortCol_"+b2,b3.col);bO("sSortDir_"+b2,b3.dir)});bO("iSortingCols",bS.length)}var b0=M.ext.legacy.ajax;if(b0===null){return bQ.sAjaxSource?bT:bY}return b0?bT:bY}function U(bM,bT){var bR=function(bU,bV){return bT[bU]!==d?bT[bU]:bT[bV]};var bP=bR("sEcho","draw");var bQ=bR("iTotalRecords","recordsTotal");var bL=bR("iTotalDisplayRecords","recordsFiltered");if(bP){if(bP*1<bM.iDraw){return}bM.iDraw=bP*1}be(bM);bM._iRecordsTotal=parseInt(bQ,10);bM._iRecordsDisplay=parseInt(bL,10);var bN=bp(bM,bT);for(var bO=0,bS=bN.length;bO<bS;bO++){aM(bM,bN[bO])}bM.aiDisplay=bM.aiDisplayMaster.slice();bM.bAjaxDataGet=false;aZ(bM);if(!bM._bInitComplete){aA(bM,bT)}bM.bAjaxDataGet=true;x(bM,false)}function bp(bN,bM){var bL=bz.isPlainObject(bN.ajax)&&bN.ajax.dataSrc!==d?bN.ajax.dataSrc:bN.sAjaxDataProp;if(bL==="data"){return bM.aaData||bM[bL]}return bL!==""?am(bL)(bM):bM}function r(bO){var bP=bO.oClasses;var bN=bO.sTableId;var bQ=bO.oPreviousSearch;var bM=bO.aanFeatures;var bU='<input type="search" class="'+bP.sFilterInput+'"/>';var bT=bO.oLanguage.sSearch;bT=bT.match(/_INPUT_/)?bT.replace("_INPUT_",bU):bT+bU;var bL=bz("<div/>",{id:!bM.f?bN+"_filter":null,"class":bP.sFilter}).append(bz("<label/>").append(bT));var bS=function(){var bW=bM.f;var bV=!this.value?"":this.value;if(bV!=bQ.sSearch){u(bO,{sSearch:bV,bRegex:bQ.bRegex,bSmart:bQ.bSmart,bCaseInsensitive:bQ.bCaseInsensitive});bO._iDisplayStart=0;aZ(bO)}};var bR=bz("input",bL).val(bQ.sSearch.replace('"',"&quot;")).bind("keyup.DT search.DT input.DT paste.DT cut.DT",z(bO)==="ssp"?aj(bS,400):bS).bind("keypress.DT",function(bV){if(bV.keyCode==13){return false}}).attr("aria-controls",bN);bz(bO.nTable).on("filter.DT",function(){try{if(bR[0]!==b.activeElement){bR.val(bQ.sSearch)}}catch(bV){}});return bL[0]}function u(bO,bS,bR){var bN=bO.oPreviousSearch;var bQ=bO.aoPreSearchCols;var bP=function(bT){bN.sSearch=bT.sSearch;bN.bRegex=bT.bRegex;bN.bSmart=bT.bSmart;bN.bCaseInsensitive=bT.bCaseInsensitive};var bM=function(bT){return bT.bEscapeRegex!==d?!bT.bEscapeRegex:bT.bRegex};v(bO);if(z(bO)!="ssp"){aw(bO,bS.sSearch,bR,bM(bS),bS.bSmart,bS.bCaseInsensitive);bP(bS);for(var bL=0;bL<bQ.length;bL++){X(bO,bQ[bL].sSearch,bL,bM(bQ[bL]),bQ[bL].bSmart,bQ[bL].bCaseInsensitive)}ap(bO)}else{bP(bS)}bO.bFiltered=true;K(bO,null,"search",[bO])}function ap(bP){var bR=M.ext.search;var bO=bP.aiDisplay;var bS,bQ;for(var bN=0,bL=bR.length;bN<bL;bN++){for(var bM=bO.length-1;bM>=0;bM--){bQ=bO[bM];bS=bP.aoData[bQ];if(!bR[bN](bP,bS._aFilterData,bQ,bS._aData)){bO.splice(bM,1)}}}}function X(bM,bL,bQ,bT,bU,bO){if(bL===""){return}var bR;var bS=bM.aiDisplay;var bN=aU(bL,bT,bU,bO);for(var bP=bS.length-1;bP>=0;bP--){bR=bM.aoData[bS[bP]]._aFilterData[bQ];if(!bN.test(bR)){bS.splice(bP,1)}}}function aw(bM,bU,bL,bT,bW,bP){var bO=aU(bU,bT,bW,bP);var bN=bM.oPreviousSearch.sSearch;var bR=bM.aiDisplayMaster;var bS,bV,bQ;if(M.ext.search.length!==0){bL=true}bV=aC(bM);if(bU.length<=0){bM.aiDisplay=bR.slice()}else{if(bV||bL||bN.length>bU.length||bU.indexOf(bN)!==0||bM.bSorted){bM.aiDisplay=bR.slice()}bS=bM.aiDisplay;for(bQ=bS.length-1;bQ>=0;bQ--){if(!bO.test(bM.aoData[bS[bQ]]._sFilterRow)){bS.splice(bQ,1)}}}}function aU(bN,bO,bP,bL){bN=bO?bN:o(bN);if(bP){var bM=bz.map(bN.match(/"[^"]+"|[^ ]+/g)||"",function(bQ){return bQ.charAt(0)==='"'?bQ.match(/^"(.*)"$/)[1]:bQ});bN="^(?=.*?"+bM.join(")(?=.*?")+").*$"}return new RegExp(bN,bL?"i":"")}function o(bL){return bL.replace(aB,"\\$1")}var f=bz("<div>")[0];var ao=f.textContent!==d;function aC(bM){var bO=bM.aoColumns;var bN;var bQ,bP,bU,bL,bT,bR,bW;var bV=M.ext.type.search;var bS=false;for(bQ=0,bU=bM.aoData.length;bQ<bU;bQ++){bW=bM.aoData[bQ];if(!bW._aFilterData){bT=[];for(bP=0,bL=bO.length;bP<bL;bP++){bN=bO[bP];if(bN.bSearchable){bR=bq(bM,bQ,bP,"filter");bR=bV[bN.sType]?bV[bN.sType](bR):bR!==null?bR:""}else{bR=""}if(bR.indexOf&&bR.indexOf("&")!==-1){f.innerHTML=bR;bR=ao?f.textContent:f.innerText}if(bR.replace){bR=bR.replace(/[\r\n]/g,"")}bT.push(bR)}bW._aFilterData=bT;bW._sFilterRow=bT.join("  ");bS=true}}return bS}function h(bM){var bN=bM.sTableId,bL=bM.aanFeatures.i,bO=bz("<div/>",{"class":bM.oClasses.sInfo,id:!bL?bN+"_info":null});if(!bL){bM.aoDrawCallback.push({fn:aq,sName:"information"});bO.attr("role","status").attr("aria-live","polite");bz(bM.nTable).attr("aria-describedby",bN+"_info")}return bO[0]}function aq(bO){var bL=bO.aanFeatures.i;if(bL.length===0){return}var bN=bO.oLanguage,bM=bO._iDisplayStart+1,bP=bO.fnDisplayEnd(),bS=bO.fnRecordsTotal(),bR=bO.fnRecordsDisplay(),bQ=bR?bN.sInfo:bN.sInfoEmpty;if(bR!==bS){bQ+=" "+bN.sInfoFiltered}bQ+=bN.sInfoPostFix;bQ=bl(bO,bQ);var bT=bN.fnInfoCallback;if(bT!==null){bQ=bT.call(bO.oInstance,bO,bM,bP,bS,bR,bQ)}bz(bL).html(bQ)}function bl(bO,bQ){var bM=bO.fnFormatNumber,bR=bO._iDisplayStart+1,bL=bO._iDisplayLength,bP=bO.fnRecordsDisplay(),bN=bL===-1;return bQ.replace(/_START_/g,bM.call(bO,bR)).replace(/_END_/g,bM.call(bO,bO.fnDisplayEnd())).replace(/_MAX_/g,bM.call(bO,bO.fnRecordsTotal())).replace(/_TOTAL_/g,bM.call(bO,bP)).replace(/_PAGE_/g,bM.call(bO,bN?1:Math.ceil(bR/bL))).replace(/_PAGES_/g,bM.call(bO,bN?1:Math.ceil(bP/bL)))}function i(bR){var bO,bL,bS=bR.iInitDisplayStart;var bN=bR.aoColumns,bQ;var bP=bR.oFeatures;if(!bR.bInitialised){setTimeout(function(){i(bR)},200);return}j(bR);aJ(bR);a2(bR,bR.aoHeader);a2(bR,bR.aoFooter);x(bR,true);if(bP.bAutoWidth){br(bR)}for(bO=0,bL=bN.length;bO<bL;bO++){bQ=bN[bO];if(bQ.sWidth){bQ.nTh.style.width=bE(bQ.sWidth)}}ag(bR);var bM=z(bR);if(bM!="ssp"){if(bM=="ajax"){at(bR,[],function(bU){var bT=bp(bR,bU);for(bO=0;bO<bT.length;bO++){aM(bR,bT[bO])}bR.iInitDisplayStart=bS;ag(bR);x(bR,false);aA(bR,bU)},bR)}else{x(bR,false);aA(bR)}}}function aA(bM,bL){bM._bInitComplete=true;if(bL){aH(bM)}K(bM,"aoInitComplete","init",[bM,bL])}function aR(bM,bN){var bL=parseInt(bN,10);bM._iDisplayLength=bL;bh(bM);K(bM,null,"length",[bM,bL])}function aP(bQ){var bR=bQ.oClasses,bO=bQ.sTableId,bN=bQ.aLengthMenu,bL=bz.isArray(bN[0]),bP=bL?bN[0]:bN,bT=bL?bN[1]:bN;var bV=bz("<select/>",{name:bO+"_length","aria-controls":bO,"class":bR.sLengthSelect});for(var bS=0,bW=bP.length;bS<bW;bS++){bV[0][bS]=new Option(bT[bS],bP[bS])}var bM=bz("<div><label/></div>").addClass(bR.sLength);if(!bQ.aanFeatures.l){bM[0].id=bO+"_length"}var bU=bQ.oLanguage.sLengthMenu.split(/(_MENU_)/);bM.children().append(bU.length>1?[bU[0],bV,bU[2]]:bU[0]);bz("select",bM).val(bQ._iDisplayLength).bind("change.DT",function(bX){aR(bQ,bz(this).val());aZ(bQ)});bz(bQ.nTable).bind("length.dt.DT",function(bZ,bY,bX){bz("select",bM).val(bX)});return bM[0]}function ay(bO){var bN=bO.sPaginationType,bQ=M.ext.pager[bN],bM=typeof bQ==="function",bR=function(bS){aZ(bS)},bP=bz("<div/>").addClass(bO.oClasses.sPaging+bN)[0],bL=bO.aanFeatures;if(!bM){bQ.fnInit(bO,bP,bR)}if(!bL.p){bP.id=bO.sTableId+"_paginate";bO.aoDrawCallback.push({fn:function(bV){if(bM){var bS=bV._iDisplayStart,bX=bV._iDisplayLength,bT=bV.fnRecordsDisplay(),b0=bX===-1,bY=b0?0:Math.ceil(bS/bX),bU=b0?1:Math.ceil(bT/bX),bZ=bQ(bY,bU),bW,b1;for(bW=0,b1=bL.p.length;bW<b1;bW++){R(bV,"pageButton")(bV,bL.p[bW],bW,bZ,bY,bU)}}else{bQ.fnUpdate(bV,bR)}},sName:"pagination"})}return bP}function aD(bN,bO,bR){var bQ=bN._iDisplayStart,bL=bN._iDisplayLength,bM=bN.fnRecordsDisplay();if(bM===0||bL===-1){bQ=0}else{if(typeof bO==="number"){bQ=bO*bL;if(bQ>bM){bQ=0}}else{if(bO=="first"){bQ=0}else{if(bO=="previous"){bQ=bL>=0?bQ-bL:0;if(bQ<0){bQ=0}}else{if(bO=="next"){if(bQ+bL<bM){bQ+=bL}}else{if(bO=="last"){bQ=Math.floor((bM-1)/bL)*bL}else{aL(bN,0,"Unknown paging action: "+bO,5)}}}}}}var bP=bN._iDisplayStart!==bQ;bN._iDisplayStart=bQ;if(bP){K(bN,null,"page",[bN]);if(bR){aZ(bN)}}return bP}function bu(bL){return bz("<div/>",{id:!bL.aanFeatures.r?bL.sTableId+"_processing":null,"class":bL.oClasses.sProcessing}).html(bL.oLanguage.sProcessing).insertBefore(bL.nTable)[0]}function x(bM,bL){if(bM.oFeatures.bProcessing){bz(bM.aanFeatures.r).css("display",bL?"block":"none")}K(bM,null,"processing",[bM,bL])}function bt(bZ){var bY=bz(bZ.nTable);bY.attr("role","grid");var bL=bZ.oScroll;if(bL.sX===""&&bL.sY===""){return bZ.nTable}var bT=bL.sX;var bS=bL.sY;var b0=bZ.oClasses;var bX=bY.children("caption");var bM=bX.length?bX[0]._captionSide:null;var bP=bz(bY[0].cloneNode(false));var b2=bz(bY[0].cloneNode(false));var bR=bY.children("tfoot");var bU="<div/>";var bQ=function(b3){return !b3?null:bE(b3)};if(bL.sX&&bY.attr("width")==="100%"){bY.removeAttr("width")}if(!bR.length){bR=null}var bW=bz(bU,{"class":b0.sScrollWrapper}).append(bz(bU,{"class":b0.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:bT?bQ(bT):"100%"}).append(bz(bU,{"class":b0.sScrollHeadInner}).css({"box-sizing":"content-box",width:bL.sXInner||"100%"}).append(bP.removeAttr("id").css("margin-left",0).append(bY.children("thead")))).append(bM==="top"?bX:null)).append(bz(bU,{"class":b0.sScrollBody}).css({overflow:"auto",height:bQ(bS),width:bQ(bT)}).append(bY));if(bR){bW.append(bz(bU,{"class":b0.sScrollFoot}).css({overflow:"hidden",border:0,width:bT?bQ(bT):"100%"}).append(bz(bU,{"class":b0.sScrollFootInner}).append(b2.removeAttr("id").css("margin-left",0).append(bY.children("tfoot")))).append(bM==="bottom"?bX:null))}var bN=bW.children();var bV=bN[0];var b1=bN[1];var bO=bR?bN[2]:null;if(bT){bz(b1).scroll(function(b3){var b4=this.scrollLeft;bV.scrollLeft=b4;if(bR){bO.scrollLeft=b4}})}bZ.nScrollHead=bV;bZ.nScrollBody=b1;bZ.nScrollFoot=bO;bZ.aoDrawCallback.push({fn:n,sName:"scrolling"});return bW[0]}function n(cl){var cg=cl.oScroll,bQ=cg.sX,cb=cg.sXInner,bN=cg.sY,b9=cg.iBarWidth,ce=bz(cl.nScrollHead),b3=ce[0].style,bP=ce.children("div"),bM=bP[0].style,co=bP.children("table"),bW=cl.nScrollBody,b7=bz(bW),b2=bW.style,ch=bz(cl.nScrollFoot),b6=ch.children("div"),b4=b6.children("table"),bU=bz(cl.nTHead),b5=bz(cl.nTable),b8=b5[0],bS=b8.style,b1=cl.nTFoot?bz(cl.nTFoot):null,bT=cl.oBrowser,bY=bT.bScrollOversize,bO,bR,cj,cm,bZ,bX,cd=[],cf=[],ca=[],cn,bV,cp,b0=function(cq){var cr=cq.style;cr.paddingTop="0";cr.paddingBottom="0";cr.borderTopWidth="0";cr.borderBottomWidth="0";cr.height=0};b5.children("thead, tfoot").remove();bZ=bU.clone().prependTo(b5);bO=bU.find("tr");cj=bZ.find("tr");bZ.find("th, td").removeAttr("tabindex");if(b1){bX=b1.clone().prependTo(b5);bR=b1.find("tr");cm=bX.find("tr")}if(!bQ){b2.width="100%";ce[0].style.width="100%"}bz.each(bd(cl,bZ),function(cq,cr){cn=s(cl,cq);cr.style.width=cl.aoColumns[cn].sWidth});if(b1){a4(function(cq){cq.style.width=""},cm)}if(cg.bCollapse&&bN!==""){b2.height=(b7[0].offsetHeight+bU[0].offsetHeight)+"px"}cp=b5.outerWidth();if(bQ===""){bS.width="100%";if(bY&&(b5.find("tbody").height()>bW.offsetHeight||b7.css("overflow-y")=="scroll")){bS.width=bE(b5.outerWidth()-b9)}}else{if(cb!==""){bS.width=bE(cb)}else{if(cp==b7.width()&&b7.height()<b5.height()){bS.width=bE(cp-b9);if(b5.outerWidth()>cp-b9){bS.width=bE(cp)}}else{bS.width=bE(cp)}}}cp=b5.outerWidth();a4(b0,cj);a4(function(cq){ca.push(cq.innerHTML);cd.push(bE(bz(cq).css("width")))},cj);a4(function(cr,cq){cr.style.width=cd[cq]},bO);bz(cj).height(0);if(b1){a4(b0,cm);a4(function(cq){cf.push(bE(bz(cq).css("width")))},cm);a4(function(cr,cq){cr.style.width=cf[cq]},bR);bz(cm).height(0)}a4(function(cr,cq){cr.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+ca[cq]+"</div>";cr.style.width=cd[cq]},cj);if(b1){a4(function(cr,cq){cr.innerHTML="";cr.style.width=cf[cq]},cm)}if(b5.outerWidth()<cp){bV=((bW.scrollHeight>bW.offsetHeight||b7.css("overflow-y")=="scroll"))?cp+b9:cp;if(bY&&(bW.scrollHeight>bW.offsetHeight||b7.css("overflow-y")=="scroll")){bS.width=bE(bV-b9)}if(bQ===""||cb!==""){aL(cl,1,"Possible column misalignment",6)}}else{bV="100%"}b2.width=bE(bV);b3.width=bE(bV);if(b1){cl.nScrollFoot.style.width=bE(bV)}if(!bN){if(bY){b2.height=bE(b8.offsetHeight+b9)}}if(bN&&cg.bCollapse){b2.height=bE(bN);var ck=(bQ&&b8.offsetWidth>bW.offsetWidth)?b9:0;if(b8.offsetHeight<bW.offsetHeight){b2.height=bE(b8.offsetHeight+ck)}}var bL=b5.outerWidth();co[0].style.width=bE(bL);bM.width=bE(bL);var cc=b5.height()>bW.clientHeight||b7.css("overflow-y")=="scroll";var ci="padding"+(bT.bScrollbarLeft?"Left":"Right");bM[ci]=cc?b9+"px":"0px";if(b1){b4[0].style.width=bE(bL);b6[0].style.width=bE(bL);b6[0].style[ci]=cc?b9+"px":"0px"}b7.scroll();if(cl.bSorted||cl.bFiltered){bW.scrollTop=0}}function a4(bQ,bN,bM){var bO=0,bP=0,bL=bN.length;var bS,bR;while(bP<bL){bS=bN[bP].firstChild;bR=bM?bM[bP].firstChild:null;while(bS){if(bS.nodeType===1){if(bM){bQ(bS,bR,bO)}else{bQ(bS,bO)}bO++}bS=bS.nextSibling;bR=bM?bR.nextSibling:null}bP++}}var aX=/<.*?>/g;function br(bR){var bZ=bR.nTable,bO=bR.aoColumns,bN=bR.oScroll,bW=bN.sY,bX=bN.sX,bQ=bN.sXInner,b3=bO.length,b1=q(bR,"bVisible"),b0=bz("th",bR.nTHead),bU=bZ.getAttribute("width"),bT=bZ.parentNode,b2=false,bY,bP,b4,bV,bL;for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];if(bP.sWidth!==null){bP.sWidth=ae(bP.sWidthOrig,bT);b2=true}}if(!b2&&!bX&&!bW&&b3==aO(bR)&&b3==b0.length){for(bY=0;bY<b3;bY++){bO[bY].sWidth=bE(b0.eq(bY).width())}}else{var bS=bz(bZ.cloneNode(false)).css("visibility","hidden").removeAttr("id").append(bz(bR.nTHead).clone(false)).append(bz(bR.nTFoot).clone(false)).append(bz("<tbody><tr/></tbody>"));bS.find("tfoot th, tfoot td").css("width","");var bM=bS.find("tbody tr");b0=bd(bR,bS.find("thead")[0]);for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];b0[bY].style.width=bP.sWidthOrig!==null&&bP.sWidthOrig!==""?bE(bP.sWidthOrig):""}if(bR.aoData.length){for(bY=0;bY<b1.length;bY++){b4=b1[bY];bP=bO[b4];bz(aI(bR,b4)).clone(false).append(bP.sContentPadding).appendTo(bM)}}bS.appendTo(bT);if(bX&&bQ){bS.width(bQ)}else{if(bX){bS.css("width","auto");if(bS.width()<bT.offsetWidth){bS.width(bT.offsetWidth)}}else{if(bW){bS.width(bT.offsetWidth)}else{if(bU){bS.width(bU)}}}}ax(bR,bS[0]);if(bX){var b5=0;for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];bL=bz(b0[bY]).outerWidth();b5+=bP.sWidthOrig===null?bL:parseInt(bP.sWidth,10)+bL-bz(b0[bY]).width()}bS.width(bE(b5));bZ.style.width=bE(b5)}for(bY=0;bY<b1.length;bY++){bP=bO[b1[bY]];bV=bz(b0[bY]).width();if(bV){bP.sWidth=bE(bV)}}bZ.style.width=bE(bS.css("width"));bS.remove()}if(bU){bZ.style.width=bE(bU)}if((bU||bX)&&!bR._reszEvt){bz(c).bind("resize.DT-"+bR.sInstance,aj(function(){aH(bR)}));bR._reszEvt=true}}function aj(bL,bO){var bN=bO||200,bM,bP;return function(){var bS=this,bR=+new Date(),bQ=arguments;if(bM&&bR<bM+bN){clearTimeout(bP);bP=setTimeout(function(){bM=d;bL.apply(bS,bQ)},bN)}else{if(bM){bM=bR;bL.apply(bS,bQ)}else{bM=bR}}}}function ae(bM,bL){if(!bM){return 0}var bO=bz("<div/>").css("width",bE(bM)).appendTo(bL||b.body);var bN=bO[0].offsetWidth;bO.remove();return bN}function ax(bN,bO){var bL=bN.oScroll;if(bL.sX||bL.sY){var bM=!bL.sX?bL.iBarWidth:0;bO.style.width=bE(bz(bO).outerWidth()-bM)}}function aI(bM,bO){var bL=aa(bM,bO);if(bL<0){return null}var bN=bM.aoData[bL];return !bN.nTr?bz("<td/>").html(bq(bM,bL,bO,"display"))[0]:bN.anCells[bO]}function aa(bQ,bR){var bP,bL=-1,bN=-1;for(var bO=0,bM=bQ.aoData.length;bO<bM;bO++){bP=bq(bQ,bO,bR,"display")+"";bP=bP.replace(aX,"");if(bP.length>bL){bL=bP.length;bN=bO}}return bN}function bE(bL){if(bL===null){return"0px"}if(typeof bL=="number"){return bL<0?"0px":bL+"px"}return bL.match(/\d$/)?bL+"px":bL}function a7(){if(!M.__scrollbarWidth){var bN=bz("<p/>").css({width:"100%",height:200,padding:0})[0];var bO=bz("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,overflow:"hidden",visibility:"hidden"}).append(bN).appendTo("body");var bM=bN.offsetWidth;bO.css("overflow","scroll");var bL=bN.offsetWidth;if(bM===bL){bL=bO[0].clientWidth}bO.remove();M.__scrollbarWidth=bM-bL}return M.__scrollbarWidth}function aG(bO){var bT,bN,bQ,bU,bR=[],bW=[],bY=bO.aoColumns,bS,bX,bL,bV,bP=bO.aaSortingFixed,b0=bz.isPlainObject(bP),bM=[],bZ=function(b1){if(b1.length&&!bz.isArray(b1[0])){bM.push(b1)}else{bM.push.apply(bM,b1)}};if(bz.isArray(bP)){bZ(bP)}if(b0&&bP.pre){bZ(bP.pre)}bZ(bO.aaSorting);if(b0&&bP.post){bZ(bP.post)}for(bT=0;bT<bM.length;bT++){bV=bM[bT][0];bS=bY[bV].aDataSort;for(bQ=0,bU=bS.length;bQ<bU;bQ++){bX=bS[bQ];bL=bY[bX].sType||"string";bR.push({src:bV,col:bX,dir:bM[bT][1],index:bM[bT][2],type:bL,formatter:M.ext.type.order[bL+"-pre"]})}}return bR}function y(bQ){var b2,bO,bZ,b1,b3,bY,bL,bV,bR,b7=[],bU=M.ext.type.order,bW=bQ.aoData,b0=bQ.aoColumns,bM,b6,bP,bT,bX,b4=0,bS,bN=bQ.aiDisplayMaster,b5;v(bQ);b5=aG(bQ);for(b2=0,bO=b5.length;b2<bO;b2++){bS=b5[b2];if(bS.formatter){b4++}F(bQ,bS.col)}if(z(bQ)!="ssp"&&b5.length!==0){for(b2=0,bZ=bN.length;b2<bZ;b2++){b7[bN[b2]]=b2}if(b4===b5.length){bN.sort(function(cg,cf){var ch,ce,b8,cd,b9,ca=b5.length,cc=bW[cg]._aSortData,cb=bW[cf]._aSortData;for(b8=0;b8<ca;b8++){b9=b5[b8];ch=cc[b9.col];ce=cb[b9.col];cd=ch<ce?-1:ch>ce?1:0;if(cd!==0){return b9.dir==="asc"?cd:-cd}}ch=b7[cg];ce=b7[cf];return ch<ce?-1:ch>ce?1:0})}else{bN.sort(function(ci,ch){var cj,cg,b9,b8,ce,ca,cf,cb=b5.length,cd=bW[ci]._aSortData,cc=bW[ch]._aSortData;for(b9=0;b9<cb;b9++){ca=b5[b9];cj=cd[ca.col];cg=cc[ca.col];cf=bU[ca.type+"-"+ca.dir]||bU["string-"+ca.dir];ce=cf(cj,cg);if(ce!==0){return ce}}cj=b7[ci];cg=b7[ch];return cj<cg?-1:cj>cg?1:0})}}bQ.bSorted=true}function a9(bP){var bV;var bU;var bQ=bP.aoColumns;var bR=aG(bP);var bS=bP.oLanguage.oAria;for(var bT=0,bN=bQ.length;bT<bN;bT++){var bM=bQ[bT];var bO=bM.asSorting;var bW=bM.sTitle.replace(/<.*?>/g,"");var bL=bM.nTh;bL.removeAttribute("aria-sort");if(bM.bSortable){if(bR.length>0&&bR[0].col==bT){bL.setAttribute("aria-sort",bR[0].dir=="asc"?"ascending":"descending");bU=bO[bR[0].index+1]||bO[0]}else{bU=bO[0]}bV=bW+(bU==="asc"?bS.sSortAscending:bS.sSortDescending)}else{bV=bW}bL.setAttribute("aria-label",bV)}}function bf(bO,bQ,bL,bU){var bM=bO.aoColumns[bQ];var bS=bO.aaSorting;var bP=bM.asSorting;var bT;var bR=function(bW){var bV=bW._idx;if(bV===d){bV=bz.inArray(bW[1],bP)}return bV+1>=bP.length?0:bV+1};if(bL&&bO.oFeatures.bSortMulti){var bN=bz.inArray(bQ,ar(bS,"0"));if(bN!==-1){bT=bR(bS[bN]);bS[bN][1]=bP[bT];bS[bN]._idx=bT}else{bS.push([bQ,bP[0],0]);bS[bS.length-1]._idx=0}}else{if(bS.length&&bS[0][0]==bQ){bT=bR(bS[0]);bS.length=1;bS[0][1]=bP[bT];bS[0]._idx=bT}else{bS.length=0;bS.push([bQ,bP[0]]);bS[0]._idx=0}}ag(bO);if(typeof bU=="function"){bU(bO)}}function B(bN,bM,bP,bO){var bL=bN.aoColumns[bP];a8(bM,{},function(bQ){if(bL.bSortable===false){return}if(bN.oFeatures.bProcessing){x(bN,true);setTimeout(function(){bf(bN,bP,bQ.shiftKey,bO);if(z(bN)!=="ssp"){x(bN,false)}},0)}else{bf(bN,bP,bQ.shiftKey,bO)}})}function ac(bQ){var bR=bQ.aLastSort;var bM=bQ.oClasses.sSortColumn;var bO=aG(bQ);var bP=bQ.oFeatures;var bN,bL,bS;if(bP.bSort&&bP.bSortClasses){for(bN=0,bL=bR.length;bN<bL;bN++){bS=bR[bN].src;bz(ar(bQ.aoData,"anCells",bS)).removeClass(bM+(bN<2?bN+1:3))}for(bN=0,bL=bO.length;bN<bL;bN++){bS=bO[bN].src;bz(ar(bQ.aoData,"anCells",bS)).addClass(bM+(bN<2?bN+1:3))}}bQ.aLastSort=bO}function F(bL,bQ){var bM=bL.aoColumns[bQ];var bU=M.ext.order[bM.sSortDataType];var bS;if(bU){bS=bU.call(bL.oInstance,bL,bQ,bC(bL,bQ))}var bT,bO;var bP=M.ext.type.order[bM.sType+"-pre"];for(var bN=0,bR=bL.aoData.length;bN<bR;bN++){bT=bL.aoData[bN];if(!bT._aSortData){bT._aSortData=[]}if(!bT._aSortData[bQ]||bU){bO=bU?bS[bN]:bq(bL,bN,bQ,"sort");bT._aSortData[bQ]=bP?bP(bO):bO}}}function bk(bO){if(!bO.oFeatures.bStateSave||bO.bDestroying){return}var bN,bL;var bM={iCreate:+new Date(),iStart:bO._iDisplayStart,iLength:bO._iDisplayLength,aaSorting:bz.extend(true,[],bO.aaSorting),oSearch:bz.extend(true,{},bO.oPreviousSearch),aoSearchCols:bz.extend(true,[],bO.aoPreSearchCols),abVisCols:ar(bO.aoColumns,"bVisible")};K(bO,"aoStateSaveParams","stateSaveParams",[bO,bM]);bO.fnStateSaveCallback.call(bO.oInstance,bO,bM)}function bI(bM,bS){var bQ,bT;var bO=bM.aoColumns;if(!bM.oFeatures.bStateSave){return}var bL=bM.fnStateLoadCallback.call(bM.oInstance,bM);if(!bL){return}var bR=K(bM,"aoStateLoadParams","stateLoadParams",[bM,bL]);if(bz.inArray(false,bR)!==-1){return}var bP=bM.iStateDuration;if(bP>0&&bL.iCreate<+new Date()-(bP*1000)){return}if(bO.length!==bL.aoSearchCols.length){return}bM.oLoadedState=bz.extend(true,{},bL);bM._iDisplayStart=bL.iStart;bM.iInitDisplayStart=bL.iStart;bM._iDisplayLength=bL.iLength;bM.aaSorting=bz.map(bL.aaSorting,function(bU,bV){return bU[0]>=bO.length?[0,bU[1]]:bU});bz.extend(bM.oPreviousSearch,bL.oSearch);bz.extend(true,bM.aoPreSearchCols,bL.aoSearchCols);var bN=bL.abVisCols;for(bQ=0,bT=bN.length;bQ<bT;bQ++){bO[bQ].bVisible=bN[bQ]}K(bM,"aoStateLoaded","stateLoaded",[bM,bL])}function al(bN){var bM=M.settings;var bL=bz.inArray(bN,ar(bM,"nTable"));return bL!==-1?bM[bL]:null}function aL(bO,bQ,bP,bL){bP="DataTables warning: "+(bO!==null?"table id="+bO.sTableId+" - ":"")+bP;if(bL){bP+=". For more information about this error, please see http://datatables.net/tn/"+bL}if(!bQ){var bN=M.ext;var bM=bN.sErrMode||bN.errMode;if(bM=="alert"){alert(bP)}else{throw new Error(bP)}}else{if(c.console&&console.log){console.log(bP)}}}function Q(bM,bO,bL,bN){if(bz.isArray(bL)){bz.each(bL,function(bP,bQ){if(bz.isArray(bQ)){Q(bM,bO,bQ[0],bQ[1])}else{Q(bM,bO,bQ)}});return}if(bN===d){bN=bL}if(bO[bL]!==d){bM[bN]=bO[bL]}}function aV(bL,bN,bM){var bO;for(var bP in bN){if(bN.hasOwnProperty(bP)){bO=bN[bP];if(bz.isPlainObject(bO)){if(!bz.isPlainObject(bL[bP])){bL[bP]={}}bz.extend(true,bL[bP],bO)}else{if(bM&&bP!=="data"&&bP!=="aaData"&&bz.isArray(bO)){bL[bP]=bO.slice()}else{bL[bP]=bO}}}}return bL}function a8(bN,bM,bL){bz(bN).bind("click.DT",bM,function(bO){bN.blur();bL(bO)}).bind("keypress.DT",bM,function(bO){if(bO.which===13){bO.preventDefault();bL(bO)}}).bind("selectstart.DT",function(){return false})}function bH(bO,bM,bL,bN){if(bL){bO[bM].push({fn:bL,sName:bN})}}function K(bN,bP,bO,bM){var bL=[];if(bP){bL=bz.map(bN[bP].slice().reverse(),function(bR,bQ){return bR.fn.apply(bN.oInstance,bM)})}if(bO!==null){bz(bN.nTable).trigger(bO+".dt",bM)}return bL}function bh(bN){var bO=bN._iDisplayStart,bM=bN.fnDisplayEnd(),bL=bN._iDisplayLength;if(bM===bN.fnRecordsDisplay()){bO=bM-bL}if(bL===-1||bO<0){bO=0}bN._iDisplayStart=bO}function R(bM,bL){var bO=bM.renderer;var bN=M.ext.renderer[bL];if(bz.isPlainObject(bO)&&bO[bL]){return bN[bO[bL]]||bN._}else{if(typeof bO==="string"){return bN[bO]||bN._}}return bN._}function z(bL){if(bL.oFeatures.bServerSide){return"ssp"}else{if(bL.ajax||bL.sAjaxSource){return"ajax"}}return"dom"}M=function(bN){this.$=function(bR,bQ){return this.api(true).$(bR,bQ)};this._=function(bR,bQ){return this.api(true).rows(bR,bQ).data()};this.api=function(bQ){return bQ?new I(al(this[H.iApiIndex])):new I(this)};this.fnAddData=function(bS,bT){var bQ=this.api(true);var bR=bz.isArray(bS)&&(bz.isArray(bS[0])||bz.isPlainObject(bS[0]))?bQ.rows.add(bS):bQ.row.add(bS);if(bT===d||bT){bQ.draw()}return bR.flatten().toArray()};this.fnAdjustColumnSizing=function(bT){var bS=this.api(true).columns.adjust();var bR=bS.settings()[0];var bQ=bR.oScroll;if(bT===d||bT){bS.draw(false)}else{if(bQ.sX!==""||bQ.sY!==""){n(bR)}}};this.fnClearTable=function(bR){var bQ=this.api(true).clear();if(bR===d||bR){bQ.draw()}};this.fnClose=function(bQ){this.api(true).row(bQ).child.hide()};this.fnDeleteRow=function(bU,bW,bV){var bR=this.api(true);var bT=bR.rows(bU);var bQ=bT.settings()[0];var bS=bQ.aoData[bT[0][0]];bT.remove();if(bW){bW.call(this,bQ,bS)}if(bV===d||bV){bR.draw()}return bS};this.fnDestroy=function(bQ){this.api(true).destroy(bQ)};this.fnDraw=function(bQ){this.api(true).draw(!bQ)};this.fnFilter=function(bU,bR,bS,bW,bV,bQ){var bT=this.api(true);if(bR===null||bR===d){bT.search(bU,bS,bW,bQ)}else{bT.column(bR).search(bU,bS,bW,bQ)}bT.draw()};this.fnGetData=function(bT,bQ){var bS=this.api(true);if(bT!==d){var bR=bT.nodeName?bT.nodeName.toLowerCase():"";return bQ!==d||bR=="td"||bR=="th"?bS.cell(bT,bQ).data():bS.row(bT).data()||null}return bS.data().toArray()};this.fnGetNodes=function(bR){var bQ=this.api(true);return bR!==d?bQ.row(bR).node():bQ.rows().nodes().flatten().toArray()};this.fnGetPosition=function(bS){var bR=this.api(true);var bT=bS.nodeName.toUpperCase();if(bT=="TR"){return bR.row(bS).index()}else{if(bT=="TD"||bT=="TH"){var bQ=bR.cell(bS).index();return[bQ.row,bQ.columnVisible,bQ.column]}}return null};this.fnIsOpen=function(bQ){return this.api(true).row(bQ).child.isShown()};this.fnOpen=function(bR,bQ,bS){return this.api(true).row(bR).child(bQ,bS).show().child()[0]};this.fnPageChange=function(bQ,bS){var bR=this.api(true).page(bQ);if(bS===d||bS){bR.draw(false)}};this.fnSetColumnVis=function(bR,bQ,bT){var bS=this.api(true).column(bR).visible(bQ);if(bT===d||bT){bS.columns.adjust().draw()}};this.fnSettings=function(){return al(this[H.iApiIndex])};this.fnSort=function(bQ){this.api(true).order(bQ).draw()};this.fnSortListener=function(bR,bQ,bS){this.api(true).order.listener(bR,bQ,bS)};this.fnUpdate=function(bU,bT,bQ,bV,bS){var bR=this.api(true);if(bQ===d||bQ===null){bR.row(bT).data(bU)}else{bR.cell(bT,bQ).data(bU)}if(bS===d||bS){bR.columns.adjust()}if(bV===d||bV){bR.draw()}return 0};this.fnVersionCheck=H.fnVersionCheck;var bO=this;var bM=bN===d;var bL=this.length;if(bM){bN={}}this.oApi=this.internal=H.internal;for(var bP in M.ext.internal){if(bP){this[bP]=af(bP)}}this.each(function(){var b7={};var b5=bL>1?aV(b7,bN,true):bN;var cd=0,cb,cc,cg,ca,bQ;var b0=this.getAttribute("id");var bZ=false;var b3=M.defaults;if(this.nodeName.toLowerCase()!="table"){aL(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}a0(b3);W(b3.column);Z(b3,b3,true);Z(b3.column,b3.column,true);Z(b3,b5);var bW=M.settings;for(cd=0,cb=bW.length;cd<cb;cd++){if(bW[cd].nTable==this){var b9=b5.bRetrieve!==d?b5.bRetrieve:b3.bRetrieve;var b2=b5.bDestroy!==d?b5.bDestroy:b3.bDestroy;if(bM||b9){return bW[cd].oInstance}else{if(b2){bW[cd].oInstance.fnDestroy();break}else{aL(bW[cd],0,"Cannot reinitialise DataTable",3);return}}}if(bW[cd].sTableId==this.id){bW.splice(cd,1);break}}if(b0===null||b0===""){b0="DataTables_Table_"+(M.ext._unique++);this.id=b0}var bX=bz.extend(true,{},M.models.oSettings,{nTable:this,oApi:bO.internal,oInit:b5,sDestroyWidth:bz(this)[0].style.width,sInstance:b0,sTableId:b0});bW.push(bX);bX.oInstance=(bO.length===1)?bO:bz(this).dataTable();a0(b5);if(b5.oLanguage){aQ(b5.oLanguage)}if(b5.aLengthMenu&&!b5.iDisplayLength){b5.iDisplayLength=bz.isArray(b5.aLengthMenu[0])?b5.aLengthMenu[0][0]:b5.aLengthMenu[0]}b5=aV(bz.extend(true,{},b3),b5);Q(bX.oFeatures,b5,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);Q(bX,b5,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);Q(bX.oScroll,b5,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);Q(bX.oLanguage,b5,"fnInfoCallback");bH(bX,"aoDrawCallback",b5.fnDrawCallback,"user");bH(bX,"aoServerParams",b5.fnServerParams,"user");bH(bX,"aoStateSaveParams",b5.fnStateSaveParams,"user");bH(bX,"aoStateLoadParams",b5.fnStateLoadParams,"user");bH(bX,"aoStateLoaded",b5.fnStateLoaded,"user");bH(bX,"aoRowCallback",b5.fnRowCallback,"user");bH(bX,"aoRowCreatedCallback",b5.fnCreatedRow,"user");bH(bX,"aoHeaderCallback",b5.fnHeaderCallback,"user");bH(bX,"aoFooterCallback",b5.fnFooterCallback,"user");bH(bX,"aoInitComplete",b5.fnInitComplete,"user");bH(bX,"aoPreDrawCallback",b5.fnPreDrawCallback,"user");var b1=bX.oClasses;if(b5.bJQueryUI){bz.extend(b1,M.ext.oJUIClasses,b5.oClasses);if(b5.sDom===b3.sDom&&b3.sDom==="lfrtip"){bX.sDom='<"H"lfr>t<"F"ip>'}if(!bX.renderer){bX.renderer="jqueryui"}else{if(bz.isPlainObject(bX.renderer)&&!bX.renderer.header){bX.renderer.header="jqueryui"}}}else{bz.extend(b1,M.ext.classes,b5.oClasses)}bz(this).addClass(b1.sTable);if(bX.oScroll.sX!==""||bX.oScroll.sY!==""){bX.oScroll.iBarWidth=a7()}if(bX.oScroll.sX===true){bX.oScroll.sX="100%"}if(bX.iInitDisplayStart===d){bX.iInitDisplayStart=b5.iDisplayStart;bX._iDisplayStart=b5.iDisplayStart}if(b5.iDeferLoading!==null){bX.bDeferLoading=true;var ch=bz.isArray(b5.iDeferLoading);bX._iRecordsDisplay=ch?b5.iDeferLoading[0]:b5.iDeferLoading;bX._iRecordsTotal=ch?b5.iDeferLoading[1]:b5.iDeferLoading}if(b5.oLanguage.sUrl!==""){bX.oLanguage.sUrl=b5.oLanguage.sUrl;bz.getJSON(bX.oLanguage.sUrl,null,function(cj){aQ(cj);Z(b3.oLanguage,cj);bz.extend(true,bX.oLanguage,b5.oLanguage,cj);i(bX)});bZ=true}else{bz.extend(true,bX.oLanguage,b5.oLanguage)}if(b5.asStripeClasses===null){bX.asStripeClasses=[b1.sStripeOdd,b1.sStripeEven]}var ce=bX.asStripeClasses;var bV=bz("tbody tr:eq(0)",this);if(bz.inArray(true,bz.map(ce,function(ck,cj){return bV.hasClass(ck)}))!==-1){bz("tbody tr",this).removeClass(ce.join(" "));bX.asDestroyStripes=ce.slice()}var b8=[];var bU;var b6=this.getElementsByTagName("thead");if(b6.length!==0){au(bX.aoHeader,b6[0]);b8=bd(bX)}if(b5.aoColumns===null){bU=[];for(cd=0,cb=b8.length;cd<cb;cd++){bU.push(null)}}else{bU=b5.aoColumns}for(cd=0,cb=bU.length;cd<cb;cd++){N(bX,b8?b8[cd]:null)}m(bX,b5.aoColumnDefs,bU,function(ck,cj){aY(bX,ck,cj)});if(bV.length){var ci=function(cj,ck){return cj.getAttribute("data-"+ck)?ck:null};bz.each(bb(bX,bV[0]).cells,function(cm,cj){var ck=bX.aoColumns[cm];if(ck.mData===cm){var cl=ci(cj,"sort")||ci(cj,"order");var cn=ci(cj,"filter")||ci(cj,"search");if(cl!==null||cn!==null){ck.mData={_:cm+".display",sort:cl!==null?cm+".@data-"+cl:d,type:cl!==null?cm+".@data-"+cl:d,filter:cn!==null?cm+".@data-"+cn:d};aY(bX,cm)}}})}var bY=bX.oFeatures;if(b5.bStateSave){bY.bStateSave=true;bI(bX,b5);bH(bX,"aoDrawCallback",bk,"state_save")}if(b5.aaSorting===d){var bT=bX.aaSorting;for(cd=0,cb=bT.length;cd<cb;cd++){bT[cd][1]=bX.aoColumns[cd].asSorting[0]}}ac(bX);if(bY.bSort){bH(bX,"aoDrawCallback",function(){if(bX.bSorted){var cj=aG(bX);var ck={};bz.each(cj,function(cl,cm){ck[cm.src]=cm.dir});K(bX,null,"order",[bX,cj,ck]);a9(bX)}})}bH(bX,"aoDrawCallback",function(){if(bX.bSorted||z(bX)==="ssp"||bY.bDeferRender){ac(bX)}},"sc");ba(bX);var bS=bz(this).children("caption").each(function(){this._captionSide=bz(this).css("caption-side")});var cf=bz(this).children("thead");if(cf.length===0){cf=bz("<thead/>").appendTo(this)}bX.nTHead=cf[0];var bR=bz(this).children("tbody");if(bR.length===0){bR=bz("<tbody/>").appendTo(this)}bX.nTBody=bR[0];var b4=bz(this).children("tfoot");if(b4.length===0&&bS.length>0&&(bX.oScroll.sX!==""||bX.oScroll.sY!=="")){b4=bz("<tfoot/>").appendTo(this)}if(b4.length===0||b4.children().length===0){bz(this).addClass(b1.sNoFooter)}else{if(b4.length>0){bX.nTFoot=b4[0];au(bX.aoFooter,bX.nTFoot)}}if(b5.aaData){for(cd=0;cd<b5.aaData.length;cd++){aM(bX,b5.aaData[cd])}}else{if(bX.bDeferLoading||z(bX)=="dom"){bK(bX,bz(bX.nTBody).children("tr"))}}bX.aiDisplay=bX.aiDisplayMaster.slice();bX.bInitialised=true;if(bZ===false){i(bX)}});bO=null;return this};var T=[];var p=Array.prototype;var bJ=function(bN){var bL,bP;var bO=M.settings;var bM=bz.map(bO,function(bR,bQ){return bR.nTable});if(!bN){return[]}else{if(bN.nTable&&bN.oApi){return[bN]}else{if(bN.nodeName&&bN.nodeName.toLowerCase()==="table"){bL=bz.inArray(bN,bM);return bL!==-1?[bO[bL]]:null}else{if(bN&&typeof bN.settings==="function"){return bN.settings().toArray()}else{if(typeof bN==="string"){bP=bz(bN)}else{if(bN instanceof bz){bP=bN}}}}}}if(bP){return bP.map(function(bQ){bL=bz.inArray(this,bM);return bL!==-1?bO[bL]:null}).toArray()}};M.Api=I=function(bN,bP){if(!this instanceof I){throw"DT API must be constructed as a new object"}var bO=[];var bQ=function(bS){var bR=bJ(bS);if(bR){bO.push.apply(bO,bR)}};if(bz.isArray(bN)){for(var bM=0,bL=bN.length;bM<bL;bM++){bQ(bN[bM])}}else{bQ(bN)}this.context=aE(bO);if(bP){this.push.apply(this,bP.toArray?bP.toArray():bP)}this.selector={rows:null,cols:null,opts:null};I.extend(this,this,T)};I.prototype={concat:p.concat,context:[],each:function(bN){if(p.forEach){p.forEach.call(this,bN,this)}else{for(var bM=0,bL=this.length;bM<bL;bM++){bN.call(this,this[bM],bM,this)}}return this},eq:function(bL){var bM=this.context;return bM.length>bL?new I(bM[bL],this[bL]):null},filter:function(bO){var bM=[];if(p.filter){bM=p.filter.call(this,bO,this)}else{for(var bN=0,bL=this.length;bN<bL;bN++){if(bO.call(this,this[bN],bN,this)){bM.push(this[bN])}}}return new I(this.context,bM)},flatten:function(){var bL=[];return new I(this.context,bL.concat.apply(bL,this.toArray()))},join:p.join,indexOf:p.indexOf||function(bN,bO){for(var bM=(bO||0),bL=this.length;bM<bL;bM++){if(this[bM]===bN){return bM}}return -1},iterator:function(bM,bV,bW){var bX=[],bT,bR,bY,bQ,bO,bN=this.context,b0,bU,bZ,bP=this.selector;if(typeof bM==="string"){bW=bV;bV=bM;bM=false}for(bR=0,bY=bN.length;bR<bY;bR++){if(bV==="table"){bT=bW(bN[bR],bR);if(bT!==d){bX.push(bT)}}else{if(bV==="columns"||bV==="rows"){bT=bW(bN[bR],this[bR],bR);if(bT!==d){bX.push(bT)}}else{if(bV==="column"||bV==="column-rows"||bV==="row"||bV==="cell"){bU=this[bR];if(bV==="column-rows"){b0=aN(bN[bR],bP.opts)}for(bQ=0,bO=bU.length;bQ<bO;bQ++){bZ=bU[bQ];if(bV==="cell"){bT=bW(bN[bR],bZ.row,bZ.column,bR,bQ)}else{bT=bW(bN[bR],bZ,bR,bQ,b0)}if(bT!==d){bX.push(bT)}}}}}}if(bX.length){var bS=new I(bN,bM?bX.concat.apply([],bX):bX);var bL=bS.selector;bL.rows=bP.rows;bL.cols=bP.cols;bL.opts=bP.opts;return bS}return this},lastIndexOf:p.lastIndexOf||function(bL,bM){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(bO){var bM=[];if(p.map){bM=p.map.call(this,bO,this)}else{for(var bN=0,bL=this.length;bN<bL;bN++){bM.push(bO.call(this,this[bN],bN))}}return new I(this.context,bM)},pluck:function(bL){return this.map(function(bM){return bM[bL]})},pop:p.pop,push:p.push,reduce:p.reduce||function(bL,bM){return aT(this,bL,bM,0,this.length,1)},reduceRight:p.reduceRight||function(bL,bM){return aT(this,bL,bM,this.length-1,-1,-1)},reverse:p.reverse,selector:null,shift:p.shift,sort:p.sort,splice:p.splice,toArray:function(){return p.slice.call(this)},to$:function(){return bz(this)},toJQuery:function(){return bz(this)},unique:function(){return new I(this.context,aE(this))},unshift:p.unshift};I.extend=function(bT,bP,bM){if(!bP||(!(bP instanceof I)&&!bP.__dt_wrapper)){return}var bQ,bS,bO,bL,bN,bU,bR=function(bV,bW){return function(){var bX=bV.apply(bT,arguments);I.extend(bX,bX,bW.methodExt);return bX}};for(bQ=0,bS=bM.length;bQ<bS;bQ++){bN=bM[bQ];bP[bN.name]=typeof bN.val==="function"?bR(bN.val,bN):bz.isPlainObject(bN.val)?{}:bN.val;bP[bN.name].__dt_wrapper=true;I.extend(bT,bP[bN.name],bN.propExt)}};I.register=bg=function(bN,bP){if(bz.isArray(bN)){for(var bS=0,bO=bN.length;bS<bO;bS++){I.register(bN[bS],bP)}return}var bT,bW,bQ=bN.split("."),bR=T,bV,bM;var bU=function(b0,bY){for(var bZ=0,bX=b0.length;bZ<bX;bZ++){if(b0[bZ].name===bY){return b0[bZ]}}return null};for(bT=0,bW=bQ.length;bT<bW;bT++){bM=bQ[bT].indexOf("()")!==-1;bV=bM?bQ[bT].replace("()",""):bQ[bT];var bL=bU(bR,bV);if(!bL){bL={name:bV,val:{},methodExt:[],propExt:[]};bR.push(bL)}if(bT===bW-1){bL.val=bP}else{bR=bM?bL.methodExt:bL.propExt}}if(I.ready){M.api.build()}};I.registerPlural=az=function(bL,bN,bM){I.register(bL,bM);I.register(bN,function(){var bO=bM.apply(this,arguments);if(bO===this){return this}else{if(bO instanceof I){return bO.length?bz.isArray(bO[0])?new I(bO.context,bO[0]):bO[0]:d}}return bO})};var e=function(bL,bM){if(typeof bL==="number"){return[bM[bL]]}var bN=bz.map(bM,function(bP,bO){return bP.nTable});return bz(bN).filter(bL).map(function(bP){var bO=bz.inArray(this,bN);return bM[bO]}).toArray()};bg("tables()",function(bL){return bL?new I(e(bL,this.context)):this});bg("table()",function(bL){var bN=this.tables(bL);var bM=bN.context;return bM.length?new I(bM[0]):bN});az("tables().nodes()","table().node()",function(){return this.iterator("table",function(bL){return bL.nTable})});az("tables().body()","table().body()",function(){return this.iterator("table",function(bL){return bL.nTBody})});az("tables().header()","table().header()",function(){return this.iterator("table",function(bL){return bL.nTHead})});az("tables().footer()","table().footer()",function(){return this.iterator("table",function(bL){return bL.nTFoot})});bg("draw()",function(bL){return this.iterator("table",function(bM){ag(bM,bL===false)})});bg("page()",function(bL){if(bL===d){return this.page.info().page}return this.iterator("table",function(bM){aD(bM,bL)})});bg("page.info()",function(bP){if(this.context.length===0){return d}var bO=this.context[0],bQ=bO._iDisplayStart,bL=bO._iDisplayLength,bM=bO.fnRecordsDisplay(),bN=bL===-1;return{page:bN?0:Math.floor(bQ/bL),pages:bN?1:Math.ceil(bM/bL),start:bQ,end:bO.fnDisplayEnd(),length:bL,recordsTotal:bO.fnRecordsTotal(),recordsDisplay:bM}});bg("page.len()",function(bL){if(bL===d){return this.context.length!==0?this.context[0]._iDisplayLength:d}return this.iterator("table",function(bM){aR(bM,bL)})});var G=function(bN,bL,bO){if(z(bN)=="ssp"){ag(bN,bL)}else{x(bN,true);at(bN,[],function(bR){be(bN);var bS=bp(bN,bR);for(var bQ=0,bP=bS.length;bQ<bP;bQ++){aM(bN,bS[bQ])}ag(bN,bL);x(bN,false)})}if(bO){var bM=new I(bN);bM.one("draw",function(){bO(bM.ajax.json())})}};bg("ajax.json()",function(){var bL=this.context;if(bL.length>0){return bL[0].json}});bg("ajax.params()",function(){var bL=this.context;if(bL.length>0){return bL[0].oAjaxData}});bg("ajax.reload()",function(bM,bL){return this.iterator("table",function(bN){G(bN,bL===false,bM)})});bg("ajax.url()",function(bM){var bL=this.context;if(bM===d){if(bL.length===0){return d}bL=bL[0];return bL.ajax?bz.isPlainObject(bL.ajax)?bL.ajax.url:bL.ajax:bL.sAjaxSource}return this.iterator("table",function(bN){if(bz.isPlainObject(bN.ajax)){bN.ajax.url=bM}else{bN.ajax=bM}})});bg("ajax.url().load()",function(bM,bL){return this.iterator("table",function(bN){G(bN,bL===false,bM)})});var an=function(bM,bS){var bN=[],bQ,bR,bP,bT,bO,bL;if(!bM||typeof bM==="string"||bM.length===d){bM=[bM]}for(bP=0,bT=bM.length;bP<bT;bP++){bR=bM[bP]&&bM[bP].split?bM[bP].split(","):[bM[bP]];for(bO=0,bL=bR.length;bO<bL;bO++){bQ=bS(typeof bR[bO]==="string"?bz.trim(bR[bO]):bR[bO]);if(bQ&&bQ.length){bN.push.apply(bN,bQ)}}}return bN};var by=function(bL){if(!bL){bL={}}if(bL.filter&&!bL.search){bL.search=bL.filter}return{search:bL.search||"none",order:bL.order||"current",page:bL.page||"all"}};var A=function(bN){for(var bM=0,bL=bN.length;bM<bL;bM++){if(bN[bM].length>0){bN[0]=bN[bM];bN.length=1;bN.context=[bN.context[bM]];return bN}}bN.length=0;return bN};var aN=function(bN,bL){var bO,bU,bP,bS=[],bT=bN.aiDisplay,bQ=bN.aiDisplayMaster;var bV=bL.search,bM=bL.order,bR=bL.page;if(z(bN)=="ssp"){return bV==="removed"?[]:bc(0,bQ.length)}else{if(bR=="current"){for(bO=bN._iDisplayStart,bU=bN.fnDisplayEnd();bO<bU;bO++){bS.push(bT[bO])}}else{if(bM=="current"||bM=="applied"){bS=bV=="none"?bQ.slice():bV=="applied"?bT.slice():bz.map(bQ,function(bX,bW){return bz.inArray(bX,bT)===-1?bX:null})}else{if(bM=="index"||bM=="original"){for(bO=0,bU=bN.aoData.length;bO<bU;bO++){if(bV=="none"){bS.push(bO)}else{bP=bz.inArray(bO,bT);if((bP===-1&&bV=="removed")||(bP===1&&bV=="applied")){bS.push(bO)}}}}}}}return bS};var D=function(bM,bL,bN){return an(bL,function(bT){var bQ=E(bT);if(bQ!==null&&!bN){return[bQ]}var bS=aN(bM,bN);if(bQ!==null&&bz.inArray(bQ,bS)!==-1){return[bQ]}else{if(!bT){return bS}}var bP=[];for(var bR=0,bO=bS.length;bR<bO;bR++){bP.push(bM.aoData[bS[bR]].nTr)}if(bT.nodeName){if(bz.inArray(bT,bP)!==-1){return[bT._DT_RowIndex]}}return bz(bP).filter(bT).map(function(){return this._DT_RowIndex}).toArray()})};bg("rows()",function(bL,bM){if(bL===d){bL=""}else{if(bz.isPlainObject(bL)){bM=bL;bL=""}}bM=by(bM);var bN=this.iterator("table",function(bO){return D(bO,bL,bM)});bN.selector.rows=bL;bN.selector.opts=bM;return bN});bg("rows().nodes()",function(){return this.iterator("row",function(bL,bM){return bL.aoData[bM].nTr||d})});bg("rows().data()",function(){return this.iterator(true,"rows",function(bL,bM){return t(bL.aoData,bM,"_aData")})});az("rows().cache()","row().cache()",function(bL){return this.iterator("row",function(bM,bO){var bN=bM.aoData[bO];return bL==="search"?bN._aFilterData:bN._aSortData})});az("rows().invalidate()","row().invalidate()",function(bL){return this.iterator("row",function(bM,bN){aF(bM,bN,bL)})});az("rows().indexes()","row().index()",function(){return this.iterator("row",function(bL,bM){return bM})});az("rows().remove()","row().remove()",function(){var bL=this;return this.iterator("row",function(bQ,bS,bP){var bR=bQ.aoData;bR.splice(bS,1);for(var bO=0,bN=bR.length;bO<bN;bO++){if(bR[bO].nTr!==null){bR[bO].nTr._DT_RowIndex=bO}}var bM=bz.inArray(bS,bQ.aiDisplay);a1(bQ.aiDisplayMaster,bS);a1(bQ.aiDisplay,bS);a1(bL[bP],bS,false);bh(bQ)})});bg("rows.add()",function(bN){var bM=this.iterator("table",function(bR){var bS,bQ,bO;var bP=[];for(bQ=0,bO=bN.length;bQ<bO;bQ++){bS=bN[bQ];if(bS.nodeName&&bS.nodeName.toUpperCase()==="TR"){bP.push(bK(bR,bS)[0])}else{bP.push(aM(bR,bS))}}return bP});var bL=this.rows(-1);bL.pop();bL.push.apply(bL,bM.toArray());return bL});bg("row()",function(bL,bM){return A(this.rows(bL,bM))});bg("row().data()",function(bM){var bL=this.context;if(bM===d){return bL.length&&this.length?bL[0].aoData[this[0]]._aData:d}bL[0].aoData[this[0]]._aData=bM;aF(bL[0],this[0],"data");return this});bg("row().node()",function(){var bL=this.context;return bL.length&&this.length?bL[0].aoData[this[0]].nTr||null:null});bg("row.add()",function(bM){if(bM instanceof bz&&bM.length){bM=bM[0]}var bL=this.iterator("table",function(bN){if(bM.nodeName&&bM.nodeName.toUpperCase()==="TR"){return bK(bN,bM)[0]}return aM(bN,bM)});return this.row(bL[0])});var Y=function(bO,bS,bR,bL){var bQ=[];var bN=function(bU,bT){if(bU.nodeName&&bU.nodeName.toLowerCase()==="tr"){bQ.push(bU)}else{var bV=bz("<tr><td/></tr>");bz("td",bV).addClass(bT).html(bU)[0].colSpan=aO(bO);bQ.push(bV[0])}};if(bz.isArray(bR)||bR instanceof bz){for(var bP=0,bM=bR.length;bP<bM;bP++){bN(bR[bP],bL)}}else{bN(bR,bL)}if(bS._details){bS._details.remove()}bS._details=bz(bQ);if(bS._detailsShow){bS._details.insertAfter(bS.nTr)}};var a6=function(bM){var bL=this.context;if(bL.length&&this.length){var bN=bL[0].aoData[this[0]];if(bN._details){bN._detailsShow=bM;if(bM){bN._details.insertAfter(bN.nTr)}else{bN._details.remove()}bs(bL[0])}}return this};var bs=function(bP){var bO=new I(bP);var bN=".dt.DT_details";var bM="draw"+bN;var bL="column-visibility"+bN;bO.off(bM+" "+bL);if(ar(bP.aoData,"_details").length>0){bO.on(bM,function(){bO.rows({page:"current"}).eq(0).each(function(bQ){var bR=bP.aoData[bQ];if(bR._detailsShow){bR._details.insertAfter(bR.nTr)}})});bO.on(bL,function(bV,bT,bQ,bU){var bX,bW=aO(bT);for(var bS=0,bR=bT.aoData.length;bS<bR;bS++){bX=bT.aoData[bS];if(bX._details){bX._details.children("td[colspan]").attr("colspan",bW)}}})}};bg("row().child()",function(bN,bL){var bM=this.context;if(bN===d){return bM.length&&this.length?bM[0].aoData[this[0]]._details:d}else{if(bM.length&&this.length){Y(bM[0],bM[0].aoData[this[0]],bN,bL)}}return this});bg(["row().child.show()","row().child().show()"],function(){a6.call(this,true);return this});bg(["row().child.hide()","row().child().hide()"],function(){a6.call(this,false);return this});bg("row().child.isShown()",function(){var bL=this.context;if(bL.length&&this.length){return bL[0].aoData[this[0]]._detailsShow||false}return false});var a5=/^(.*):(name|visIdx|visible)$/;var bw=function(bO,bL,bP){var bN=bO.aoColumns,bQ=ar(bN,"sName"),bM=ar(bN,"nTh");return an(bL,function(bV){var bS=E(bV);if(bV===""){return bc(bN.length)}else{if(bS!==null){return[bS>=0?bS:bN.length+bS]}else{var bT=typeof bV==="string"?bV.match(a5):"";if(bT){switch(bT[2]){case"visIdx":case"visible":var bR=parseInt(bT[1],10);if(bR<0){var bU=bz.map(bN,function(bW,bX){return bW.bVisible?bX:null});return[bU[bU.length+bR]]}return[s(bO,bR)];case"name":return bz.map(bQ,function(bW,bX){return bW===bT[1]?bX:null})}}else{return bz(bM).filter(bV).map(function(){return bz.inArray(this,bM)}).toArray()}}}})};var L=function(bN,bO,bL){var bT=bN.aoColumns,bM=bT[bO],bQ=bN.aoData,bW,bV,bP,bU,bS;if(bL===d){return bM.bVisible}if(bM.bVisible===bL){return}if(bL){var bR=bz.inArray(true,ar(bT,"bVisible"),bO+1);for(bP=0,bU=bQ.length;bP<bU;bP++){bS=bQ[bP].nTr;bV=bQ[bP].anCells;if(bS){bS.insertBefore(bV[bO],bV[bR]||null)}}}else{bz(ar(bN.aoData,"anCells",bO)).detach();bM.bVisible=false;a2(bN,bN.aoHeader);a2(bN,bN.aoFooter);bk(bN)}bM.bVisible=bL;a2(bN,bN.aoHeader);a2(bN,bN.aoFooter);aH(bN);if(bN.oScroll.sX||bN.oScroll.sY){n(bN)}K(bN,null,"column-visibility",[bN,bO,bL]);bk(bN)};bg("columns()",function(bL,bM){if(bL===d){bL=""}else{if(bz.isPlainObject(bL)){bM=bL;bL=""}}bM=by(bM);var bN=this.iterator("table",function(bO){return bw(bO,bL,bM)});bN.selector.cols=bL;bN.selector.opts=bM;return bN});az("columns().header()","column().header()",function(bL,bM){return this.iterator("column",function(bO,bN){return bO.aoColumns[bN].nTh})});az("columns().footer()","column().footer()",function(bL,bM){return this.iterator("column",function(bO,bN){return bO.aoColumns[bN].nTf})});az("columns().data()","column().data()",function(){return this.iterator("column-rows",function(bQ,bP,bO,bN,bR){var bM=[];for(var bS=0,bL=bR.length;bS<bL;bS++){bM.push(bq(bQ,bR[bS],bP,""))}return bM})});az("columns().cache()","column().cache()",function(bL){return this.iterator("column-rows",function(bP,bO,bN,bM,bQ){return t(bP.aoData,bQ,bL==="search"?"_aFilterData":"_aSortData",bO)})});az("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(bO,bN,bM,bL,bP){return t(bO.aoData,bP,"anCells",bN)})});az("columns().visible()","column().visible()",function(bL){return this.iterator("column",function(bN,bM){return bL===d?bN.aoColumns[bM].bVisible:L(bN,bM,bL)})});az("columns().indexes()","column().index()",function(bL){return this.iterator("column",function(bN,bM){return bL==="visible"?bC(bN,bM):bM})});bg("columns.adjust()",function(){return this.iterator("table",function(bL){aH(bL)})});bg("column.index()",function(bN,bL){if(this.context.length!==0){var bM=this.context[0];if(bN==="fromVisible"||bN==="toData"){return s(bM,bL)}else{if(bN==="fromData"||bN==="toVisible"){return bC(bM,bL)}}}});bg("column()",function(bL,bM){return A(this.columns(bL,bM))});var bm=function(bN,bO,bL){var bR=bN.aoData;var bX=aN(bN,bL);var bV=t(bR,bX,"anCells");var bU=bz([].concat.apply([],bV));var bW;var bM=bN.aoColumns.length;var bS,bQ,bT,bP;return an(bO,function(bY){if(!bY){bS=[];for(bQ=0,bT=bX.length;bQ<bT;bQ++){bW=bX[bQ];for(bP=0;bP<bM;bP++){bS.push({row:bW,column:bP})}}return bS}else{if(bz.isPlainObject(bY)){return[bY]}}return bU.filter(bY).map(function(bZ,b0){bW=b0.parentNode._DT_RowIndex;return{row:bW,column:bz.inArray(b0,bR[bW].anCells)}}).toArray()})};bg("cells()",function(bO,bL,bM){if(bz.isPlainObject(bO)){if(bO.row){bM=bL;bL=null}else{bM=bO;bO=null}}if(bz.isPlainObject(bL)){bM=bL;bL=null}if(bL===null||bL===d){return this.iterator("table",function(bW){return bm(bW,bO,by(bM))})}var bP=this.columns(bL,bM);var bV=this.rows(bO,bM);var bS,bR,bT,bQ,bN;var bU=this.iterator("table",function(bX,bW){bS=[];for(bR=0,bT=bV[bW].length;bR<bT;bR++){for(bQ=0,bN=bP[bW].length;bQ<bN;bQ++){bS.push({row:bV[bW][bR],column:bP[bW][bQ]})}}return bS});bz.extend(bU.selector,{cols:bL,rows:bO,opts:bM});return bU});az("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(bM,bN,bL){return bM.aoData[bN].anCells[bL]})});bg("cells().data()",function(){return this.iterator("cell",function(bM,bN,bL){return bq(bM,bN,bL)})});az("cells().cache()","cell().cache()",function(bL){bL=bL==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(bN,bO,bM){return bN.aoData[bO][bL][bM]})});az("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(bM,bN,bL){return{row:bN,column:bL,columnVisible:bC(bM,bL)}})});bg(["cells().invalidate()","cell().invalidate()"],function(bM){var bL=this.selector;this.rows(bL.rows,bL.opts).invalidate(bM);return this});bg("cell()",function(bL,bN,bM){return A(this.cells(bL,bN,bM))});bg("cell().data()",function(bN){var bM=this.context;var bL=this[0];if(bN===d){return bM.length&&bL.length?bq(bM[0],bL[0].row,bL[0].column):d}bi(bM[0],bL[0].row,bL[0].column,bN);aF(bM[0],bL[0].row,"data",bL[0].column);return this});bg("order()",function(bL,bN){var bM=this.context;if(bL===d){return bM.length!==0?bM[0].aaSorting:d}if(typeof bL==="number"){bL=[[bL,bN]]}else{if(!bz.isArray(bL[0])){bL=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(bO){bO.aaSorting=bL.slice()})});bg("order.listener()",function(bM,bL,bN){return this.iterator("table",function(bO){B(bO,bM,bL,bN)})});bg(["columns().order()","column().order()"],function(bL){var bM=this;return this.iterator("table",function(bP,bO){var bN=[];bz.each(bM[bO],function(bR,bQ){bN.push([bQ,bL])});bP.aaSorting=bN})});bg("search()",function(bM,bO,bP,bN){var bL=this.context;if(bM===d){return bL.length!==0?bL[0].oPreviousSearch.sSearch:d}return this.iterator("table",function(bQ){if(!bQ.oFeatures.bFilter){return}u(bQ,bz.extend({},bQ.oPreviousSearch,{sSearch:bM+"",bRegex:bO===null?false:bO,bSmart:bP===null?true:bP,bCaseInsensitive:bN===null?true:bN}),1)})});bg(["columns().search()","column().search()"],function(bL,bN,bO,bM){return this.iterator("column",function(bR,bQ){var bP=bR.aoPreSearchCols;if(bL===d){return bP[bQ].sSearch}if(!bR.oFeatures.bFilter){return}bz.extend(bP[bQ],{sSearch:bL+"",bRegex:bN===null?false:bN,bSmart:bO===null?true:bO,bCaseInsensitive:bM===null?true:bM});u(bR,bR.oPreviousSearch,1)})});M.versionCheck=M.fnVersionCheck=function(bN){var bR=M.version.split(".");var bO=bN.split(".");var bM,bQ;for(var bP=0,bL=bO.length;bP<bL;bP++){bM=parseInt(bR[bP],10)||0;bQ=parseInt(bO[bP],10)||0;if(bM===bQ){continue}return bM>bQ}return true};M.isDataTable=M.fnIsDataTable=function(bN){var bL=bz(bN).get(0);var bM=false;bz.each(M.settings,function(bO,bP){if(bP.nTable===bL||bP.nScrollHead===bL||bP.nScrollFoot===bL){bM=true}});return bM};M.tables=M.fnTables=function(bL){return jQuery.map(M.settings,function(bM){if(!bL||(bL&&bz(bM.nTable).is(":visible"))){return bM.nTable}})};M.camelToHungarian=Z;bg("$()",function(bL,bN){var bO=this.rows(bN).nodes(),bM=bz(bO);return bz([].concat(bM.filter(bL).toArray(),bM.find(bL).toArray()))});bz.each(["on","one","off"],function(bM,bL){bg(bL+"()",function(){var bN=Array.prototype.slice.call(arguments);if(bN[0].indexOf(".dt")===-1){bN[0]+=".dt"}var bO=bz(this.tables().nodes());bO[bL].apply(bO,bN);return this})});bg("clear()",function(){return this.iterator("table",function(bL){be(bL)})});bg("settings()",function(){return new I(this.context,this.context)});bg("data()",function(){return this.iterator("table",function(bL){return ar(bL.aoData,"_aData")}).flatten()});bg("destroy()",function(bL){bL=bL||false;return this.iterator("table",function(bM){var bV=bM.nTableWrapper.parentNode;var bN=bM.oClasses;var bX=bM.nTable;var bQ=bM.nTBody;var bS=bM.nTHead;var bT=bM.nTFoot;var bY=bz(bX);var bP=bz(bQ);var bR=bz(bM.nTableWrapper);var bZ=bz.map(bM.aoData,function(b0){return b0.nTr});var bO,bW;bM.bDestroying=true;K(bM,"aoDestroyCallback","destroy",[bM]);if(!bL){new I(bM).columns().visible(true)}bR.unbind(".DT").find(":not(tbody *)").unbind(".DT");bz(c).unbind(".DT-"+bM.sInstance);if(bX!=bS.parentNode){bY.children("thead").detach();bY.append(bS)}if(bT&&bX!=bT.parentNode){bY.children("tfoot").detach();bY.append(bT)}bY.detach();bR.detach();bM.aaSorting=[];bM.aaSortingFixed=[];ac(bM);bz(bZ).removeClass(bM.asStripeClasses.join(" "));bz("th, td",bS).removeClass(bN.sSortable+" "+bN.sSortableAsc+" "+bN.sSortableDesc+" "+bN.sSortableNone);if(bM.bJUI){bz("th span."+bN.sSortIcon+", td span."+bN.sSortIcon,bS).detach();bz("th, td",bS).each(function(){var b0=bz("div."+bN.sSortJUIWrapper,this);bz(this).append(b0.contents());b0.detach()})}if(!bL&&bV){bV.insertBefore(bX,bM.nTableReinsertBefore)}bP.children().detach();bP.append(bZ);bY.css("width",bM.sDestroyWidth).removeClass(bN.sTable);bW=bM.asDestroyStripes.length;if(bW){bP.children().each(function(b0){bz(this).addClass(bM.asDestroyStripes[b0%bW])})}var bU=bz.inArray(bM,M.settings);if(bU!==-1){M.settings.splice(bU,1)}})});M.version="1.10.0";M.settings=[];M.models={};M.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};M.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};M.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};M.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(bL){return bL.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(bL){try{return JSON.parse((bL.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+bL.sInstance+"_"+location.pathname))}catch(bM){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(bL,bM){try{(bL.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+bL.sInstance+"_"+location.pathname,JSON.stringify(bM))}catch(bN){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:bz.extend({},M.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};S(M.defaults);M.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};S(M.defaults.column);M.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:d,oAjaxData:d,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return z(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return z(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var bL=this._iDisplayLength,bQ=this._iDisplayStart,bN=bQ+bL,bM=this.aiDisplay.length,bO=this.oFeatures,bP=bO.bPaginate;if(bO.bServerSide){return bP===false||bL===-1?bQ+bM:Math.min(bQ+bL,this._iRecordsDisplay)}else{return !bP||bN>bM||bL===-1?bM:bN}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};M.ext=H={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:M.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:M.version};bz.extend(H,{afnFiltering:H.search,aTypes:H.type.detect,ofnSearch:H.type.search,oSort:H.type.order,afnSortData:H.order,aoFeatures:H.feature,oApi:H.internal,oStdClasses:H.classes,oPagination:H.pager});bz.extend(M.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var bM="";bM="";var bN=bM+"ui-state-default";var bO=bM+"css_right ui-icon ui-icon-";var bL=bM+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";bz.extend(M.ext.oJUIClasses,M.ext.classes,{sPageButton:"fg-button ui-button "+bN,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:bN+" sorting_asc",sSortDesc:bN+" sorting_desc",sSortable:bN+" sorting",sSortableAsc:bN+" sorting_asc_disabled",sSortableDesc:bN+" sorting_desc_disabled",sSortableNone:bN+" sorting_disabled",sSortJUIAsc:bO+"triangle-1-n",sSortJUIDesc:bO+"triangle-1-s",sSortJUI:bO+"carat-2-n-s",sSortJUIAscAllowed:bO+"carat-1-n",sSortJUIDescAllowed:bO+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+bN,sScrollFoot:"dataTables_scrollFoot "+bN,sHeaderTH:bN,sFooterTH:bN,sJUIHeader:bL+" ui-corner-tl ui-corner-tr",sJUIFooter:bL+" ui-corner-bl ui-corner-br"})}());var bD=M.ext.pager;function bj(bQ,bL){var bM=[],bO=bD.numbers_length,bP=Math.floor(bO/2),bN=1;if(bL<=bO){bM=bc(0,bL)}else{if(bQ<=bP){bM=bc(0,bO-2);bM.push("ellipsis");bM.push(bL-1)}else{if(bQ>=bL-1-bP){bM=bc(bL-(bO-2),bL);bM.splice(0,0,"ellipsis");bM.splice(0,0,0)}else{bM=bc(bQ-1,bQ+2);bM.push("ellipsis");bM.push(bL-1);bM.splice(0,0,"ellipsis");bM.splice(0,0,0)}}}bM.DT_el="span";return bM}bz.extend(bD,{simple:function(bM,bL){return["previous","next"]},full:function(bM,bL){return["first","previous","next","last"]},simple_numbers:function(bM,bL){return["previous",bj(bM,bL),"next"]},full_numbers:function(bM,bL){return["first","previous",bj(bM,bL),"next","last"]},_numbers:bj,numbers_length:7});bz.extend(true,M.ext.renderer,{pageButton:{_:function(bR,bX,bW,bV,bU,bP){var bS=bR.oClasses;var bO=bR.oLanguage.oPaginate;var bN,bM,bL=0;var bT=function(bZ,b4){var b2,bY,b3,b1;var b5=function(b6){aD(bR,b6.data.action,true)};for(b2=0,bY=b4.length;b2<bY;b2++){b1=b4[b2];if(bz.isArray(b1)){var b0=bz("<"+(b1.DT_el||"div")+"/>").appendTo(bZ);bT(b0,b1)}else{bN="";bM="";switch(b1){case"ellipsis":bZ.append("<span>&hellip;</span>");break;case"first":bN=bO.sFirst;bM=b1+(bU>0?"":" "+bS.sPageButtonDisabled);break;case"previous":bN=bO.sPrevious;bM=b1+(bU>0?"":" "+bS.sPageButtonDisabled);break;case"next":bN=bO.sNext;bM=b1+(bU<bP-1?"":" "+bS.sPageButtonDisabled);break;case"last":bN=bO.sLast;bM=b1+(bU<bP-1?"":" "+bS.sPageButtonDisabled);break;default:bN=b1+1;bM=bU===b1?bS.sPageButtonActive:"";break}if(bN){b3=bz("<a>",{"class":bS.sPageButton+" "+bM,"aria-controls":bR.sTableId,"data-dt-idx":bL,tabindex:bR.iTabIndex,id:bW===0&&typeof b1==="string"?bR.sTableId+"_"+b1:null}).html(bN).appendTo(bZ);a8(b3,{action:b1},b5);bL++}}}};var bQ=bz(b.activeElement).data("dt-idx");bT(bz(bX).empty(),bV);if(bQ!==null){bz(bX).find("[data-dt-idx="+bQ+"]").focus()}}}});var P=function(bO,bL,bN,bM){if(!bO||bO==="-"){return -Infinity}if(bL){bO=bx(bO,bL)}if(bO.replace){if(bN){bO=bO.replace(bN,"")}if(bM){bO=bO.replace(bM,"")}}return bO*1};function bn(bL){bz.each({num:function(bM){return P(bM,bL)},"num-fmt":function(bM){return P(bM,bL,bA)},"html-num":function(bM){return P(bM,bL,aS)},"html-num-fmt":function(bM){return P(bM,bL,aS,bA)}},function(bM,bN){H.type.order[bM+bL+"-pre"]=bN})}bz.extend(H.type.order,{"date-pre":function(bL){return Date.parse(bL)||0},"html-pre":function(bL){return !bL?"":bL.replace?bL.replace(/<.*?>/g,"").toLowerCase():bL+""},"string-pre":function(bL){return typeof bL==="string"?bL.toLowerCase():!bL||!bL.toString?"":bL.toString()},"string-asc":function(bL,bM){return((bL<bM)?-1:((bL>bM)?1:0))},"string-desc":function(bL,bM){return((bL<bM)?1:((bL>bM)?-1:0))}});bn("");bz.extend(M.ext.type.detect,[function(bN,bM){var bL=bM.oLanguage.sDecimal;return ah(bN,bL)?"num"+bL:null},function(bN,bM){if(bN&&!ak.test(bN)){return null}var bL=Date.parse(bN);return(bL!==null&&!isNaN(bL))||bv(bN)?"date":null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return ah(bN,bL,true)?"num-fmt"+bL:null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return l(bN,bL)?"html-num"+bL:null},function(bN,bM){var bL=bM.oLanguage.sDecimal;return l(bN,bL,true)?"html-num-fmt"+bL:null},function(bM,bL){return bv(bM)||(typeof bM==="string"&&bM.indexOf("<")!==-1)?"html":null}]);bz.extend(M.ext.type.search,{html:function(bL){return bv(bL)?"":typeof bL==="string"?bL.replace(V," ").replace(aS,""):""},string:function(bL){return bv(bL)?"":typeof bL==="string"?bL.replace(V," "):bL}});bz.extend(true,M.ext.renderer,{header:{_:function(bO,bL,bN,bM){bz(bO.nTable).on("order.dt.DT",function(bS,bQ,bR,bP){var bT=bN.idx;bL.removeClass(bN.sSortingClass+" "+bM.sSortAsc+" "+bM.sSortDesc).addClass(bP[bT]=="asc"?bM.sSortAsc:bP[bT]=="desc"?bM.sSortDesc:bN.sSortingClass)})},jqueryui:function(bO,bL,bN,bM){var bP=bN.idx;bz("<div/>").addClass(bM.sSortJUIWrapper).append(bL.contents()).append(bz("<span/>").addClass(bM.sSortIcon+" "+bN.sSortingClassJUI)).appendTo(bL);bz(bO.nTable).on("order.dt.DT",function(bT,bR,bS,bQ){bL.removeClass(bM.sSortAsc+" "+bM.sSortDesc).addClass(bQ[bP]=="asc"?bM.sSortAsc:bQ[bP]=="desc"?bM.sSortDesc:bN.sSortingClass);bL.find("span."+bM.sSortIcon).removeClass(bM.sSortJUIAsc+" "+bM.sSortJUIDesc+" "+bM.sSortJUI+" "+bM.sSortJUIAscAllowed+" "+bM.sSortJUIDescAllowed).addClass(bQ[bP]=="asc"?bM.sSortJUIAsc:bQ[bP]=="desc"?bM.sSortJUIDesc:bN.sSortingClassJUI)})}}});M.render={number:function(bN,bM,bL,bO){return{display:function(bR){bR=parseFloat(bR);var bQ=parseInt(bR,10);var bP=bL?(bM+(bR-bQ).toFixed(bL)).substring(2):"";return(bO||"")+bQ.toString().replace(/\B(?=(\d{3})+(?!\d))/g,bN)+bP}}}};function af(bL){return function(){var bM=[al(this[M.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return M.ext.internal[bL].apply(this,bM)}}bz.extend(M.ext.internal,{_fnExternApiFunc:af,_fnBuildAjax:at,_fnAjaxUpdate:ad,_fnAjaxParameters:bF,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:bp,_fnAddColumn:N,_fnColumnOptions:aY,_fnAdjustColumnSizing:aH,_fnVisibleToColumnIndex:s,_fnColumnIndexToVisible:bC,_fnVisbleColumns:aO,_fnGetColumns:q,_fnColumnTypes:v,_fnApplyColumnDefs:m,_fnHungarianMap:S,_fnCamelToHungarian:Z,_fnLanguageCompat:aQ,_fnBrowserDetect:ba,_fnAddData:aM,_fnAddTr:bK,_fnNodeToDataIndex:bo,_fnNodeToColumnIndex:aW,_fnGetCellData:bq,_fnSetCellData:bi,_fnSplitObjNotation:ai,_fnGetObjectDataFn:am,_fnSetObjectDataFn:av,_fnGetDataMaster:bB,_fnClearTable:be,_fnDeleteIndex:a1,_fnInvalidateRow:aF,_fnGetRowElements:bb,_fnCreateTr:O,_fnBuildHead:aJ,_fnDrawHead:a2,_fnDraw:aZ,_fnReDraw:ag,_fnAddOptionsHtml:j,_fnDetectHeader:au,_fnGetUniqueThs:bd,_fnFeatureHtmlFilter:r,_fnFilterComplete:u,_fnFilterCustom:ap,_fnFilterColumn:X,_fnFilter:aw,_fnFilterCreateSearch:aU,_fnEscapeRegex:o,_fnFilterData:aC,_fnFeatureHtmlInfo:h,_fnUpdateInfo:aq,_fnInfoMacros:bl,_fnInitialise:i,_fnInitComplete:aA,_fnLengthChange:aR,_fnFeatureHtmlLength:aP,_fnFeatureHtmlPaginate:ay,_fnPageChange:aD,_fnFeatureHtmlProcessing:bu,_fnProcessingDisplay:x,_fnFeatureHtmlTable:bt,_fnScrollDraw:n,_fnApplyToChildren:a4,_fnCalculateColumnWidths:br,_fnThrottle:aj,_fnConvertToWidth:ae,_fnScrollingWidthAdjust:ax,_fnGetWidestNode:aI,_fnGetMaxLenString:aa,_fnStringToCss:bE,_fnScrollBarWidth:a7,_fnSortFlatten:aG,_fnSort:y,_fnSortAria:a9,_fnSortListener:bf,_fnSortAttachListener:B,_fnSortingClasses:ac,_fnSortData:F,_fnSaveState:bk,_fnLoadState:bI,_fnSettingsFromNode:al,_fnLog:aL,_fnMap:Q,_fnBindAction:a8,_fnCallbackReg:bH,_fnCallbackFire:K,_fnLengthOverflow:bh,_fnRenderer:R,_fnDataSource:z,_fnRowAttributes:ab,_fnCalculateEnd:function(){}});bz.fn.dataTable=M;bz.fn.dataTableSettings=M.settings;bz.fn.dataTableExt=M.ext;bz.fn.DataTable=function(bL){return bz(this).dataTable(bL).api()};bz.each(M,function(bM,bL){bz.fn.DataTable[bM]=bL});return bz.fn.dataTable}))}(window,document));(function(e,d,b){var c=function(g,f){if(!this instanceof c){alert("Scroller warning: Scroller must be initialised with the 'new' keyword.");return}if(typeof f=="undefined"){f={}}this.s={dt:g,tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,rowHeight:null,autoHeight:true,viewportHeight:0,viewportRows:0,stateTO:null,drawTO:null};this.s=e.extend(this.s,c.oDefaults,f);this.dom={force:b.createElement("div"),scroller:null,table:null};this.s.dt.oScroller=this;this._fnConstruct()};c.prototype={fnRowToPixels:function(f){return f*this.s.rowHeight},fnPixelsToRow:function(f){return parseInt(f/this.s.rowHeight,10)},fnScrollToRow:function(h,g){var f=this.fnRowToPixels(h);if(typeof g=="undefined"||g){e(this.dom.scroller).animate({scrollTop:f})}else{e(this.dom.scroller).scrollTop(f)}},fnMeasure:function(f){if(this.s.autoHeight){this._fnCalcRowHeight()}this.s.viewportHeight=e(this.dom.scroller).height();this.s.viewportRows=parseInt(this.s.viewportHeight/this.s.rowHeight,10)+1;this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer;if(this.s.trace){console.log("Row height: "+this.s.rowHeight+" Viewport height: "+this.s.viewportHeight+" Viewport rows: "+this.s.viewportRows+" Display rows: "+this.s.dt._iDisplayLength)}if(typeof f=="undefined"||f){this.s.dt.oInstance.fnDraw()}},_fnConstruct:function(){var f=this;this.dom.force.style.position="absolute";this.dom.force.style.top="0px";this.dom.force.style.left="0px";this.dom.force.style.width="1px";this.dom.scroller=e("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0];this.dom.scroller.appendChild(this.dom.force);this.dom.scroller.style.position="relative";this.dom.table=e(">table",this.dom.scroller)[0];this.dom.table.style.position="absolute";this.dom.table.style.top="0px";this.dom.table.style.left="0px";e(this.s.dt.nTableWrapper).addClass("DTS");if(this.s.loadingIndicator){e(this.dom.scroller.parentNode).css("position","relative").append('<div class="DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>")}if(this.s.rowHeight&&this.s.rowHeight!="auto"){this.s.autoHeight=false}this.fnMeasure(false);e(this.dom.scroller).scroll(function(){f._fnScroll.call(f)});e(this.dom.scroller).bind("touchstart",function(){f._fnScroll.call(f)});this.s.dt.aoDrawCallback.push({fn:function(){if(f.s.dt.bInitialised){f._fnDrawCallback.call(f)}},sName:"Scroller"});this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(g,h){h.iScroller=f.dom.scroller.scrollTop},"Scroller_State")},_fnScroll:function(){var h=this,g=this.dom.scroller.scrollTop,i;if(this.s.dt.bFiltered||this.s.dt.bSorted){return}if(this.s.trace){console.log("Scroll: "+g+"px - boundaries: "+this.s.redrawTop+" / "+this.s.redrawBottom+".  Showing rows "+this.fnPixelsToRow(g)+" to "+this.fnPixelsToRow(g+e(this.dom.scroller).height())+" in the viewport, with rows "+this.s.dt._iDisplayStart+" to "+(this.s.dt._iDisplayEnd)+" rendered by the DataTable")}this._fnInfo();clearTimeout(this.s.stateTO);this.s.stateTO=setTimeout(function(){h.s.dt.oApi._fnSaveState(h.s.dt)},250);if(g<this.s.redrawTop||g>this.s.redrawBottom){var f=((this.s.displayBuffer-1)/2)*this.s.viewportRows;i=parseInt(g/this.s.rowHeight,10)-f;if(i<0){i=0}else{if(i+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()){i=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength;if(i<0){i=0}}else{if(i%2!==0){i++}}}if(i!=this.s.dt._iDisplayStart){this.s.tableTop=e(this.s.dt.nTable).offset().top;this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;if(this.s.dt.oFeatures.bServerSide){clearTimeout(this.s.drawTO);this.s.drawTO=setTimeout(function(){h.s.dt._iDisplayStart=i;h.s.dt.oApi._fnCalculateEnd(h.s.dt);h.s.dt.oApi._fnDraw(h.s.dt)},this.s.serverWait)}else{this.s.dt._iDisplayStart=i;this.s.dt.oApi._fnCalculateEnd(this.s.dt);this.s.dt.oApi._fnDraw(this.s.dt)}if(this.s.trace){console.log("Scroll forcing redraw - top DT render row: "+i)}}}},_fnDrawCallback:function(){var h=this,f=this.dom.scroller.scrollTop,i=f+this.s.viewportHeight;this.dom.force.style.height=(this.s.rowHeight*this.s.dt.fnRecordsDisplay())+"px";var g=(this.s.rowHeight*this.s.dt._iDisplayStart);if(this.s.dt._iDisplayStart===0){g=0}else{if(this.s.dt._iDisplayStart===this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength){g=this.s.rowHeight*this.s.dt._iDisplayStart}}this.dom.table.style.top=g+"px";this.s.tableTop=g;this.s.tableBottom=e(this.s.dt.nTable).height()+this.s.tableTop;this.s.redrawTop=f-((f-this.s.tableTop)*this.s.boundaryScale);this.s.redrawBottom=f+((this.s.tableBottom-i)*this.s.boundaryScale);if(this.s.trace){console.log("Table redraw. Table top: "+g+"px Table bottom: "+this.s.tableBottom+" Scroll boundary top: "+this.s.redrawTop+" Scroll boundary bottom: "+this.s.redrawBottom+" Rows drawn: "+this.s.dt._iDisplayLength)}setTimeout(function(){h._fnInfo.call(h)},0);if(this.s.dt.oFeatures.bStateSave&&this.s.dt.oLoadedState!==null&&typeof this.s.dt.oLoadedState.iScroller!="undefined"){if((this.s.dt.sAjaxSource!==null&&this.s.dt.iDraw==2)||(this.s.dt.sAjaxSource===null&&this.s.dt.iDraw==1)){setTimeout(function(){e(h.dom.scroller).scrollTop(h.s.dt.oLoadedState.iScroller);h.s.redrawTop=h.s.dt.oLoadedState.iScroller-(h.s.viewportHeight/2)},0)}}},_fnCalcRowHeight:function(){var g=this.s.dt.nTable.cloneNode(false);var f=e('<div class="'+this.s.dt.oClasses.sWrapper+' DTS"><div class="'+this.s.dt.oClasses.sScrollWrapper+'"><div class="'+this.s.dt.oClasses.sScrollBody+'"></div></div></div>')[0];e(g).append("<tbody><tr><td>&nbsp;</td></tr></tbody>");e("div."+this.s.dt.oClasses.sScrollBody,f).append(g);b.body.appendChild(f);this.s.rowHeight=e("tbody tr",g).outerHeight();b.body.removeChild(f)},_fnInfo:function(){if(!this.s.dt.oFeatures.bInfo){return}var g=this.s.dt,o=this.dom.scroller.scrollTop,f=this.fnPixelsToRow(o)+1,p=g.fnRecordsTotal(),t=g.fnRecordsDisplay(),q=this.fnPixelsToRow(o+e(this.dom.scroller).height()),x=t<q?t:q,h=g.fnFormatNumber(f),m=g.fnFormatNumber(x),v=g.fnFormatNumber(p),u=g.fnFormatNumber(t),s;if(g.fnRecordsDisplay()===0&&g.fnRecordsDisplay()==g.fnRecordsTotal()){s=g.oLanguage.sInfoEmpty+g.oLanguage.sInfoPostFix}else{if(g.fnRecordsDisplay()===0){s=g.oLanguage.sInfoEmpty+" "+g.oLanguage.sInfoFiltered.replace("_MAX_",v)+g.oLanguage.sInfoPostFix}else{if(g.fnRecordsDisplay()==g.fnRecordsTotal()){s=g.oLanguage.sInfo.replace("_START_",h).replace("_END_",m).replace("_TOTAL_",u)+g.oLanguage.sInfoPostFix}else{s=g.oLanguage.sInfo.replace("_START_",h).replace("_END_",m).replace("_TOTAL_",u)+" "+g.oLanguage.sInfoFiltered.replace("_MAX_",g.fnFormatNumber(g.fnRecordsTotal()))+g.oLanguage.sInfoPostFix}}}var l=g.aanFeatures.i;if(typeof l!="undefined"){for(var r=0,j=l.length;r<j;r++){e(l[r]).html(s)}}}};c.oDefaults={trace:false,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:0.5,loadingIndicator:false};c.prototype.CLASS="Scroller";c.VERSION="1.1.0";c.prototype.VERSION=c.VERSION;if(typeof e.fn.dataTable=="function"&&typeof e.fn.dataTableExt.fnVersionCheck=="function"&&e.fn.dataTableExt.fnVersionCheck("1.9.0")){e.fn.dataTableExt.aoFeatures.push({fnInit:function(h){var g=(typeof h.oInit.oScroller=="undefined")?{}:h.oInit.oScroller;var f=new c(h,g);return f.dom.wrapper},cFeature:"S",sFeature:"Scroller"})}else{alert("Warning: Scroller requires DataTables 1.9.0 or greater - www.datatables.net/download")}e.fn.dataTable.Scroller=c})(jQuery,window,document);(function(b){b.widget("ui.multiselect",{options:{sortable:true,searchable:true,doubleClickable:true,animated:"fast",show:"slideDown",hide:"slideUp",dividerLocation:0.6,availableFirst:false,nodeComparator:function(d,c){var f=d.text(),e=c.text();return f==e?0:(f<e?-1:1)}},_create:function(){this.element.hide();this.id=this.element.attr("id");this.container=b('<div class="ui-multiselect ui-helper-clearfix ui-widget"></div>').insertAfter(this.element);this.count=0;this.selectedContainer=b('<div class="selected"></div>').appendTo(this.container);this.availableContainer=b('<div class="available"></div>')[this.options.availableFirst?"prependTo":"appendTo"](this.container);this.selectedActions=b('<div class="actions ui-widget-header ui-helper-clearfix"><span class="count">0 '+b.ui.multiselect.locale.itemsCount+'</span><a href="#" class="remove-all">'+b.ui.multiselect.locale.removeAll+"</a></div>").appendTo(this.selectedContainer);this.availableActions=b('<div class="actions ui-widget-header ui-helper-clearfix"><input type="text" class="search empty ui-widget-content ui-corner-all"/><a href="#" class="add-all">'+b.ui.multiselect.locale.addAll+"</a></div>").appendTo(this.availableContainer);this.selectedList=b('<ul class="selected connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return false}).appendTo(this.selectedContainer);this.availableList=b('<ul class="available connected-list"><li class="ui-helper-hidden-accessible"></li></ul>').bind("selectstart",function(){return false}).appendTo(this.availableContainer);var c=this;this.container.width(this.element.width()+1);this.selectedContainer.width(Math.floor(this.element.width()*this.options.dividerLocation));this.availableContainer.width(Math.floor(this.element.width()*(1-this.options.dividerLocation)));this.selectedList.height(Math.max(this.element.height()-this.selectedActions.height(),1));this.availableList.height(Math.max(this.element.height()-this.availableActions.height(),1));if(!this.options.animated){this.options.show="show";this.options.hide="hide"}this._populateLists(this.element.find("option"));if(this.options.sortable){this.selectedList.sortable({placeholder:"ui-state-highlight",axis:"y",update:function(d,e){c.selectedList.find("li").each(function(){if(b(this).data("optionLink")){b(this).data("optionLink").remove().appendTo(c.element)}})},receive:function(d,e){e.item.data("optionLink").attr("selected",true);c.count+=1;c._updateCount();c.selectedList.children(".ui-draggable").each(function(){b(this).removeClass("ui-draggable");b(this).data("optionLink",e.item.data("optionLink"));b(this).data("idx",e.item.data("idx"));c._applyItemState(b(this),true)});setTimeout(function(){e.item.remove()},1)}})}if(this.options.searchable){this._registerSearchEvents(this.availableContainer.find("input.search"))}else{b(".search").hide()}this.container.find(".remove-all").click(function(){c._populateLists(c.element.find("option").removeAttr("selected"));return false});this.container.find(".add-all").click(function(){var d=c.element.find("option").not(":selected");if(c.availableList.children("li:hidden").length>1){c.availableList.children("li").each(function(e){if(b(this).is(":visible")){b(d[e-1]).attr("selected","selected")}})}else{d.attr("selected","selected")}c._populateLists(c.element.find("option"));return false})},destroy:function(){this.element.show();this.container.remove();b.Widget.prototype.destroy.apply(this,arguments)},_populateLists:function(d){this.selectedList.children(".ui-element").remove();this.availableList.children(".ui-element").remove();this.count=0;var e=this;var c=b(d.map(function(f){var g=e._getOptionNode(this).appendTo(this.selected?e.selectedList:e.availableList).show();if(this.selected){e.count+=1}e._applyItemState(g,this.selected);g.data("idx",f);return g[0]}));this._updateCount();e._filter.apply(this.availableContainer.find("input.search"),[e.availableList])},_updateCount:function(){this.element.trigger("change");this.selectedContainer.find("span.count").text(this.count+" "+b.ui.multiselect.locale.itemsCount)},_getOptionNode:function(c){c=b(c);var d=b('<li class="ui-state-default ui-element" title="'+c.text()+'"><span class="ui-icon"/>'+c.text()+'<a href="#" class="action"><span class="ui-corner-all ui-icon"/></a></li>').hide();d.data("optionLink",c);return d},_cloneWithData:function(d){var c=d.clone(false,false);c.data("optionLink",d.data("optionLink"));c.data("idx",d.data("idx"));return c},_setSelected:function(m,f){m.data("optionLink").attr("selected",f);if(f){var e=this._cloneWithData(m);m[this.options.hide](this.options.animated,function(){b(this).remove()});e.appendTo(this.selectedList).hide()[this.options.show](this.options.animated);this._applyItemState(e,true);return e}else{var h=this.availableList.find("li"),c=this.options.nodeComparator;var j=null,g=m.data("idx"),l=c(m,b(h[g]));if(l){while(g>=0&&g<h.length){l>0?g++:g--;if(l!=c(m,b(h[g]))){j=h[l>0?g:g+1];break}}}else{j=h[g]}var d=this._cloneWithData(m);j?d.insertBefore(b(j)):d.appendTo(this.availableList);m[this.options.hide](this.options.animated,function(){b(this).remove()});d.hide()[this.options.show](this.options.animated);this._applyItemState(d,false);return d}},_applyItemState:function(d,c){if(c){if(this.options.sortable){d.children("span").addClass("ui-icon-arrowthick-2-n-s").removeClass("ui-helper-hidden").addClass("ui-icon")}else{d.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon")}d.find("a.action span").addClass("ui-icon-minus").removeClass("ui-icon-plus");this._registerRemoveEvents(d.find("a.action"))}else{d.children("span").removeClass("ui-icon-arrowthick-2-n-s").addClass("ui-helper-hidden").removeClass("ui-icon");d.find("a.action span").addClass("ui-icon-plus").removeClass("ui-icon-minus");this._registerAddEvents(d.find("a.action"))}this._registerDoubleClickEvents(d);this._registerHoverEvents(d)},_filter:function(g){var d=b(this);var f=g.children("li"),c=f.map(function(){return b(this).text().toLowerCase()});var e=b.trim(d.val().toLowerCase()),h=[];if(!e){f.show()}else{f.hide();c.each(function(j){if(this.indexOf(e)>-1){h.push(j)}});b.each(h,function(){b(f[this]).show()})}},_registerDoubleClickEvents:function(c){if(!this.options.doubleClickable){return}c.dblclick(function(d){if(b(d.target).closest(".action").length===0){c.find("a.action").click()}})},_registerHoverEvents:function(c){c.removeClass("ui-state-hover");c.mouseover(function(){b(this).addClass("ui-state-hover")});c.mouseout(function(){b(this).removeClass("ui-state-hover")})},_registerAddEvents:function(d){var c=this;d.click(function(){var e=c._setSelected(b(this).parent(),true);c.count+=1;c._updateCount();return false});if(this.options.sortable){d.each(function(){b(this).parent().draggable({connectToSortable:c.selectedList,helper:function(){var e=c._cloneWithData(b(this)).width(b(this).width()-50);e.width(b(this).width());return e},appendTo:c.container,containment:c.container,revert:"invalid"})})}},_registerRemoveEvents:function(d){var c=this;d.click(function(){c._setSelected(b(this).parent(),false);c.count-=1;c._updateCount();return false})},_registerSearchEvents:function(c){var d=this;c.focus(function(){b(this).addClass("ui-state-active")}).blur(function(){b(this).removeClass("ui-state-active")}).keypress(function(f){if(f.keyCode==13){return false}}).keyup(function(){d._filter.apply(this,[d.availableList])})}});b.extend(b.ui.multiselect,{locale:{addAll:"Add all",removeAll:"Remove all",itemsCount:"items selected"}})})(jQuery);"use strict";(function(h){function ab(Y,Z,X){var T=0,W=[],P=0,S,R,V,U,Q,N,K,M,C=!1,G=[],D=[],L,z=!1,O=!1,B=-1;X=X||{};S=X.encoding||"UTF8";L=X.numRounds||1;if(L!==parseInt(L,10)||1>L){throw Error("numRounds must a integer >= 1")}if("SHA-1"===Y){Q=512,N=E,K=f,U=160,M=function(c){return c.slice()}}else{if(0===Y.lastIndexOf("SHA-",0)){if(N=function(e,t){return A(e,t,Y)},K=function(e,aw,y,av){var t,aa;if("SHA-224"===Y||"SHA-256"===Y){t=(aw+65>>>9<<4)+15,aa=16}else{if("SHA-384"===Y||"SHA-512"===Y){t=(aw+129>>>10<<5)+31,aa=32}else{throw Error("Unexpected error in SHA-2 implementation")}}for(;e.length<=t;){e.push(0)}e[aw>>>5]|=128<<24-aw%32;aw=aw+y;e[t]=aw&4294967295;e[t-1]=aw/4294967296|0;y=e.length;for(aw=0;aw<y;aw+=aa){av=A(e.slice(aw,aw+aa),av,Y)}if("SHA-224"===Y){e=[av[0],av[1],av[2],av[3],av[4],av[5],av[6]]}else{if("SHA-256"===Y){e=av}else{if("SHA-384"===Y){e=[av[0].a,av[0].b,av[1].a,av[1].b,av[2].a,av[2].b,av[3].a,av[3].b,av[4].a,av[4].b,av[5].a,av[5].b]}else{if("SHA-512"===Y){e=[av[0].a,av[0].b,av[1].a,av[1].b,av[2].a,av[2].b,av[3].a,av[3].b,av[4].a,av[4].b,av[5].a,av[5].b,av[6].a,av[6].b,av[7].a,av[7].b]}else{throw Error("Unexpected error in SHA-2 implementation")}}}}return e},M=function(c){return c.slice()},"SHA-224"===Y){Q=512,U=224}else{if("SHA-256"===Y){Q=512,U=256}else{if("SHA-384"===Y){Q=1024,U=384}else{if("SHA-512"===Y){Q=1024,U=512}else{throw Error("Chosen SHA variant is not supported")}}}}}else{if(0===Y.lastIndexOf("SHA3-",0)||0===Y.lastIndexOf("SHAKE",0)){var H=6;N=J;M=function(e){var c=[],t;for(t=0;5>t;t+=1){c[t]=e[t].slice()}return c};B=1;if("SHA3-224"===Y){Q=1152,U=224}else{if("SHA3-256"===Y){Q=1088,U=256}else{if("SHA3-384"===Y){Q=832,U=384}else{if("SHA3-512"===Y){Q=576,U=512}else{if("SHAKE128"===Y){Q=1344,U=-1,H=31,O=!0}else{if("SHAKE256"===Y){Q=1088,U=-1,H=31,O=!0}else{throw Error("Chosen SHA variant is not supported")}}}}}}K=function(aC,aB,az,aA,aw){az=Q;var aa=H,ax,av=[],t=az>>>5,y=0,ay=aB>>>5;for(ax=0;ax<ay&&aB>=az;ax+=t){aA=J(aC.slice(ax,ax+t),aA),aB-=az}aC=aC.slice(ax);for(aB%=az;aC.length<t;){aC.push(0)}ax=aB>>>3;aC[ax>>2]^=aa<<ax%4*8;aC[t-1]^=2147483648;for(aA=J(aC,aA);32*av.length<aw;){aC=aA[y%5][y/5|0];av.push(aC.b);if(32*av.length>=aw){break}av.push(aC.a);y+=1;0===64*y%az&&J(null,aA)}return av}}else{throw Error("Chosen SHA variant is not supported")}}}V=x(Z,S,B);R=ac(Y);this.setHMACKey=function(e,y,aa){var t;if(!0===C){throw Error("HMAC key already set")}if(!0===z){throw Error("Cannot set HMAC key after calling update")}if(!0===O){throw Error("SHAKE is not supported for HMAC")}S=(aa||{}).encoding||"UTF8";y=x(y,S,B)(e);e=y.binLen;y=y.value;t=Q>>>3;aa=t/4-1;if(t<e/8){for(y=K(y,e,0,ac(Y),U);y.length<=aa;){y.push(0)}y[aa]&=4294967040}else{if(t>e/8){for(;y.length<=aa;){y.push(0)}y[aa]&=4294967040}}for(e=0;e<=aa;e+=1){G[e]=y[e]^909522486,D[e]=y[e]^1549556828}R=N(G,R);T=Q;C=!0};this.update=function(t){var e,aw,y,av=0,aa=Q>>>5;e=V(t,W,P);t=e.binLen;aw=e.value;e=t>>>5;for(y=0;y<e;y+=aa){av+Q<=t&&(R=N(aw.slice(y,y+aa),R),av+=Q)}T+=av;W=aw.slice(av>>>5);P=t%Q;z=!0};this.getHash=function(y,ay){var aa,av,ax,t;if(!0===C){throw Error("Cannot call getHash after setting HMAC key")}ax=v(ay);if(!0===O){if(-1===ax.shakeLen){throw Error("shakeLen must be specified in options")}U=ax.shakeLen}switch(y){case"HEX":aa=function(c){return u(c,U,B,ax)};break;case"B64":aa=function(c){return s(c,U,B,ax)};break;case"BYTES":aa=function(c){return r(c,U,B)};break;case"ARRAYBUFFER":try{av=new ArrayBuffer(0)}catch(aw){throw Error("ARRAYBUFFER not supported by this environment")}aa=function(c){return q(c,U,B)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}t=K(W.slice(),P,T,M(R),U);for(av=1;av<L;av+=1){!0===O&&0!==U%32&&(t[t.length-1]&=16777215>>>24-U%32),t=K(t,U,0,ac(Y),U)}return aa(t)};this.getHMAC=function(t,ay){var aa,av,ax,aw;if(!1===C){throw Error("Cannot call getHMAC without first setting HMAC key")}ax=v(ay);switch(t){case"HEX":aa=function(c){return u(c,U,B,ax)};break;case"B64":aa=function(c){return s(c,U,B,ax)};break;case"BYTES":aa=function(c){return r(c,U,B)};break;case"ARRAYBUFFER":try{aa=new ArrayBuffer(0)}catch(y){throw Error("ARRAYBUFFER not supported by this environment")}aa=function(c){return q(c,U,B)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}av=K(W.slice(),P,T,M(R),U);aw=N(D,ac(Y));aw=K(av,U,Q,aw,U);return aa(aw)}}function at(c,e){this.a=c;this.b=e}function u(t,y,H,B){var D="";y/=8;var G,z,C;C=-1===H?3:0;for(G=0;G<y;G+=1){z=t[G>>>2]>>>8*(C+G%4*H),D+="0123456789abcdef".charAt(z>>>4&15)+"0123456789abcdef".charAt(z&15)}return B.outputUpper?D.toUpperCase():D}function s(K,L,H,B){var G="",y=L/8,z,D,t,C;C=-1===H?3:0;for(z=0;z<y;z+=3){for(D=z+1<y?K[z+1>>>2]:0,t=z+2<y?K[z+2>>>2]:0,t=(K[z>>>2]>>>8*(C+z%4*H)&255)<<16|(D>>>8*(C+(z+1)%4*H)&255)<<8|t>>>8*(C+(z+2)%4*H)&255,D=0;4>D;D+=1){8*z+6*D<=L?G+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t>>>6*(3-D)&63):G+=B.b64Pad}}return G}function r(t,y,G){var B="";y/=8;var D,C,z;z=-1===G?3:0;for(D=0;D<y;D+=1){C=t[D>>>2]>>>8*(z+D%4*G)&255,B+=String.fromCharCode(C)}return B}function q(t,y,D){y/=8;var z,C=new ArrayBuffer(y),B;B=-1===D?3:0;for(z=0;z<y;z+=1){C[z]=t[z>>>2]>>>8*(B+z%4*D)&255}return C}function v(c){var e={outputUpper:!1,b64Pad:"=",shakeLen:-1};c=c||{};e.outputUpper=c.outputUpper||!1;!0===c.hasOwnProperty("b64Pad")&&(e.b64Pad=c.b64Pad);if(!0===c.hasOwnProperty("shakeLen")){if(0!==c.shakeLen%8){throw Error("shakeLen must be a multiple of 8")}e.shakeLen=c.shakeLen}if("boolean"!==typeof e.outputUpper){throw Error("Invalid outputUpper formatting option")}if("string"!==typeof e.b64Pad){throw Error("Invalid b64Pad formatting option")}return e}function x(e,t,z){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":e=function(M,L,K){var G=M.length,D,B,H,C,c,N;if(0!==G%2){throw Error("String of HEX type must be in byte increments")}L=L||[0];K=K||0;c=K>>>3;N=-1===z?3:0;for(D=0;D<G;D+=2){B=parseInt(M.substr(D,2),16);if(isNaN(B)){throw Error("String of HEX type contains invalid characters")}C=(D>>>1)+c;for(H=C>>>2;L.length<=H;){L.push(0)}L[H]|=B<<8*(N+C%4*z)}return{value:L,binLen:4*G+K}};break;case"TEXT":e=function(N,M,L){var H,G,C=0,K,D,B,O,c,P;M=M||[0];L=L||0;B=L>>>3;if("UTF8"===t){for(P=-1===z?3:0,K=0;K<N.length;K+=1){for(H=N.charCodeAt(K),G=[],128>H?G.push(H):2048>H?(G.push(192|H>>>6),G.push(128|H&63)):55296>H||57344<=H?G.push(224|H>>>12,128|H>>>6&63,128|H&63):(K+=1,H=65536+((H&1023)<<10|N.charCodeAt(K)&1023),G.push(240|H>>>18,128|H>>>12&63,128|H>>>6&63,128|H&63)),D=0;D<G.length;D+=1){c=C+B;for(O=c>>>2;M.length<=O;){M.push(0)}M[O]|=G[D]<<8*(P+c%4*z);C+=1}}}else{if("UTF16BE"===t||"UTF16LE"===t){for(P=-1===z?2:0,K=0;K<N.length;K+=1){H=N.charCodeAt(K);"UTF16LE"===t&&(D=H&255,H=D<<8|H>>>8);c=C+B;for(O=c>>>2;M.length<=O;){M.push(0)}M[O]|=H<<8*(P+c%4*z);C+=2}}}return{value:M,binLen:8*C+L}};break;case"B64":e=function(N,M,L){var H=0,G,C,K,D,B,O,c,P;if(-1===N.search(/^[a-zA-Z0-9=+\/]+$/)){throw Error("Invalid character in base-64 string")}C=N.indexOf("=");N=N.replace(/\=/g,"");if(-1!==C&&C<N.length){throw Error("Invalid '=' found in base-64 string")}M=M||[0];L=L||0;O=L>>>3;P=-1===z?3:0;for(C=0;C<N.length;C+=4){B=N.substr(C,4);for(K=D=0;K<B.length;K+=1){G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(B[K]),D|=G<<18-6*K}for(K=0;K<B.length-1;K+=1){c=H+O;for(G=c>>>2;M.length<=G;){M.push(0)}M[G]|=(D>>>16-8*K&255)<<8*(P+c%4*z);H+=1}}return{value:M,binLen:8*H+L}};break;case"BYTES":e=function(M,L,K){var G,D,B,H,C,c;L=L||[0];K=K||0;B=K>>>3;c=-1===z?3:0;for(D=0;D<M.length;D+=1){G=M.charCodeAt(D),C=D+B,H=C>>>2,L.length<=H&&L.push(0),L[H]|=G<<8*(c+C%4*z)}return{value:L,binLen:8*M.length+K}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(y){throw Error("ARRAYBUFFER not supported by this environment")}e=function(D,B,L){var G,C,K,H,c;B=B||[0];L=L||0;C=L>>>3;c=-1===z?3:0;for(G=0;G<D.byteLength;G+=1){H=G+C,K=H>>>2,B.length<=K&&B.push(0),B[K]|=D[G]<<8*(c+H%4*z)}return{value:B,binLen:8*D.byteLength+L}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return e}function am(c,e){return c<<e|c>>>32-e}function p(c,e){return 32<e?(e-=32,new at(c.b<<e|c.a>>>32-e,c.a<<e|c.b>>>32-e)):0!==e?new at(c.a<<e|c.b>>>32-e,c.b<<e|c.a>>>32-e):c}function ao(c,e){return c>>>e|c<<32-e}function aq(c,e){var t=null,t=new at(c.a,c.b);return t=32>=e?new at(t.a>>>e|t.b<<32-e&4294967295,t.b>>>e|t.a<<32-e&4294967295):new at(t.b>>>e-32|t.a<<64-e&4294967295,t.a>>>e-32|t.b<<64-e&4294967295)}function o(c,e){var t=null;return t=32>=e?new at(c.a>>>e,c.b>>>e|c.a<<32-e&4294967295):new at(0,c.a>>>e-32)}function ad(e,t,y){return e&t^~e&y}function au(c,e,t){return new at(c.a&e.a^~c.a&t.a,c.b&e.b^~c.b&t.b)}function n(e,t,y){return e&t^e&y^t&y}function ai(c,e,t){return new at(c.a&e.a^c.a&t.a^e.a&t.a,c.b&e.b^c.b&t.b^e.b&t.b)}function ae(c){return ao(c,2)^ao(c,13)^ao(c,22)}function b(c){var e=aq(c,28),t=aq(c,34);c=aq(c,39);return new at(e.a^t.a^c.a,e.b^t.b^c.b)}function aj(c){return ao(c,6)^ao(c,11)^ao(c,25)}function af(c){var e=aq(c,14),t=aq(c,18);c=aq(c,41);return new at(e.a^t.a^c.a,e.b^t.b^c.b)}function d(c){return ao(c,7)^ao(c,18)^c>>>3}function ak(c){var e=aq(c,1),t=aq(c,8);c=o(c,7);return new at(e.a^t.a^c.a,e.b^t.b^c.b)}function ag(c){return ao(c,17)^ao(c,19)^c>>>10}function g(c){var e=aq(c,19),t=aq(c,61);c=o(c,6);return new at(e.a^t.a^c.a,e.b^t.b^c.b)}function I(e,t){var y=(e&65535)+(t&65535);return((e>>>16)+(t>>>16)+(y>>>16)&65535)<<16|y&65535}function an(e,t,B,y){var z=(e&65535)+(t&65535)+(B&65535)+(y&65535);return((e>>>16)+(t>>>16)+(B>>>16)+(y>>>16)+(z>>>16)&65535)<<16|z&65535}function F(t,y,D,z,C){var B=(t&65535)+(y&65535)+(D&65535)+(z&65535)+(C&65535);return((t>>>16)+(y>>>16)+(D>>>16)+(z>>>16)+(C>>>16)+(B>>>16)&65535)<<16|B&65535}function ah(c,t){var z,y,B;z=(c.b&65535)+(t.b&65535);y=(c.b>>>16)+(t.b>>>16)+(z>>>16);B=(y&65535)<<16|z&65535;z=(c.a&65535)+(t.a&65535)+(y>>>16);y=(c.a>>>16)+(t.a>>>16)+(z>>>16);return new at((y&65535)<<16|z&65535,B)}function l(c,t,B,z){var C,D,y;C=(c.b&65535)+(t.b&65535)+(B.b&65535)+(z.b&65535);D=(c.b>>>16)+(t.b>>>16)+(B.b>>>16)+(z.b>>>16)+(C>>>16);y=(D&65535)<<16|C&65535;C=(c.a&65535)+(t.a&65535)+(B.a&65535)+(z.a&65535)+(D>>>16);D=(c.a>>>16)+(t.a>>>16)+(B.a>>>16)+(z.a>>>16)+(C>>>16);return new at((D&65535)<<16|C&65535,y)}function ap(c,y,C,B,D){var G,z,t;G=(c.b&65535)+(y.b&65535)+(C.b&65535)+(B.b&65535)+(D.b&65535);z=(c.b>>>16)+(y.b>>>16)+(C.b>>>16)+(B.b>>>16)+(D.b>>>16)+(G>>>16);t=(z&65535)<<16|G&65535;G=(c.a&65535)+(y.a&65535)+(C.a&65535)+(B.a&65535)+(D.a&65535)+(z>>>16);z=(c.a>>>16)+(y.a>>>16)+(C.a>>>16)+(B.a>>>16)+(D.a>>>16)+(G>>>16);return new at((z&65535)<<16|G&65535,t)}function al(c){var t=0,z=0,y;for(y=0;y<arguments.length;y+=1){t^=arguments[y].b,z^=arguments[y].a}return new at(z,t)}function ac(c){var t=[],y;if("SHA-1"===c){t=[1732584193,4023233417,2562383102,271733878,3285377520]}else{if(0===c.lastIndexOf("SHA-",0)){switch(t=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],y=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],c){case"SHA-224":break;case"SHA-256":t=y;break;case"SHA-384":t=[new at(3418070365,t[0]),new at(1654270250,t[1]),new at(2438529370,t[2]),new at(355462360,t[3]),new at(1731405415,t[4]),new at(41048885895,t[5]),new at(3675008525,t[6]),new at(1203062813,t[7])];break;case"SHA-512":t=[new at(y[0],4089235720),new at(y[1],2227873595),new at(y[2],4271175723),new at(y[3],1595750129),new at(y[4],2917565137),new at(y[5],725511199),new at(y[6],4215389547),new at(y[7],327033209)];break;default:throw Error("Unknown SHA variant")}}else{if(0===c.lastIndexOf("SHA3-",0)||0===c.lastIndexOf("SHAKE",0)){for(c=0;5>c;c+=1){t[c]=[new at(0,0),new at(0,0),new at(0,0),new at(0,0),new at(0,0)]}}else{throw Error("No SHA variants supported")}}}return t}function E(K,L){var H=[],D,G,y,B,z,t,C;D=L[0];G=L[1];y=L[2];B=L[3];z=L[4];for(C=0;80>C;C+=1){H[C]=16>C?K[C]:am(H[C-3]^H[C-8]^H[C-14]^H[C-16],1),t=20>C?F(am(D,5),G&y^~G&B,z,1518500249,H[C]):40>C?F(am(D,5),G^y^B,z,1859775393,H[C]):60>C?F(am(D,5),n(G,y,B),z,2400959708,H[C]):F(am(D,5),G^y^B,z,3395469782,H[C]),z=B,B=y,y=am(G,30),G=D,D=t}L[0]=I(D,L[0]);L[1]=I(G,L[1]);L[2]=I(y,L[2]);L[3]=I(B,L[3]);L[4]=I(z,L[4]);return L}function f(t,y,C,z){var B;for(B=(y+65>>>9<<4)+15;t.length<=B;){t.push(0)}t[y>>>5]|=128<<24-y%32;y+=C;t[B]=y&4294967295;t[B-1]=y/4294967296|0;y=t.length;for(B=0;B<y;B+=16){z=E(t.slice(B,B+16),z)}return z}function A(az,aA,aa){var aw,ay,X,av,Z,W,ax,Y,U,N,S,P,L,K,G,c,V,H,M,T,R,Q,O=[],e;if("SHA-224"===aa||"SHA-256"===aa){N=64,P=1,Q=Number,L=I,K=an,G=F,c=d,V=ag,H=ae,M=aj,R=n,T=ad,e=ar}else{if("SHA-384"===aa||"SHA-512"===aa){N=80,P=2,Q=at,L=ah,K=l,G=ap,c=ak,V=g,H=b,M=af,R=ai,T=au,e=m}else{throw Error("Unexpected error in SHA-2 implementation")}}aa=aA[0];aw=aA[1];ay=aA[2];X=aA[3];av=aA[4];Z=aA[5];W=aA[6];ax=aA[7];for(S=0;S<N;S+=1){16>S?(U=S*P,Y=az.length<=U?0:az[U],U=az.length<=U+1?0:az[U+1],O[S]=new Q(Y,U)):O[S]=K(V(O[S-2]),O[S-7],c(O[S-15]),O[S-16]),Y=G(ax,M(av),T(av,Z,W),e[S],O[S]),U=L(H(aa),R(aa,aw,ay)),ax=W,W=Z,Z=av,av=L(X,Y),X=ay,ay=aw,aw=aa,aa=L(Y,U)}aA[0]=L(aa,aA[0]);aA[1]=L(aw,aA[1]);aA[2]=L(ay,aA[2]);aA[3]=L(X,aA[3]);aA[4]=L(av,aA[4]);aA[5]=L(Z,aA[5]);aA[6]=L(W,aA[6]);aA[7]=L(ax,aA[7]);return aA}function J(c,y){var C,B,D,G,z=[],t=[];if(null!==c){for(B=0;B<c.length;B+=2){y[(B>>>1)%5][(B>>>1)/5|0]=al(y[(B>>>1)%5][(B>>>1)/5|0],new at(c[B+1],c[B]))}}for(C=0;24>C;C+=1){G=ac("SHA3-");for(B=0;5>B;B+=1){z[B]=al(y[B][0],y[B][1],y[B][2],y[B][3],y[B][4])}for(B=0;5>B;B+=1){t[B]=al(z[(B+4)%5],p(z[(B+1)%5],1))}for(B=0;5>B;B+=1){for(D=0;5>D;D+=1){y[B][D]=al(y[B][D],t[B])}}for(B=0;5>B;B+=1){for(D=0;5>D;D+=1){G[D][(2*B+3*D)%5]=p(y[B][D],j[B][D])}}for(B=0;5>B;B+=1){for(D=0;5>D;D+=1){y[B][D]=al(G[B][D],new at(~G[(B+1)%5][D].a&G[(B+2)%5][D].a,~G[(B+1)%5][D].b&G[(B+2)%5][D].b))}}y[0][0]=al(y[0][0],i[C])}return y}var ar,m,j,i;ar=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];m=[new at(ar[0],3609767458),new at(ar[1],602891725),new at(ar[2],3964484399),new at(ar[3],2173295548),new at(ar[4],4081628472),new at(ar[5],3053834265),new at(ar[6],2937671579),new at(ar[7],3664609560),new at(ar[8],2734883394),new at(ar[9],1164996542),new at(ar[10],1323610764),new at(ar[11],3590304994),new at(ar[12],4068182383),new at(ar[13],991336113),new at(ar[14],633803317),new at(ar[15],3479774868),new at(ar[16],2666613458),new at(ar[17],944711139),new at(ar[18],2341262773),new at(ar[19],2007800933),new at(ar[20],1495990901),new at(ar[21],1856431235),new at(ar[22],3175218132),new at(ar[23],2198950837),new at(ar[24],3999719339),new at(ar[25],766784016),new at(ar[26],2566594879),new at(ar[27],3203337956),new at(ar[28],1034457026),new at(ar[29],2466948901),new at(ar[30],3758326383),new at(ar[31],168717936),new at(ar[32],1188179964),new at(ar[33],1546045734),new at(ar[34],1522805485),new at(ar[35],2643833823),new at(ar[36],2343527390),new at(ar[37],1014477480),new at(ar[38],1206759142),new at(ar[39],344077627),new at(ar[40],1290863460),new at(ar[41],3158454273),new at(ar[42],3505952657),new at(ar[43],106217008),new at(ar[44],3606008344),new at(ar[45],1432725776),new at(ar[46],1467031594),new at(ar[47],851169720),new at(ar[48],3100823752),new at(ar[49],1363258195),new at(ar[50],3750685593),new at(ar[51],3785050280),new at(ar[52],3318307427),new at(ar[53],3812723403),new at(ar[54],2003034995),new at(ar[55],3602036899),new at(ar[56],1575990012),new at(ar[57],1125592928),new at(ar[58],2716904306),new at(ar[59],442776044),new at(ar[60],593698344),new at(ar[61],3733110249),new at(ar[62],2999351573),new at(ar[63],3815920427),new at(3391569614,3928383900),new at(3515267271,566280711),new at(3940187606,3454069534),new at(4118630271,4000239992),new at(116418474,1914138554),new at(174292421,2731055270),new at(289380356,3203993006),new at(460393269,320620315),new at(685471733,587496836),new at(852142971,1086792851),new at(1017036298,365543100),new at(1126000580,2618297676),new at(1288033470,3409855158),new at(1501505948,4234509866),new at(1607167915,987167468),new at(1816402316,1246189591)];i=[new at(0,1),new at(0,32898),new at(2147483648,32906),new at(2147483648,2147516416),new at(0,32907),new at(0,2147483649),new at(2147483648,2147516545),new at(2147483648,32777),new at(0,138),new at(0,136),new at(0,2147516425),new at(0,2147483658),new at(0,2147516555),new at(2147483648,139),new at(2147483648,32905),new at(2147483648,32771),new at(2147483648,32770),new at(2147483648,128),new at(0,32778),new at(2147483648,2147483658),new at(2147483648,2147516545),new at(2147483648,32896),new at(0,2147483649),new at(2147483648,2147516424)];j=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];"function"===typeof define&&define.amd?define(function(){return ab}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=ab),exports=ab):h.jsSHA=ab})(this);(function(c){var b=function(d){this.message=d};b.prototype=new Error;b.prototype.name="InvalidCharacterError";c.btoa=c.btoa||function(j){var i="",f;if(/[^\x00-\xFF]/.test(j)){throw new b("String contains an invalid character")}else{for(var e=0;e<j.length;e+=3){f=[0];for(var d=0;d<3;d++){var g=((e+d)<j.length)?j.charCodeAt(e+d):null;f[d]|=g>>((d)*2);f[d]=f[d]>>2;if(g!==null){f[d+1]=(g<<(8-((d+1)*2))&255);if(d===2){f[d+1]=f[d+1]>>2}}else{f[2]=(j.length-e===1)?null:f[2];f[3]=null;break}}for(var h=0;h<4;h++){f[h]=(f[h]===null)?61:(f[h]<26)?f[h]+65:(f[h]<52)?f[h]+71:(f[h]<62)?f[h]-4:(f[h]===62)?43:47;i+=String.fromCharCode(f[h])}}}return i};c.atob=c.atob||function(i){var h="",f;if(/[^A-Za-z0-9+\/=]/.test(i)){throw new b("String contains an invalid character")}else{while(i.length%4){i+="="}for(var e=0;e<i.length;e+=4){f=[0];for(var d=0;d<4;d++){var g=i.charCodeAt(e+d);g=((g&95)===g)?g-65:(g===61)?null:(g===43)?62:(g===47)?63:((g&63)===g)?g+4:((g&127)===g)?g-71:null;g=(g===null)?null:g<<((d+1)*2);if((d)&&(f[d-1]!==null)){f[d-1]|=((g&65280)>>8)}f[d]=(g===null)?null:(g&255)}h+=String.fromCharCode(f[0]);h+=(f[2]===null)?"":String.fromCharCode(f[1]);h+=(f[3]===null)?"":String.fromCharCode(f[2])}}return h}})(window);